<?xml version="1.0" encoding="UTF-8"?>
<!-- For standalone validation, uncomment the following DOCTYPE declaration. -->
<!-- DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"> "file:../docs/docbookx/docbookx.dtd" -->
<article id="qsg2-ru" lang="ru">
  <articleinfo>
    <title>Начинаем работать с Firebird 2</title>

    <titleabbrev>Firebird 2: быстрый старт</titleabbrev>

    <authorgroup>
      <corpauthor>Редакторы IBPhoenix</corpauthor>

      <corpauthor>Члены проекта Firebird</corpauthor>
    </authorgroup>

    <edition>15 октября 2006 – документ версии 3.3</edition>

    <othercredit class="translator">
      <firstname>Александр</firstname>

      <surname>Карпейкин</surname>

      <contrib>Перевод документа на русский язык</contrib>
    </othercredit>

    <edition>10 февраля 2007 – Версия документа 3.3-ru</edition>
  </articleinfo>

  <section id="qsg2-about-ru">
    <title>Об этом руководстве</title>

    <para>Данное руководство представляет собой введение в основы СУБД Firebird.
    Материал, изложенный в статье <quote>Начинаем работать с Firebird</quote>
    (<quote>Firebird Quick Start Guide</quote>), изначально появился как
    первая глава руководства <quote>Использование Firebird</quote> (<quote>Using
    Firebird</quote>), распространяемого на компакт-дисках
    компанией IBPhoenix. Впоследствии он был опубликован в сети Интернет в
    виде отдельного документа. В июне 2004 года IBPhoenix пожертвовала данное
    руководство проекту Firebird. С этого момента оно поддерживается и
    регулярно обновляется участниками проекта "Документация Firebird".</para>

    <important>
      <para>Убедитесь, что используемая Вами версия Firebird соответствует
      описываемой в этом руководстве. В данном тексте рассматриваются версия
      2. Если Вы используете Firebird версий 1.0 или 1.5, воспользуйтесь
      соответствующей версией руководства Quick Start Guide, которую можно
      найти по ссылке <ulink
      url="http://www.firebirdsql.org/manual/">http://www.firebirdsql.org/manual/</ulink>
      (HTML) или <ulink
      url="http://www.firebirdsql.org/pdfmanual/">http://www.firebirdsql.org/pdfmanual/</ulink>
      (PDF).</para>
    </important>
  </section>

  <section id="qsg2-kit-contents-ru">
    <title><indexterm class="singular" scope="local">
        <primary>Установка</primary>

        <secondary>содержимое набора</secondary>
      </indexterm>Что в комплекте?</title>

    <para>Каждый из пакетов содержит все необходимые компоненты для установки
    и/или настройки сервера Firebird:</para>

    <itemizedlist>
      <listitem>
        <para>Исполняемые файлы сервера Firebird.</para>
      </listitem>

      <listitem>
        <para>Клиентская библиотека, устанавливаемая на серверной машине.</para>
      </listitem>

      <listitem>
        <para>Утилиты командной строки.</para>
      </listitem>

      <listitem>
        <para>Стандартные библиотеки пользовательских функций (user-defined
        function - UDF).</para>
      </listitem>

      <listitem>
        <para>Файл с учебной базой данных (БД).</para>
      </listitem>

      <listitem>
        <para>Заголовочные файлы языка C (не требуются для
        начинающего!).</para>
      </listitem>

      <listitem>
        <para>Замечания к выпускам (Release notes) – Обязательно для
        прочтения!</para>
      </listitem>
    </itemizedlist>
  </section>

  <section id="qsg2-classic-or-super-ru">
    <title><indexterm class="singular" scope="local">
        <primary>Установка</primary>

        <secondary>Classic или Superserver</secondary>
      </indexterm><indexterm class="singular" scope="local">
        <primary>Classic Server</primary>
      </indexterm><indexterm class="singular" scope="local">
        <primary>Superserver</primary>
      </indexterm>Classic или Superserver?</title>

    <para>СУБД Firebird выпускается в двух вариантах, так называемых архитектурах:
    Classic Server и Superserver. Какую архитектуру установить и использовать Вам -
    зависит от вашей ситуации. Основные
    различия представлены в приведённой ниже таблице.</para>

    <table>
      <title>Firebird 2 Classic Server и Superserver</title>

      <tgroup cols="3">
        <colspec colname="col-feature" colwidth="*" />

        <colspec colname="col-classic" colwidth="2*" />

        <colspec colname="col-super" colwidth="2*" />

        <thead>
          <row>
            <entry></entry>

            <entry align="center"><para>Classic Server</para></entry>

            <entry align="center"><para>Superserver</para></entry>
          </row>
        </thead>

        <tbody>
          <row valign="top">
            <entry><para><emphasis>Процессы</emphasis></para></entry>

            <entry><para>Для каждого клиентского соединения создаётся
            отдельный процесс со своим кэшем. С уменьшением количества
            соединений используется меньше ресурсов.</para></entry>

            <entry><para>Один процесс на все соединения, этот процесс использует потоки
            для каждого клиентского подключения. Общий разделяемый кэш. Более
            эффективен при большом числе соединений.</para></entry>
          </row>

          <row valign="top">
            <entry morerows="1"><para><emphasis>Локальное
            соединение</emphasis></para></entry>

            <entry><para>Разрешён прямой доступ к файлам БД при локальном
            подключении под операционной системой (ОС) Linux. Для этого
            клиентский процесс должен иметь права доступа к файлам БД на
            уровне разрешений файловой системы.</para></entry>

            <entry><para>Под ОС Linux все локальные подключения работают через
            сетевой доступ, используя <systemitem
            class="systemname">localhost</systemitem> (часто неявным образом).
            Только серверный процесс должен иметь права доступа к файлам
            БД.</para></entry>
          </row>

          <row valign="top">
            <entry align="center" nameend="col-super"
            namest="col-classic"><para>Под ОС Windows обе архитектуры теперь
            поддерживают безопасное и надёжное локальное подключение, и только
            серверный процесс должен иметь права доступа к файлам
            БД.</para></entry>
          </row>

          <row valign="top">
            <entry><para><emphasis>Многопроцессорность</emphasis></para></entry>

            <entry><para>Поддержка SMP (symmetrical multi-processor -
            симметричной многопроцессорности). Улучшение характеристик при
            небольшом количестве соединений без влияния их друг на друга.
            (<emphasis>Примечания переводчика: 1. Classic Server обеспечивает
            повышенную устойчивость работы сервера - каждое соединение
            работает автономно и его крах не приводит к падению сервера. 2. В
            общем случае Classic Server может обеспечить большое число
            соединений без потери производительности - всё зависит от объёма
            ОЗУ на сервере и количетва одновременных подключений к базе
            данных. Средний объём памяти, выделяемый на процесс, равен
            произведению числа выделенных страниц под кэш (параметр
            DefaultDbCachePages в конфигурационном файле
            <filename>firebird.conf</filename> или заданный в самой базе
            данных) на размер страницы базы данных. В случае выполнения
            достаточно сложных запросов память, выделяемая процессу, может
            увеличиваться, но после выполнения запроса её объём уменьшается до
            среднего значения.)</emphasis></para></entry>

            <entry><para>SMP не поддерживается. На многопроцессорных
            компьютерах с операционной системой Windows характеристики сервера
            могут существенно ухудшаться из-за постоянного переключения
            серверного процесса между процессорами (CPU). Для предотвращения
            этого необходимо привязать процесс сервера к одному из процессоров
            с помощью настройки параметра
            <parameter>CpuAffinityMask</parameter> в конфигурационном файле
            <filename>firebird.conf</filename>.</para></entry>
          </row>

          <row valign="top">
            <entry><para><emphasis>Утилита
            Guardian</emphasis></para><para><emphasis>(Только для ОС
            Windows)</emphasis></para></entry>

            <entry><!--REMOVE ROW WHEN THIS IS FIXED--><para>При запуске
            сервера как приложения (а не как службы) вы не можете использовать
            утилиту Firebird под названием Guardian (хранитель). Отметим, что запуск сервера Firebird как
            приложения является только опцией для ОС Windows 9x–ME.
            (<emphasis>Примечание переводчика: Запуск сервера как приложения
            удобен для тестирования нескольких серверов на машине
            разработчика</emphasis>.)</para></entry>

            <entry><para>Может использоваться при запуске сарвера и как
            приложения, и как службы.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>Как мы видим, ни одна из архитектур не является лучше другой во всех
    отношениях. Это не удивительно: мы не стали бы поддерживать две различные
    архитектуры, если бы одна из них проигрывала другой во всех
    отношениях.</para>

    <para>Если Вы всё ещё не уверены, какую архитектуру выбрать (может быть Вы
    считаете эти технические подробности слишком сложными), используйте
    правило большого пальца:</para>

    <itemizedlist spacing="compact">
      <listitem>
        <para>под ОС Windows выбирайте архитектуру Superserver.</para>
      </listitem>

      <listitem>
        <para>под ОС Linux выберите любую архитектуру. В большистве случаев Вы
        не увидите разницы в характеристиках работы сервера.</para>
      </listitem>
    </itemizedlist>

    <para>Заметим, что Вы можете перейти к другой архитектуре сервера позже -
    Ваши приложения и БД будут работать также, как и раньше.</para>

    <para>Для ОС Linux и архитектуры Superserver загрузите пакет, начинающийся
    с <literal>FirebirdSS</literal>, а для Classic - с
    <literal>FirebirdCS</literal>. Для ОС Windows используется объединённый пакет
    инсталляции, и вы выбираете архитектуру сервера в процессе
    установки.</para>

    <note>
      <para>Мы не были полностью честны с вами. Firebird имеет третий вариант:
      Встраиваемый сервер, но это - полностью другое "животное", и оно не
      предназначено для Ваших обычных клиент-серверных задач. Более детально
      это описано в замечаниях к выпускам (Release Notes).</para>
    </note>
  </section>

  <section id="qsg2-disk-locations-ru">
    <title><indexterm>
        <primary>Расположение на диске</primary>
      </indexterm>Каталог установки по умолчанию</title>

    <para>В приведённой ниже таблице приведены каталоги установки компонентов
    сервера для ОС Windows и Linux.</para>

    <para><!--64-битные приложения на 64-битной ОС Windows устанавливаются в директорию "Program Files".--><!--32-битные приложения на 64-битной ОС Windows устанавливаются в директорию "Program Files (x86)".--><!--Для Win64 ОС, директория System32 зарезервирована для 64-битных библиотек!
32-битные библиотеки перемещены в каталог SysWOW64--></para>

    <!--In order not to clutter the table, let's introduce the Program Dir and System Dir concepts
first, and explain what happens on 64-bit systems. Also mention that the Program Dir need not
be on C:
В таблице используются <ProgramFiles> и <SystemDir>.-->

    <!--Отметим, что в настоящее время нет 64-битной версии сервера -->

    <!--Firebird для ОС Windows.-->

    <table frame="all" id="qsg2-tbl-firebird-components-ru"
           xreflabel="Таблица компонетов, устанавливаемых с сервером Firebird">
      <title>Устанавливаемые компоненты сервера Firebird 2</title>

      <tgroup cols="4">
        <colspec align="left" colname="col-platform" colwidth="2*" />

        <colspec align="left" colname="col-component" colwidth="3*" />

        <colspec align="left" colname="col-filename" colwidth="3*" />

        <colspec align="left" colname="col-location" colwidth="3*" />

        <thead>
          <row>
            <entry><para>Платформа</para></entry>

            <entry><para>Компоненты</para></entry>

            <entry><para>Имя файла</para></entry>

            <entry><para>Каталог по умолчанию</para></entry>
          </row>
        </thead>

        <tbody valign="top">
          <row>
            <entry morerows="7"><para>32-битная и 64-битная ОС
            Windows</para><para>(Windows 95, 98, ME, NT, 2000, XP, 2003,...)</para></entry>

            <entry><para>Папка установки</para><para>(определённая далее
            как <varname>&lt;InstallDir&gt;</varname>)</para></entry>

            <entry>—</entry>

            <entry><para><filename class="directory">C:\Program
            Files\Firebird\Firebird_2_0</filename></para></entry>
          </row>

          <row>
            <entry><para>Замечания к выпускам и другая
            документация</para></entry>

            <entry><para>Файлы документации</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\doc</filename></para></entry>
          </row>

          <row>
            <entry><para>Сервер Firebird</para></entry>

            <entry><para><filename>fbserver.exe</filename> (Super Server) или
            <filename>fb_inet_server.exe</filename> (Classic
            Server)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Утилиты командной строки</para></entry>

            <entry><para><filename>isql.exe</filename>,
            <filename>gbak.exe</filename>, <filename>nbackup.exe</filename>,
            <filename>gsec.exe</filename>, <filename>gfix.exe</filename>,
            <filename>gstat.exe</filename>, другие утилиты.</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Учебная БД</para></entry>

            <entry><para><filename>employee.fdb</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\examples\empbuild</filename></para></entry>
          </row>

          <row>
            <entry><para>Библиотеки пользовательских функций
            (UDF)</para></entry>

            <entry><para><filename class="libraryfile">ib_udf.dll</filename>,
            <filename class="libraryfile">fbudf.dll</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\UDF</filename></para></entry>
          </row>

          <row>
            <entry><para>Дополнительные билиотеки сервера</para></entry>

            <entry><para><filename class="libraryfile">icu*.dll</filename>,
            <filename
            class="libraryfile">ib_util.dll</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Клиентская библиотека</para></entry>

            <entry><para><filename
            class="libraryfile">fbclient.dll</filename></para><para>(опционально
            вместе с <filename class="libraryfile">gds32.dll</filename> для поддержки
            существующих приложений)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para><para>(опционально
            с копированием в системную директорию ОС Windows – смотрите
            замечания к таблице)</para></entry>
          </row>

          <row>
            <entry morerows="7"><para>Linux и другие UNIX-совместимые
            ОС</para></entry>

            <entry><para>Директория
            установки</para><para>(<varname>&lt;InstallDir&gt;</varname>)</para></entry>

            <entry>—</entry>

            <entry><para><filename
            class="directory">/opt/firebird</filename></para></entry>
          </row>

          <row>
            <entry><para>Замечания к выпускам и другая
            документация</para></entry>

            <entry><para>Файлы документации</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/doc</filename></para></entry>
          </row>

          <row>
            <entry><para>Сервер Firebird</para></entry>

            <entry><para><filename>fbserver</filename> (Super Server) или
            <filename>fb_inet_server</filename> (Classic
            Server)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Утилиты командной строки</para></entry>

            <entry><para><filename>isql</filename>, <filename>gbak</filename>,
            <filename>nbackup</filename>, <filename>gsec</filename>,
            <filename>gfix</filename>, <filename>gstat</filename>, другие
            утилиты.</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Учебная БД</para></entry>

            <entry><para><filename>employee.fdb</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/examples/empbuild</filename></para></entry>
          </row>

          <row>
            <entry><para>Библиотеки пользовательских функций
            (UDF)</para></entry>

            <entry><para><filename class="libraryfile">ib_udf.so</filename>,
            <filename class="libraryfile">fbudf.so</filename> </para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/UDF</filename></para></entry>
          </row>

          <row>
            <entry><para>Дополнительные билиотеки сервера</para></entry>

            <entry><para><filename class="libraryfile">libicu*.so</filename>,
            <filename
            class="libraryfile">libib_util.so</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Клиентская библиотека</para></entry>

            <entry><para><filename
            class="libraryfile">libfbclient.so.2.<replaceable>m</replaceable>.<replaceable>n</replaceable></filename>
            (сетевой клиент)</para><para><filename
            class="libraryfile">libfbembed.so.2.<replaceable>m</replaceable>.<replaceable>n</replaceable></filename>
            (локальный клиент вместе со встроенным сервером, только Classic
            Server)</para><para>Создаются символические
            ссылки (<filename class="symlink">*.so.2</filename>,
            <filename class="symlink">*.so</filename>). Для
            совместимости также создаются ссылки <filename
            class="symlink">libgds.*</filename>.</para></entry>

            <entry><para><filename
            class="directory">/usr/lib</filename></para><para>(на самом деле, 
            располагается в директории <filename
            class="directory">&lt;InstallDir&gt;/lib</filename>, но Вы должны
            использовать ссылки из директории <filename
            class="directory">/usr/lib</filename>)</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <note>
      <para>Путь к системной папке ОС Windows зависит от её версии.
      Обычно он такой:</para>

      <itemizedlist spacing="compact">
        <listitem>
          <para>для ОС Windows 95/98/ME: <filename
          class="directory">C:\Windows\System</filename></para>
        </listitem>

        <listitem>
          <para>для ОС Windows NT/2000: <filename
          class="directory">C:\WINNT\System32</filename></para>
        </listitem>

        <listitem>
          <para>для ОС Windows XP: <filename
          class="directory">C:\Windows\System32</filename></para>
        </listitem>
      </itemizedlist>
    </note>
  </section>

  <section id="qsg2-installing-ru">
    <title><indexterm>
        <primary>Установка</primary>
      </indexterm>Установка Firebird</title>

    <para>Ниже приведены инструкции по установке сервера Firebird под ОС
    Windows и Linux, которые, в большинстве случаев, позволяют успешно провести
    установку. Однако, если у вас возникли проблемы при установке или у вас есть
    специальные требования, вам необходимо прочитать раздел "INSTALLATION NOTES"
    ("Замечания по установке") в замечаниях к выпуску (Release Notes). Это особенно важно при
    обновлении с предыдущей версии сервера или в случае миграции с ещё более
    старой (может быть, очень древней) версии сервера InterBase или
    Firebird - необходимо удалить из вашей ОС старые библиотеки, почистить
    реестр, обновить переменные окружения ОС и т.п.</para>

    <section id="qsg2-installing-server-ru">
      <title><indexterm>
          <primary>Установка</primary>

          <secondary>сервер</secondary>
        </indexterm>Установка сервера Firebird</title>

      <section>
        <title><indexterm>
            <primary>Установка</primary>

            <secondary>диски</secondary>
          </indexterm>Диск для установки</title>

        <para>Сервер Firebird и любая из создаваемых БД должны располагаться
        на жёстком диске, физически присутствующем на сервере, равно как и
        любое создаваемое подключение к БД должно ссылаться на него. Вы не
        можете располагать компонеты сервера или любую БД на сетевом
        диске, разделяемом (shared) каталоге файловой системы или в
        сетевой файловой системе.</para>

        <note>
          <para>Вы можете ссылаться на БД, имеющую атрибут <quote>только для
          чтения</quote> (read-only) и располагающуюся на
          диске CD-ROM привода, но не можете запускать с этого диска сервер
          Firebird.</para>
        </note>
      </section>

      <section>
        <title><indexterm>
            <primary>Установка</primary>

            <secondary>скрипт или программа</secondary>
          </indexterm>Установочный скрипт или программа</title>

        <para>Хотя возможна установка сервера Firebird методом простого копирования
        файлов из архива, например, промежуточной сборки (snapshot
        build) или структуированного архива <filename
        class="extension">.zip</filename>, но мы настоятельно
        рекомендуем использовать для установки программу установки
        (<filename>.exe</filename> для ОС Windows, <filename>.rpm</filename>
        для ОС Linux), особенно при первой Вашей установке сервера Firebird.
        Программа инсталляции сервера для ОС Windows, пакет
        <application>rpm</application> для ОС Linux и скрипт
        <filename>install.sh</filename> для различных платформ ОС POSIX
        сконфигурированы и предназначены для установки сервера Firebird.
        Правильно выполняя инструкции и замечания по установке, Вы сможете
        быстро и полностью завршить установку сервера и приступить к работе с
        ним.</para>
      </section>

      <section>
        <title>Установка на ОС Windows</title>

        <para>Программа установки обеспечивает выбор архитектуры сервера при установке
        - Superserver или Classic Server. Обе архитектуры сервера являются
        работоспособными и стабильными, и нет причин для категорического выбора
        одной из них, если Вы, конечно, не имеете на это особых причин.</para>

        <para>При установке сервера на ОС Windows 95/98/ME в опциях установки укажите,
        что не нужно устанавливать апплет в Панель Управления - он не работает в указанных ОС
        (смотрите ссылку по использованию апплета ниже). (Замечание: эта опция
        доступна только для архитектуры Superserver).</para>

        <para>Для серверных ОС Windows NT, 2000, 2003 и XP сервер Firebird по
        умолчанию устанавливается как системная служба, но в процессе установки
        Вы можете выбрать опцию запуска сервера как приложения. Несерверные
        ОС Windows – 95, 98 и ME - не поддерживают службы, и сервер на них
        всегда работает как приложение.</para>

        <section>
          <title><indexterm>
              <primary>Guardian</primary>
            </indexterm><indexterm>
              <primary>Firebird Guardian</primary>
            </indexterm>Использовать ли утилиту Guardian?</title>

          <para>Утилита Guardian - это утилита контроля серверного процесса и
          его перезапуска в случае аварийного завершения. Эта программа не работает
          с архитектурой Classic Server в случае запуска сервера как
          приложения (это известно разработчикам и позднее будет исправлено).
          Программа установки Firebird 2 не включает в себя опцию установки утилиты Guardian
          в архитектуре Classic Server, за исключением установки его как
          службы. (<emphasis>Примечание переводчика: В архитектуре Classic
          Server процесс сервера отвечает только за создание новых соединений
          с БД, а не за работу с ней, поэтому в общем случае установка
          утилиты Guardian в данной архитектуре не обязательна.</emphasis>)</para>

          <!--The problem is that the 2.0 Guardian looks for fbserver.exe. In 1.5.3 it's already fixed;
needs to be ported to 2.0. Silly workaround: rename the CS binary to fbserver.exe-->

          <para>В архитектуре Superserver утилита Guardian работает при запуске
          сервера и как службы, и как приложения.</para>

          <para>При работе сервера как службы под ОС Windows 2000, 2003 или XP
          Guardian менее необходим, поскольку ОС сама может следить за работой
          службы, и в случае необходимости перезапускать её. Мы рекомендуем
          использовать опцию установки утилиты Guardian (если она доступна) во всех
          случаях.</para>
        </section>
      </section>

      <section>
        <title>Установка на Linux и других Unix-совместимых ОС</title>

        <para>В первую очередь, изучите материалы из замечаний к выпуску (release notes),
        которые поставляются в пакете Firebird (разделы <citetitle>Installation
        Notes</citetitle> [<citetitle>Замечания по установке</citetitle>] и
        <citetitle>Posix Platforms</citetitle> [<citetitle>Платформы Posix</citetitle>]
        указанного документа). Процесс установки для различных Posix ОС и в
        зависимости от их версий может значительно различаться, особенно если ОС
        построена на открытом исходном коде. Когда возможно, члены команды Firebird,
        отвечающие за программы установки для разных версий ОС, постарались
        описать все известные проблемы.</para>

        <para>Если вы используете ОС Linux, поддерживающую установку из пакетов
        <application>rpm</application> (RPM Package
        Manager), прочитайте документацию ОС об использовании
        менеджера пакетов RPM. В этом случае в большинстве ОС вы можете выбрать установку
        из командной строки или с использованием визуального интерфейса
        (GUI).</para>

        <para>Для ОС Linux и Unix, не поддерживающих пакеты <application>rpm</application>,
        используйте файл <filename class="extension">.tar.gz</filename>. Подробные
        инструкции есть в замечаниях к выпуску.</para>

        <para>В большинстве случаев имеются скрипты (командные файлы)
        установки, а в замечаниях к выпуску может быть описано, как вам нужно его
        изменить для успешной установки.</para>
      </section>
    </section>

    <section id="qsg2-installing-multiple-ru">
      <title>Установка нескольких серверов</title>

      <para>Можно установить несколько серверов Firebird 2 на один компьютер.
      Он также может работать совместно с другими серверами - Firebird 1.x или
      InterBase. Описание настройки сервера для этого выходит за рамки этого
      документа. Если вы хотите установить несколько серверов на одном
      компьютере, прочитайте главу <citetitle>Installation Notes</citetitle>
      (<citetitle>Замечания по установке</citetitle>)
      замечаний к выпуску, а также имейте под рукой замечания к выпуску для
      Firebird 1.5 - в определенный момент вам надо будет обратиться и к ним.</para>
    </section>

    <section id="qsg2-installing-testing-ru">
      <title><indexterm>
          <primary>Проверка</primary>
        </indexterm>Проверка работы после установки</title>

      <para>После успешной установки запускается серверный процесс Firebird на
      компьютере-сервере. Он также автоматически запускается после перезапуска
      компьютера.</para>

      <para>До проверки работоспособности сервера Firebird необходимо проверить доступность
      компьютера-сервера для всех клиентов. Далее предполагается, что Вы
      используете рекомендуемый сетевой протокол TCP/IP для соединений
      клиент-сервер.</para>

      <note>
        <title>Замечание</title>

        <itemizedlist>
          <listitem>
            <para dir="lro" role="">Если вы установили Classic Server на ОС
            Linux/Unix или любую из архитектур сервера Firebird на ОС Windows,
            у вас есть возможность прямого соединения c локальным сервером без
            использования сетевого окружения. Если вы будете использовать
            сервер Firebird <emphasis role="bold">только</emphasis> с этим
            типом соединений, то можете пропустить раздел "Опрос (ping)
            сервера".</para>
          </listitem>

          <listitem>
            <para>Для информации об использовании протокола NetBEUI в ОС
            Windows, прочитайте главу в руководстве <citetitle>Использование Firebird</citetitle>
            (<citetitle>Using Firebird</citetitle>) от IBPhoenix или
            <citetitle>Руководство по работе</citetitle> (<citetitle>Operations Guide</citetitle>)
            из набора документации InterBase 6 (<ulink
            url="http://www.ibphoenix.com/downloads/60OpGuide.zip">http://www.ibphoenix.com/downloads/60OpGuide.zip</ulink>).</para>
          </listitem>

          <listitem>
            <para>Firebird не поддерживает сети с протоколами IPX/SPX.</para>
          </listitem>
        </itemizedlist>
      </note>

      <section>
        <title><indexterm>
            <primary>Ping</primary>
          </indexterm>Опрос (ping) сервера</title>

        <para>Команда <command>ping</command>, доступная в
        большинстве ОС, - это быстрый и простой способ проверить подключение
        компьютера-сервера к сети. Например, если IP-адрес Вашего сервера в
        домене виден клиентам как <systemitem
        class="ipaddress">192.13.14.1</systemitem>, наберите в командной
        строке на клиентской машине команду:</para>

        <para><command>ping 192.13.14.1</command></para>

        <para>для проверки видимости в сети IP-адреса сервера, по которому он
        должен отправлять пакеты. Если Вы являетесь пользователем и не знаете
        IP-адреса сервера, спросите об этом у системного администратора. Также
        можно осуществить опрос сервера по его имени, например так:</para>

        <blockquote>
          <para><command>ping vercingetorix</command></para>
        </blockquote>

        <para>Если вы соединяетесь с сервером как локальный клиент, то есть
        клиент работает на одном компьютере с сервером, вы можете опрашивать
        виртуальный TCP/IP адрес сервера (ссылающейся сам на себя -
        loopback):</para>

        <blockquote>
          <para><command>ping localhost</command> –или– <command>ping
          127.0.0.1</command></para>
        </blockquote>

        <para>Если у вас простая сеть из двух компьютеров, соединённых между
        собой кросс кабелем, вы можете назначить серверу любой IP-адрес, за
        исключением 127.0.0.1 (он зарезервирован для loopback) и, конечно, IP-адреса
        клиентской машины. Если вы знаете <quote>родные</quote> (от
        производителя) IP-адреса сетевых карт и они различны,
        то их также можно использовать.</para>

        <para>После успешной проверки доступности сервера для клиентов, можно
        переходить к следующему шагу.</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Проверка сервера</primary>
          </indexterm>Проверка работы сервера Firebird</title>

        <para>После установки сервер Firebird должен работать:</para>

        <variablelist>
          <varlistentry>
            <term>На Linux и других Unix-совместимых ОС:</term>

            <listitem>
              <para>Как сервис.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>На серверных ОС Windows (NT, 2000, 2003, XP):</term>

            <listitem>
              <para>Как сервис или как приложение. По умолчанию как сервис,
              что настоятельно рекомендуется.</para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>На не серверных ОС Windows (95, 98, ME):</term>

            <listitem>
              <para>Как приложение.</para>
            </listitem>
          </varlistentry>
        </variablelist>

        <para>Следующий раздел описывает проверку работы сервера во всех этих
        случаях.</para>

        <section>
          <title>Проверка сервера: ОС Linux и другие ОС Unix</title>

          <para><indexterm>
              <primary>команда top (Linux)</primary>
            </indexterm><indexterm>
              <primary>Guardian</primary>
            </indexterm></para>

          <para>Используйте команду <command>top</command> в командной строке
          для интерактивной проверки работы процессов. Если работает Firebird
          Superserver, Вы должны увидеть процесс с именем <systemitem
          class="process">fbguard</systemitem> - это
          процесс утилиты Guardian. Далее Вы должны увидеть один главный и ни одного или
          несколько дочерних процессов с именем <systemitem
          class="process">fbserver</systemitem>.</para>

          <para>Ниже показана информация, выводимая командой
          <application>top</application> на экран, ограниченная командой
          <application>grep</application> для показа только строк,
          содержащих символы <literal>fb</literal>:</para>

          <screen>frodo:/inkomend/firebird # top -b -n1 | grep fb
 2587 firebird  24   0  1232 1232 1028 S  0.0  0.3   0:00.00 fbguard
 2588 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.04 fbserver
 2589 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2604 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2605 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.02 fbserver
 2606 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2607 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver</screen>

          <para>В качестве альтернативы можно использовать команды <command>ps
          -ax</command> или <command>ps -aux</command>, ограничив вывод
          командой <application>grep</application>.</para>

          <para>Для Classic Server процессы называются <systemitem
          class="process">fb_inet_server</systemitem>. Для каждого работающего
          сетевого подключения создаётся отдельный процесс. Отметим, что при
          отсутствии активных сетевых подключений или в случае прямых
          локальных соединений, вы не увидите <systemitem
          class="process">fb_inet_server</systemitem> в списке процессов -
          будет присутствовать только процесс <systemitem
          class="process">fb_lock_mgr</systemitem></systemitem>, работающий в
          режиме ожидания, и предназначенный для осуществления соединений к
          Classic Server.</para>

          <para>Другими способами проверки работы сервера сразу после
          установки являются соединение с БД, создание БД и работа с утилитой
          <application>gsec</application>. Все эти операции описаны в данном
          руководстве далее.</para>
        </section>

        <section>
          <title>Проверка сервера: ОС Windows, работает как сервис</title>

          <para>Откройте Панель управления -&gt; Службы (NT) или Панель
          управления -&gt; Администрирование -&gt; Службы (2000, XP).</para>

          <para><indexterm>
              <primary>Службы (Windows)</primary>
            </indexterm></para>

          <para>Этот рисунок показывает оснастку Службы в ОС Windows 2000.
          Внешний вид может отличаться для различных версий ОС Windows. Также
          могут меняться имена сервисов (служб) в зависимости от версии
          Firebird.</para>

          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="images/services-2.png"
                         format="PNG" />
            </imageobject>
          </mediaobject>

          <para>Вы можете найти сервер Firebird в списке служб. Утилита Guardian
          (хранитель) может быть не установлена или не работать в зависимости от выбора опций при
          установке.</para>
        </section>

        <section>
          <title>Проверка сервера: ОС Windows, работает как приложение</title>

          <para>Если сервер Firebird работает как приложение, вы увидите иконку
          в системном трее:</para>

          <itemizedlist spacing="compact">
            <listitem>
              <para>Зелёно-серого цвета, если сервер управляется
              утилитой Guardian;</para>
            </listitem>

            <listitem>
              <para>Жёлто-чёрного цвета при самостоятельной работе.</para>
            </listitem>
          </itemizedlist>

          <para>Мигающая иконка сигнализирует, что сервер в процессе запуска
          (или, по крайней мере, пытается запуститься). Красная иконка или иконка с красным крестом
          сообшает об ошибке запуска сервера.</para>

          <para>Уверенность на 100% в запуске сервера даёт присутствие процессов
          <systemitem class="process">fbserver</systemitem> или <systemitem
          class="process">fb_inet_server</systemitem> (и, возможно, <systemitem
          class="process">fbguard</systemitem>) в
          списке процессов менеджера задач - Task Manager (для его вызова
          нажмите одновременно клавиши Ctrl-Alt-Del).</para>

          <para>Иногда, даже если при установке вы выбрали опцию <quote>Запуск сервера
          Firebird</quote>, вам нужно будет один раз запустить утилиту Guardian или сервер через меню
          <quote>Пуск</quote>. Возможно, понадобится и перезапуск компьютера.</para>

          <para>Если вы отчаяно пытаетесь запустить сервер Firebird и вам кажется,
          что ничего не работает, то спросите себя, а не установили ли вы
          Firebird 2 Classic Server вместе с утилитой Guardian (сейчас программа установки не
          позволяет этого делать, но этого можно достичь другими способами)?
          Как говорилось выше комбинация Classic Server и Guardian теперь не
          работает в случае запуска сервера как приложения. При
          необходимости, удалите сервер и проведите повторную его
          установку в архитектуре Classic Server <emphasis>без</emphasis>
          утилиты Guardian или в архитектуре Superserver.</para>

          <para>Вы можете остановить работу сервера через команду меню,
          щёлкнув правой кнопкой мыши по иконке в системном трее. Отметим, что
          иконка при этом исчезает из трея, и повторный запуск сервера Firebird
          осуществляется через меню <quote>Пуск</quote>.</para>

          <note>
            <para>Под ОС Windows Classic Server запускает новый процесс для
            каждого соединения, то есть число процессов <systemitem
            class="process">fb_inet_server</systemitem> будет равно числу
            подключений клиентов плюс один. Остановка сервера через меню в
            трее прерывает работу только первого процесса
            (<firstterm>слушателя</firstterm>). Другие процессы (если они
            есть) продолжают нормально работать, и каждый из них завершается
            только после отсоединения (дисконекта) клиента от БД. Конечно при
            неработающем слушателе нельзя создать новые соединения к
            БД.</para>
          </note>

          <para>В архитектуре Superserver для контроля статуса сервера
          Firebird Вы также можете использовать апплет в Панели
          управления. Некоторые из доступных апплетов будут рассмотены в этом
          руководстве чуть позднее.</para>
        </section>
      </section>
    </section>

    <section id="qsg2-installing-client">
      <title><indexterm class="singular" scope="local">
          <primary>Инсталляция</primary>

          <secondary>только клиент</secondary>
        </indexterm>Установка клиента</title>

      <para>Каждый удалённый клиент должен иметь клиентскую библиотеку -
      <filename class="libraryfile">libfbclient.so</filename> для Posix
      клиентов, <filename class="libraryfile">fbclient.dll</filename> для
      Windows клиентов - с такой же релизной версией, что и у сервера
      Firebird.</para>

      <para>Начиная с версии Firebird 1.5 при необходимости можно установить
      символические ссылки или создать переименованные клиентские библиотеки
      (со "старым" именем от Intebase (gds32.dll)) для обеспечения
      совместимости со сторониими программами и компонентами.</para>

      <para>Для установки клиента могут понадобиться и другие файлы.</para>

      <section>
        <title>Windows</title>

        <para>В настоящее время нет специальной программы для установки только
        клиентской части сервера на компьютеры с ОС Windows. В общем случае
        для установки Windows клиента для сервера Firebird на Linux или Unix
        совместимой ОС (как и для Windows сервера) Вы должны скачать полный
        пакет установки сервера Firebird с версией, совпадающей с версией
        Вашего сервера.</para>

        <para>Однако установка клиента с помщью полного дистрибутива является
        очень простой. Вы должны просто запустить её и выбрать опцию установки
        только клиента в диалоговом окне установки. (Примечание переводчика: в
        общем случае достаточно скопировать файлы fbclient.dll (и/или её
        переименованной копии gds32.dll - для совместимости со старыми
        программами) и, при необходимости (в зависимости от версии ОС
        клиентской Windows) новых систмемных файлов Windows - )</para>
      </section>

      <section>
        <title>Linux и другие Posix клиенты</title>

        <para>В настоящее время нет специальной программы для установки Linux
        клиента. В дополнении к этому различные Posix клоны имеют разные
        требования по размещению клиента - пути в файловой системе. Именно по
        этому и нет специальной опции по установке толлько клиента под все ОС
        Uniх.</para>

        <para>Для большинства Linux ОС достаточно выполнить следующие операции
        (естественно, под пользователем root).</para>

        <procedure>
          <step>
            <para>Найдите файл <filename
            class="libraryfile">libfbclient.so.2.<replaceable>m.n</replaceable></filename>
            (<replaceable>m.n</replaceable> - это минорная и часть номера
            версии сервера) в папке <filename
            class="directory">/opt/firebird/lib</filename> на компьютере, где
            установлен сервер Firebird. Скопируйте его в папку <filename
            class="directory">/usr/lib</filename> на клиенте.</para>
          </step>

          <step>
            <para>Создайте символическую ссылку с помощью следующих
            команд:</para>

            <blockquote>
              <para><command>ln -s
              /usr/lib/libfbclient.so.2.<replaceable>m.n</replaceable>
              /usr/lib/libfbclient.so.2</command></para>

              <para><command>ln -s /usr/lib/libfbclient.so.2
              /usr/lib/libfbclient.so</command></para>
            </blockquote>

            <para>...заменив
            <varname><replaceable>2.m.n</replaceable></varname> в соотвествии
            с Вашей версией, т.е. <literal>2.0.0</literal> или
            <literal>2.1.0</literal></para>

            <para>Если у Вас есть программы, требующие старых названий
            клиентской библиотеки, создайте также следующие символические
            ссылки:</para>

            <blockquote>
              <para><command>ln -s /usr/lib/libfbclient.so
              /usr/lib/libgds.so.0</command></para>

              <para><command>ln -s /usr/lib/libfbclient.so
              /usr/lib/libgds.so</command></para>
            </blockquote>
          </step>

          <step>
            <para>Скопируйте файл <filename>firebird.msg</filename> на
            компьютер клиента, лучше в директорию <filename
            class="directory">/opt/firebird</filename>. При размещении
            директории по другому пути создайте системную переменную
            <envar>FIREBIRD</envar>, указывающую правильный путь, чтобы API
            могло найти файл с сообщениями.</para>
          </step>

          <step>
            <para>Опционально также скопируйте утилиты командной строки -
            такие как isql. <emphasis>Замечание:</emphasis> всегда копируйте
            утилиты из пакета установки Super Server, независимо от
            архитектуры сервера, к которому Вы собираетесь осуществлять
            подключение. Утилиты от дистрибутива Classic Server не
            работоспособны, если они не могут при запускне найти библиотеку
            <filename class="libraryfile">libfbembed (она не пригодна для
            сетевых подключений).</filename></para>
          </step>
        </procedure>

        <para>Вы можете также скопировать необходимые файлы из Firebird
        <filename class="extension">tar.gz пакета, а не с сервера. Вы должны
        только извлечь файлы в директорию /opt/firebird</filename>, а не по
        пути указанному в пакете установки.</para>
      </section>
    </section>
  </section>

  <section id="qsg2-config-ru">
    <title><indexterm>
        <primary>Конфигурация</primary>
      </indexterm><indexterm>
        <primary>Управление</primary>
      </indexterm>Конфигурация и администрирование сервера</title>

    <para>Есть несколько вещей, о которых Вы должны знать (и учитывать)
    прежде, чем Вы начнёте работать с установленным сервером Firebird. Эта
    часть руководства знакомит Вас однним из полезных инструментов и
    показывает Вам, как защитить ваш сервер и БД.</para>

    <section id="qsg2-config-gsec-ru">
      <title><indexterm>
          <primary>gsec</primary>
        </indexterm>Администрирование пользователей: gsec</title>

      <para>Для администрирования пользователей в Firebird предназначена
      утилита командной строки <firstterm>gsec</firstterm>. Эти функции
      доступны также GUU утилитах сторонних производителей, но Вы должны знать
      основы работы с утилитой <application>gsec, т. к. она устанавливается
      вместе с сервером Firebird. Далее рассматриваются две задачи: мзменение
      пароля SYSDBA и добавление пользователей Firebird. Обратим внимание на
      следующее:</application></para>

      <variablelist>
        <varlistentry>
          <term>Разрешение на работу с gsec</term>

          <listitem>
            <para>При обычной установке Firebird Вы имеете право на работу с
            утилитой gsec при входе в ОС как Superuser (root в Linux) или под
            учётной записью серверного процесса Firebird. Для ОС Windows
            обычно достаточно входить в группу "Подготовленный пользователь"
            или в группу с большими правами.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Проблемы при работе с gsec</term>

          <listitem>
            <para>Если Вы имеете права на работу с gsec, но выводистя
            сообщение вида <quote><computeroutput>cannot attach to password
            database - unable to open
            database</computeroutput></quote>:</para>

            <itemizedlist>
              <listitem>
                <para>Сервер Firebird запущен на ОС Windows и по каким-либо
                причинам не работает локальный протокол. Вы можете исправить
                эту проблему, использую протокол TCP/IP. Добавьте следующий
                параметр в командной строке, поправив при необходимости
                путь:</para>

                <blockquote>
                  <para><command>-database "localhost:C:\Program
                  Files\Firebird\Firebird_2_0\security2.fdb"</command></para>
                </blockquote>

                <para>Файл <filename>security2.fdb</filename> - это секретная
                БД , в которой Firebird хранит детальные данные о
                пользователях. Он находится в директории установки
                Firebird.</para>
              </listitem>

              <listitem>
                <para>Возможно Ваша секретная БД переименована из
                <filename>security.fdb</filename> от Firebird 1.5. Конечно,
                это невозможно сразу же после установки. Однако это может быть
                сделано (Вами?) для сохранения записей о существующих
                пользователях. Прочитайте замечания к релизу по вопросу об
                обновлении старой секретной БД.</para>
              </listitem>
            </itemizedlist>

            <para>Если Вы видите сообщение об ошибке
            <quote><computeroutput>Cannot attach to services
            manager</computeroutput></quote>, то сервер может не быть запущен
            - вернитесь к разделу <quote>Проверка работы после
            установки</quote> для устранения этой проблемы.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Работа с gsec в ОС Linux</term>

          <listitem>
            <para>В *nix ОС Вы должны запускать утилиту
            <application>gsec</application> из диретории её установки
            использую командную строку <command>./gsec</command>, а не
            <command>gsec</command>. Директория установки утилиты может не
            быть в списке путей поиска и тогда команда <command>gsec</command>
            может не работать.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <section>
        <title><indexterm>
            <primary>SYSDBA</primary>
          </indexterm><indexterm>
            <primary>Пароли</primary>

            <secondary>изменение</secondary>
          </indexterm>Изменение пароля <database>SYSDBA</database></title>

        <para>При установке сервера автоматически создаётся одна учётная
        запись пользователя: SYSDBA. Этот пользователь имеет все права доступа
        к серверу и не может быть удалён. В зависимости от версии, ОС и
        архитектуры действия инсталлятора могут быть различными:</para>

        <itemizedlist>
          <listitem>
            <para>Установка пароля пользователя SYSDBA как masterkey (на самом
            деле masterke: символы после 8-го игноируются);</para>
          </listitem>

          <listitem>
            <para>Запрос на ввод пароля при установке сервера;</para>
          </listitem>

          <listitem>
            <para>Генерация случайного пароля с сохранением его в файл
            <filename>SYSDBA.password</filename> в директории установки
            Firebird.</para>
          </listitem>
        </itemizedlist>

        <para>Если это пароль <literal>masterkey</literal> и Ваш сервер
        доступен всем в Internet или локальной сети, то Вы должны немедленно
        поменять его (Примечание переводчика: для безопасности Вашей БД Вы
        должны его поменять в любом случае). Для этого в командной строке
        перейдите в поддиректорию bin Firebird и в командной строке наберите
        следующую команду для смены пароля (в качестве примера новый пароль -
        <literal>icuryy4me</literal>):</para>

        <blockquote>
          <para><command>gsec -user sysdba -pass masterkey -mo sysdba -pw
          icuryy4me</command></para>
        </blockquote>

        <para>Отметим, что Вы дважды используете имя пользователя
        <quote>sysdba</quote> в командной строке:</para>

        <itemizedlist>
          <listitem>
            <para>В качестве параметра -user Вы определяете сами себя как
            <database>SYSDBA</database>. Вы также вводите текущий пароль
            <database>SYSDBA в качестве параметра -pass</database>.</para>
          </listitem>

          <listitem>
            <para>Параметр -mo[dify] сообщает утилите gsec, что Вы хотите
            модифицировать аккаунт пользователя SYSDBA. Наконец параметр
            <parameter>-pw</parameter> задаёт новый пароль.</para>
          </listitem>
        </itemizedlist>

        <para>Если всё прошло успешно, то новый пароль
        <literal>icuryy4me</literal> теперь зашифрован и сохранён, а старый
        пароль <literal>masterkey</literal> теперь недействителен.</para>

        <para>Пожалуйста помните, что любое имя пользователя Firebird и пароли
        регистрочувствительны.</para>
      </section>

      <section>
        <title>Добавление нового пользователя</title>

        <para><database>Firebird также позволяет создавать много различных
        аккаунтов пользователей. Каждый из них может быть владельцем БД и
        также может иметь различные типы доступа к БД и её объектам.
        </database></para>

        <para>Используя утилиту <application>gsec</application> Вы можете
        добавить нового пользователя из командной строки (из каталога
        <filename class="directory">bin</filename> директории установки
        Firebird)<filename class="directory">:</filename></para>

        <blockquote>
          <para><command>gsec -user sysdba -pass masterkey -add billyboy -pw
          sekrit66</command></para>
        </blockquote>

        <important>
          <para>Вы должны ввести правильный пароль для
          <database>SYSDBA</database>. В данном примере создаётся новый
          пользователь billyboy (параметр -add) с паролем
          <systemitem>sekrit66</systemitem> (параметр -pw).</para>
        </important>

        <note>
          <para>Начиная с версии Firebird 2 пользователи могут менять свой
          пароль (в предыдущих версиях это мог делать только пользователь
          <database>SYSDBA).</database></para>
        </note>
      </section>
    </section>

    <section id="qsg2-config-security-ru">
      <title><indexterm>
          <primary>Безопасность</primary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>безопасность</secondary>
        </indexterm>Безопасность</title>

      <para>Firebird 2 имеет несколько опций безопасности для запрета от
      неавторизованного доступа - насколько это возможно. Однако предупредим,
      что по умолчанию сервер сконфигурирован по старому 'небезопасному'
      профилю, унаследованному от InterBase и Firebird 1.0. Это сделано для
      совместимости со старыми приложениями.</para>

      <para>Имеется несколько параметров конфигурации, связанных с
      обеспечением безопасности Firebird. Вы можете значительно улучшить
      безопасномть Вашей системы, если увеличите уровень защиты везде, где это
      возможно. Это достигается не только с помощью параметров, но и включает
      в себя настройку разрешений доступа к файловой системе, настройкой
      политики учётных записей пользователей в ОС и другие методы.</para>

      <para>Ниже приведены основные методы по защите Вашего сервера Firebird и
      БД.</para>

      <variablelist>
        <varlistentry>
          <term>Запуск Firebird от имени специальной учётной записи
          (пользователя) не системного пользователя</term>

          <listitem>
            <para>Под Unix совместимыми ОС сервер Firebird по умолчанию уже
            запускается от имени ползователя <systemitem
            class="username">firebird</systemitem> , а не от имени <systemitem
            class="username">root</systemitem>. Под ОС Windows Вы также можете
            запускать сервис Firebird от специальной учётной записи (т. е.
            Firebird). Обычная практика - работа службы от пользователя
            <systemitem class="username">LocalSystem</systemitem> - для
            уменьшения риска, если Ваша система имеет подключение к Internet.
            Читайте об этом файле <filename>README.instsvc</filename> из
            субдиректории DOC.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><indexterm>
              <primary>SYSDBA</primary>
            </indexterm>Смена пароля <database>SYSDBA</database></term>

          <listitem>
            <para>Как уже говорилось выше, смените пароль SYSDBA (если он
            masterkey), если Ваш сервер Firebird работает в сети.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><indexterm>
              <primary>SYSDBA</primary>
            </indexterm>Не создавайте Ваши БД от имени пользователя
          SYSDBA</term>

          <listitem>
            <para>Аккаунт <database>SYSDBA</database> имеет неограниченные
            права по доступу к Вашим БД Firebird. Его пароль должен быть
            известен только администраторам БД. Следовательно, Вы не должны
            использовать эту учетную запись для создания и сопровождения Ваших
            БД. Создайте обычного пользователя и сообщите его логин и пароль
            нуждающимся в этом пользователям. Вы можете сделать это утилитой
            gsec, как обсуждалось выше, или с помощью сторонних средств
            администрирования Firebird.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Защита БД на уровне файловой системы</term>

          <listitem>
            <para>Имея доступ на чтение на уровне файловой системы к файлу БД
            его можно скопировать, перенести на компьютер, где есть права
            администратора, и извлечь все данные из неё - включая всю
            информацию. Имея доступ на запись к файлу БД можно повредить или
            полностьб уничтожить её.</para>

            <para>Как правило, только серверный процесс Firebird должен иметь
            доступ к файлу БД. Пользователи не нуждаются и не должны иметь
            доступ к файлам БД - включая и доступ только на чтение. Они
            посылают запросы к БД через сервер и сервер может быть уверенным,
            что пользователи имеют доступ (частичный или полный в зависимости
            от прав) к любым объектам только внутри БД.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Запретите локальный доступ для Classic сервера на ОС
          Linux</term>

          <listitem>
            <para>Исключение из вышеуказанного правила являются локальный или
            однопользовательский (embedded - встроенный сервер) доступ к БД
            для Firebird Classic серверов на ОС Linux. Эти режимы доступа
            требуют, чтобы пользователь имел права доступа собственно к файлам
            БД. Это может быть и доступ на чтение к БД пользователей -
            <filename>security2.fdb</filename>. Для исключения этого дайте
            права доступа к файлу <filename>security2.fdb</filename> (и другим
            БД, если Вы хотите этого) только серверному процессу. Пользователи
            должны подключаться к БД только через сетевой протокол (TCP/IP).
            Отметим, что библиотеки libfbembed.* не должны быть удалены из
            Вашей системы, т. к. в этом случае могут не работать утилиты
            командной строки Firebird.</para>

            <para>(Другое исключение составляет Windows Embedded сервер, но
            это выходит за рамки данного руководства.)</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><indexterm>
              <primary>Алиасы</primary>
            </indexterm><indexterm>
              <primary>Базы данных</primary>

              <secondary>алиасы</secondary>
            </indexterm>Используйте для БД алиасы</term>

          <listitem>
            <para><firstterm>Алиасы БД </firstterm> скрывают физическое
            расположение баз данных от клиентов. С использованием алиасов
            строка подключения клиента выглядит так <quote><database
            class="name">frodo:zappa</database></quote>, т. е. не включая в
            себя реальное расположение БД
            <filename>frodo:/var/firebird/music/underground/mothers_of_invention.fdb</filename>.
            Алиасы также позволяют изменять реальное местоположение БД без
            изменения существующих строк полключения у клиентов.</para>

            <para>Алиасы находятся в файле <filename>aliases.conf</filename>,
            в следующем формате для машин с ОС Windows:</para>

            <programlisting>poker = E:\Games\Data\PokerBase.fdb
blackjack.fdb = C:\Firebird\Databases\cardgames\blkjk_2.fdb</programlisting>

            <para>И для ОС Linux:</para>

            <programlisting>books = /home/bookworm/database/books.fdb
zappa = /var/firebird/music/underground/mothers_of_invention.fdb</programlisting>

            <para>Приведённый в примере алиас с расширением <filename
            class="extension">.fdb</filename> (или любым другим) полностью
            опционален. Конечно, если Вы будете использовать такой алиас, Вы
            должны всегда помнить, что используете алиас в строке
            подключения.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>Ограничения на доступ к БД</term>

          <listitem>
            <para>Параметр <parameter>DatabaseAccess</parameter> в
            <filename>firebird.conf</filename> может установить ограничения на
            доступ к БД, подобные определяемым на уровне файловой системы, или
            вообще запретить доступ к БД (None) для разрешения доступа к БД
            только через алиасы. По умолчанию значения параметра All, т. е.
            без ограничений.</para>

            <para>Отметим, что это не замена защиты на уровне файловой
            системы, обсуждавшейся ранее. Когда значение параметра
            <parameter>DatabaseAccess</parameter> отличается от All сервер
            будет запрещать открытие файлов БД, даже если есть достаточные
            права на доступ к ней.</para>
          </listitem>
        </varlistentry>
      </variablelist>

      <para>Есть ещё несколько параметров безопасности, но они не
      рассматривались здесь или по умолчанию уже включены. Вы можете прочитать
      об этом в замечаниях к релизу (Release Notes 1.5 и 2.0) и в комментариях
      внутри файла <filename>firebird.conf.</filename></para>
    </section>

    <section id="qsg2-config-cpa-ru">
      <title><indexterm>
          <primary>Апплет панели управления</primary>
        </indexterm>Апплеты панели управления Windows</title>

      <para>Различные апплеты панели управления также доступны для
      использования с Firebird. Не являясь сложными они обеспечивают удобный
      способ запуска и остановки сервера и контроля его текущего
      статуса.</para>

      <section>
        <title>Firebird сервер менеджер Server Manager</title>

        <para>Апплет Firebird сервер менеджера включён в дистрибутив Firebird.
        Опционально установка данного апплета доступна только для
        SuperServer.</para>

        <note>
          <para>Апплет можно использовать и для Classic server, если он
          работает как служба, а не как приложение. Несмотря на то, что апплет
          не включён в диалоги при установке Classic server, Вы можете
          работать с ним, если действительно хотите этого:</para>

          <itemizedlist spacing="compact">
            <listitem>
              <para>Сначала установите Superserver;</para>
            </listitem>

            <listitem>
              <para>Скопируйте апплет
              <filename>Firebird2Control.cpl</filename> из системной
              директории ОС Windows в безопасное место;</para>
            </listitem>

            <listitem>
              <para>Деинсталлируйте Superserver;</para>
            </listitem>

            <listitem>
              <para>Установите Classic Server;</para>
            </listitem>

            <listitem>
              <para>Снова скопируйте апплет в системную директорию.</para>
            </listitem>
          </itemizedlist>
        </note>

        <para>Скриншот показывает активный апплет. Обратите внимание, что
        заголовок апплета <quote>Firebird Server Control</quote>, а в панели
        управления он виден как <citetitle>Firebird 2.0 Server
        Manager</citetitle>.</para>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="images/FbServerControl-2.png"
                       format="PNG" />
          </imageobject>
        </mediaobject>

        <para>К сожалению, апплет работает только под ОС Windows NT, 2000/2003
        and XP.</para>

        <!--Windows XP alert removed, applet doesn't need mfc71.dll anymore as of Fb 2.0 RC4.
(MFC classes statically linked? Applet grew from 56 -> 316 Kb)-->
      </section>

      <section>
        <title>Центр управления Firebird Control Center</title>

        <para>Если Вы хотите иметь апплет, работающий под ОС Windows 9x или
        ME, то посетите WEB страницу:</para>

        <blockquote>
          <para><ulink
          url="http://www.achim-kalwa.de/fbcc.phtml">http://www.achim-kalwa.de/fbcc.phtml</ulink></para>
        </blockquote>

        <para>...и скачайте центр управления Firebird Control Center <ulink
        url="http://www.achim-kalwa.de/dl/fbcc-0.2.7.exe">fbcc-0.2.7.exe</ulink>.
        Пожалуйста, обратите внимание на то, что Firebird Control Center не
        работает с Classic server.</para>

        <para>Внешне центр управления выглядит не так, как на скриншоте выше,
        но имеет такую же функциональность. Внимание: если Firebird
        запускается как сервис без Гвардейца, кнопка Start/Stop будет иметь
        надпись Start, в то время когда сервер уже работает. Эти функции ....
        Во всех других конфигурациях кнопка будет иметь надпись
        <quote>Start</quote> или <quote>Stop</quote> в зависимости от реальной
        ситуации.</para>
      </section>
    </section>

    <section id="qsg2-config-admintools-ru">
      <title><indexterm>
          <primary>Средства администрирования</primary>
        </indexterm>Средства администрирования</title>

      <para>Дистрибутив Firebird не содержит в себе средств администрирования
      с GUI (графическим интерфейсом). Он включает в себя только утилиты
      командной строки - выполнимые программы, расположенные в субдиректории
      <filename class="directory">bin</filename> каталога установки Firebird.
      Одна из них, gsec, уже описана выше.</para>

      <para>Существует целый ряд прекрасных средств GUI администрирования для
      использования на клиентских Windows компьютерах, но их число слишком
      велико, чтобы описывать их здесь. Доступны также несколько утилит,
      написанных в среде Borland Kylix, для использования на клиентских
      машинах Linux .</para>

      <para>Посетите <ulink
      url="http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;page=ibp_admin_tools">Downloads
      &gt; Contributed &gt; Administration Tools page</ulink> по адресу <ulink
      url="http://www.ibphoenix.com">http://www.ibphoenix.com</ulink> для
      ознакомления с их возможностями.</para>

      <note>
        <para>Отметим, что Вы можете использовать клиентские машины с ОС
        Windows для доступа к Linux или другим серверам.</para>
      </note>
    </section>
  </section>

  <section id="qsg2-databases-ru">
    <title><indexterm>
        <primary>Базы данных</primary>

        <secondary>работа с базами данных</secondary>
      </indexterm>Работа с БД</title>

    <para>В данном разделе руководства рассматривается:</para>

    <itemizedlist spacing="compact">
      <listitem>
        <para>как подсоединиться к существующей БД,</para>
      </listitem>

      <listitem>
        <para>как создать БД,</para>
      </listitem>

      <listitem>
        <para>и несколько слов о том, что выдолжны знать об Firebird
        SQL.</para>
      </listitem>
    </itemizedlist>

    <para>Так как разрешено удалённое подключение к БД, мы рекомендуем
    использовать протокол TCP/IP.</para>

    <section id="qsg2-databases-connstrings">
      <title><indexterm>
          <primary>Подключение</primary>

          <secondary>строка подключения</secondary>
        </indexterm>Строка подключения</title>

      <para>Если Вы хотите подключиться к БД или создать её Вы должны знать,
      помимо всего прочего, <firstterm>строку подключения</firstterm> для
      клиентского приложения (или, если Вы программист, узнайте её у
      администратора). Строка подключения однозначно идентифицирует
      расположение БД на компьютере, в локальной сети или в Интернете.</para>

      <section>
        <title>Локальная строка подключения</title>

        <para>Для локального подключения строка содержит путь + имя файла в
        родном для файловой системы сервера формате, например</para>

        <itemizedlist>
          <listitem>
            <para>для ОС Linux или других Unix-совместимых северах:</para>

            <blockquote>
              <para><filename>/opt/firebird/examples/empbuild/employee.fdb</filename></para>
            </blockquote>
          </listitem>

          <listitem>
            <para>для ОС Windows:</para>

            <blockquote>
              <para><filename>C:\Biology\Data\Primates\Apes\populations.fdb</filename></para>
            </blockquote>
          </listitem>
        </itemizedlist>

        <para>Многие клиенты также используют относительный строку в пути
        (т.е.
        <quote><filename>..\examples\empbuild\employee.fdb</filename></quote>),
        но Вы должны использовать её с осторожностью, т. к. не всегда
        известно, как она может измениться. Всегда неприятно получать
        сообщение об ошибке, но куда опаснее внесение изменений в совсем
        другую БД, а не в ту, к которой Вы хотели подключиться.</para>

        <indexterm>
          <primary>Алиасы</primary>
        </indexterm>

        <indexterm>
          <primary>Базы данных</primary>

          <secondary>алиасы</secondary>
        </indexterm>

        <para>Вместо пути локальная строка подключения также может быть
        алиасом БД, определённым в файле aliases.conf, как описывалось ранее.
        Вид строки алиаса зависит только от того, как он задан в файле
        aliases.conf и не зависит от типа файловой системы. Например,
        таким:</para>

        <itemizedlist spacing="compact">
          <listitem>
            <para><filename>zappa</filename></para>
          </listitem>

          <listitem>
            <para><filename>blackjack.fdb</filename></para>
          </listitem>

          <listitem>
            <para><filename>poker</filename></para>
          </listitem>
        </itemizedlist>

        <tip>
          <para>Если локальное соединение не произошло, удостоверьтесь, что
          локальный протокол работоспособен на Вашем компьютере, но Вы можете
          всегда работать, добавив строку
          <quote><literal>localhost:</literal></quote> к пути к БД или алиаса,
          т. е. работая через через TCP/IP строку подключения (см.
          ниже).</para>
        </tip>
      </section>

      <section>
        <title><indexterm>
            <primary>Имя сервера и путь</primary>
          </indexterm><indexterm>
            <primary>TCP/IP</primary>
          </indexterm>TCP/IP строка подключения</title>

        <para>TCP/IP строка подключения состоит из:</para>

        <orderedlist spacing="compact">
          <listitem>
            <para>имени сервера или его IP адреса</para>
          </listitem>

          <listitem>
            <para>разделителя - двоеточие
            (<quote><literal>:</literal></quote>)</para>
          </listitem>

          <listitem>
            <para>точного полного (безусловного) пути + имени файла на сервере
            или алиаса, определённого на сервере</para>
          </listitem>
        </orderedlist>

        <para>Примеры:</para>

        <itemizedlist>
          <listitem>
            <para>ОС Linux/Unix:</para>

            <blockquote>
              <para><literal>pongo:/opt/firebird/examples/empbuild/employee.fdb</literal></para>

              <para><literal>bongo:fury</literal></para>

              <para><literal>112.179.0.1:/var/Firebird/databases/butterflies.fdb</literal></para>

              <para><literal>localhost:blackjack.fdb</literal></para>
            </blockquote>
          </listitem>

          <listitem>
            <para>ОС Windows:</para>

            <blockquote>
              <para><filename>siamang:C:\Biology\Data\Primates\Apes\populations.fdb</filename></para>

              <para><literal>sofa:D:\Misc\Friends\Rich\Lenders.fdb</literal></para>

              <para><literal>127.0.0.1:Borrowers</literal></para>
            </blockquote>
          </listitem>
        </itemizedlist>

        <para><indexterm>
            <primary>Алиасы</primary>
          </indexterm><indexterm>
            <primary>Базы данных, алиасы</primary>
          </indexterm>Отметим, что строка подключения через алиас имеет
        одинаковый вид для любой ОС - Windows это или Linux. Фактичсеки, Вы
        должны знать об особенностях написания пути к БД в различных ОС только
        при их явном указании в строке подключения.</para>
      </section>

      <section>
        <title>Сторонние программы</title>

        <para>Обратите внимание на то, что сторонние программы могут иметь
        различные требования для строки подключения. Изучите их документацию
        или онлайн справку для уточнения требований к строке
        подключения.</para>
      </section>
    </section>

    <section id="qsg2-databases-connecting-ru">
      <title><indexterm>
          <primary>Подключение</primary>
        </indexterm><indexterm>
          <primary>Базы данных, подключение</primary>
        </indexterm>Подключение к существующей БД</title>

      <para><indexterm>
          <primary>Базы данных</primary>

          <secondary>пример базы данных</secondary>
        </indexterm><indexterm>
          <primary>Пример базы данных</primary>
        </indexterm>В поддиректории <filename
      class="directory">examples/empbuild</filename> Firebird располагается
      учебная БД <filename>employee.fdb</filename>. Вы можете использовать её
      для "пробы пера".</para>

      <para>Если Вы переместите или скопируете учебную БД, то убедитесь, что
      она располагается на жёстком диске, физически подключенном к серверу. С
      расшаренными, присоединёнными или (в ОС Unix) смонтированными SMB
      (Samba) дисками/файловыми системами сервер Firebird не работает. Это
      правило действует для любой БД, с которой Вы собираетесь работать или
      создавать.</para>

      <para>Соединение с БД Firebird требует авторизации пользователя по его
      имени (логину) и паролю. Для доступа к объектам внутри БД - таким, как
      таблицы, представления и др. - также нужны права на эти объекты, за
      исключением их владельцев (Вы его владелец или создатель) или в случае
      подключения пользователя SYSDBA. В учебной БД необходимые разрешения
      выданы (granted) для PUBLIC (т. е. для любого подсоединившегося к БД)
      для разрешения просморта и изменения данных в учебных целях..</para>

      <para>Для простоты мы будем рассматривать аутентификацию пользователя
      SYSDBA с паролем masterkey. Также мы будем использовать локальное
      соединение и относительный путь для того, чтобы строки в примере были
      видны целиком. Конечно, Вы всегда можете начать использовать удалённые
      БД и строку подключения TCP/IP.</para>

      <section>
        <title><indexterm>
            <primary>isql</primary>

            <secondary>подключение к базе данных</secondary>
          </indexterm><indexterm>
            <primary>Базы данных</primary>

            <secondary>подключение с помощью</secondary>

            <tertiary>isql</tertiary>
          </indexterm>Соединение через isql</title>

        <para>В состав Firebird входит утилита командной строки
        <firstterm>isql</firstterm> (Интерактивная SQL утилита). Существует
        несколько способов подключения к БД с использованием этой утилиты.
        Один из них (интерактивный) рассматривается ниже. Перейдите в
        поддиректорию <filename class="directory">bin в каталоге установки
        Firebird, и наберите в командной строке <command>isql</command> (ОС
        Windows) или <command>./isql</command> (ОС Linux).</filename></para>

        <para>В примерах символ ↵ означает <quote>нажатие клавиши
        <keycap>Enter</keycap></quote>.</para>

        <indexterm>
          <primary>Подключение</primary>

          <secondary>Оператор CONNECT</secondary>
        </indexterm>

        <indexterm class="singular" scope="local">
          <primary>SQL</primary>

          <secondary>Оператор CONNECT</secondary>
        </indexterm>

        <screen>C:\Program Files\Firebird\Firebird_2_0\bin&gt;isql↵
Use CONNECT or CREATE DATABASE to specify a database
SQL&gt;CONNECT ..\examples\empbuild\employee.fdb user SYSDBA 
                                                password masterkey;↵</screen>

        <important>
          <itemizedlist>
            <listitem>
              <para>В isql каждое SQL выражение должно заканчиваться точкой с
              запятой. Если Вы нажали <keycap>Enter</keycap> и в конце строки
              нет точки с запятой, то isql считает, что выражение будет
              продолжено на следующей строке и изменит приглашение командной
              строки с <prompt>SQL&gt;</prompt> на <prompt>CON&gt;</prompt>.
              Это нужно для разбиения длинного выражения на несколько строк
              или для наглядности (удобочитаемости) выражения. Если Вы просто
              забыли поставить точку с запятой, то просто наберите её в
              командной строке с приглашением <prompt>CON&gt;</prompt> и
              нажмите <keycap>Enter </keycap>снова.</para>
            </listitem>

            <listitem>
              <para>На Classic Server под ОС Linux, если перед путём к БД не
              указано имя хоста, будет предпринята попытка подключиться к БД
              локально. Это соединение может быть и неудачным, если у
              пользователя не прав на такое подключение к БД. Тогда измените
              строку подключения на сетевую
              <literal>localhost:</literal><replaceable>&lt;path&gt;</replaceable>
              . В этом случае файл будет открывать северный процесс (Firebird
              2 обычно работает от имени пользователя <systemitem
              class="username">firebird</systemitem>). С другой стороны,
              сетевое подключение также может быть неудачным по причине
              создания БД локально и, следовательно, отсутствия прав сервера
              на доступ к ней.</para>
            </listitem>
          </itemizedlist>
        </important>

        <note>
          <para>Опционально Вы можете заключать путь к БД, логин (имя
          пользователя) и/или пароль в одинарные (<literal>'</literal>) или
          двойные (<literal>"</literal>) кавычки. Если путь содержит пробелы -
          используйте двойные кавычки.</para>
        </note>

        <para>Далее <application>isql</application> сообщает Вам об успешном
        соединении с БД:</para>

        <screen>Database:  ..\examples\empbuild\employee.fdb, User: sysdba
SQL&gt;</screen>

        <para>Теперь Вы можете работать с учебной БД. С помощью isql Вы можете
        производить выбоку данных, извлекать информацию о метаданных,
        создавать объекты БД, выполнять скрипты создания данных и многое
        другое.</para>

        <para>Для возврата обратно в командную строку выполните
        следующее:</para>

        <screen>SQL&gt;QUIT;↵</screen>

        <para>Вы можете использовать команду EXIT вместо QUIT - разница в том,
        что команда EXIT сначала коммитит открытую транзакцию (COMMIT),
        подтверждая произведённые Вами изменения.</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Базы данных</primary>

            <secondary>подключение</secondary>

            <tertiary>GUI клиент</tertiary>
          </indexterm>Подключение из GUI клиента</title>

        <para>GUI клиентское приложение обычно собирает строку подключения для
        Вас, используя имя сервера, путь (или алиас), имя пользователя и
        пароль из введённых Вами в соответствующие управляющие элементы.
        Использование этих данных в строке подключения описано выше.</para>

        <note>
          <itemizedlist spacing="compact">
            <listitem>
              <para>Заполните строку подклчения к БД точно также, как и при
              работе с утилитой isql.</para>
            </listitem>

            <listitem>
              <para>Помните, что имя файла, путь и команды в ОС Linux и других
              <quote>Unix-ish</quote> ОС регистрочувствительны.</para>
            </listitem>
          </itemizedlist>
        </note>
      </section>
    </section>

    <section id="qsg2-databases-creating-ru">
      <title><indexterm>
          <primary>isql</primary>

          <secondary>создание базы данных</secondary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>создание с помощью isql</secondary>
        </indexterm>Создание БД с использованием
      <application>isql</application></title>

      <para>Существует несколько способов создания БД с использованием isql.
      Однако здесь будет рассмотрен интерактивный способ - хотя для серьёзной
      работы с БД после её создания Вы должны создавать и сопровождать объекты
      в ней (метаданные), используя скрипты создания данных (DDL).</para>

      <section>
        <title>Запуск <application>isql</application></title>

        <para>Для создания БД в интерактивном режиме с помощью isql наберите в
        командной строке <command>isql</command> (ОС Windows) или
        <command>./isql</command> (ОС Linux):</para>

        <screen>C:\Program Files\Firebird\Firebird_2_0\bin&gt;isql↵
Use CONNECT or CREATE DATABASE to specify a database</screen>
      </section>

      <section>
        <title><indexterm>
            <primary>Оператор CREATE DATABASE</primary>
          </indexterm><indexterm class="singular" scope="local">
            <primary>SQL</primary>

            <secondary>оператор CREATE DATABASE</secondary>
          </indexterm>Оператор CREATE DATABASE</title>

        <para>Теперь мы создадим БД в интерактивном режиме. Для простоты
        назовём БД test.fdb и поместим её в директорию data на диске D:</para>

        <screen>SQL&gt;CREATE DATABASE 'D:\data\test.fdb' page_size 8192↵
CON&gt;user 'SYSDBA' password 'masterkey';↵</screen>

        <important>
          <itemizedlist>
            <listitem>
              <para>В операторе <database>CREATE DATABASE</database> есть
              кавычки (одинарные или двойные) вокруг пути, имени пользователя
              и пароля. Это отличие от команды
              <database>CONNECT</database>.</para>
            </listitem>

            <listitem>
              <para>Если у Вас установлен Classic Server на ОС Linux и Вы не
              используете имя хоста в строке подключения, то владельцем
              созданной БД станет текущий пользователь Linux. Результат
              создания БД будет, возможно не тем, какого Вы хотели (подумайте
              о правах доступа, если Вы хотите, чтобы другие пользователи
              могли подключиться к Вашей БД). Если Вы используете в строке
              подключения localhost: до пути к БД, то БД будет создана
              серверным процессом (для Firebird 2.0 обычно от имени
              пользователя firebird) и он станет владельцем файла.</para>
            </listitem>
          </itemizedlist>
        </important>

        <para>Начинает создаваться БД и через несколько мгновений вновь
        появится приглашение SQL. Теперь Вы можете соединиться с БД и
        приступить к созданию различных тестовых объектов в ней.</para>

        <para>Но чтобы убедиться, что это действительно БД, сначала выполним
        следующий запрос:</para>

        <screen>SQL&gt;SELECT * FROM RDB$RELATIONS;↵</screen>

        <para><indexterm>
            <primary>Базы данных</primary>

            <secondary>системные таблицы</secondary>
          </indexterm><indexterm>
            <primary>Базы данных</primary>

            <secondary>метаданные</secondary>
          </indexterm><indexterm>
            <primary>Системные таблицы</primary>
          </indexterm>Хотя Вы не создавали никаких таблиц, экран заполнится
        большим количеством данных.</para>

        <para>Данный запрос выбирает все строки из системной таблицы
        <database>RDB$RELATIONS</database>, где хранятся метаданные для
        таблиц.</para>

        <para>Пустая БД в реальности не является пустой. Она содержит
        системные таблицы и другие объекты. Системные таблицы будут хранить
        информацию о Ваших объектах в БД и наполняться по мере их
        создания.</para>

        <para>Для возврата обратно в командную строку наберите
        <literal>QUIT</literal> или <literal>EXIT</literal> , как в подразделе
        о соединении с БД.</para>
      </section>
    </section>

    <section id="qsg2-databases-sql-ru">
      <title><indexterm class="singular" scope="local">
          <primary>SQL</primary>
        </indexterm><indexterm class="singular" scope="local">
          <primary>Firebird SQL</primary>
        </indexterm>Firebird SQL</title>

      <para>Каждая система управления БД имеет свои особенности в путях
      реализации и поддержки SQL. Firebird более строго придерживается
      стандартов SQL, чем большинство других RDBMS. Разработчики, мигрирующие
      на Firebird с RDBMS, менее придерживающихся стандартов, считают его
      странным, тогда как многие из его очевидных особенностей нисколько не
      странны и не сложны.</para>

      <section id="qsg2-integer-division-ru">
        <title><indexterm>
            <primary>Целочисленное деление</primary>
          </indexterm>Деление целого на целое</title>

        <para>Firebird придерживается стандарта SQL в округлении результата
        (фактически) в целочисленных выражениях до ближайшего меньшего целого.
        Это может выглядеть странным для Вас, если не знать об этом.</para>

        <para>Например, это выражение корректно в SQL:</para>

        <blockquote>
          <para><literal>1 / 3 = 0</literal></para>
        </blockquote>

        <para>Если Вы переходите на Firebird с RDBMS, которая разрешала
        представлять результат деления integer/integer в виде числа с
        плавающей запятой (float), Вы должны будете использовать типы данных с
        плавающей или фиксированной запятой для получения нужных Вам
        результатов</para>

        <para>Например, модифицированное выражение выдаёт не нулевой
        результат:</para>

        <blockquote>
          <para><literal>1.000 / 3 = 0.333</literal></para>
        </blockquote>
      </section>

      <section id="qsg2-strings-ru">
        <title><indexterm>
            <primary>Строки</primary>
          </indexterm>Что необходимо знать о строках</title>

        <section>
          <title><indexterm>
              <primary>Строки</primary>

              <secondary>символ раделитель</secondary>
            </indexterm>Символ разделения строк</title>

          <para>Строки в Firebird разделяются на части одинарным символом
          кавычки (апострофом): <literal>'I am a string'</literal> (ASCII код
          39, <emphasis>а не </emphasis>96). Если Вы использовали ранние
          версии серверов Firebird и InterBase®, Вы должны помнить разницу
          одинарных и двойных кавычек как разделителей строк. Двойные кавычки
          не могут использоваться как разделитель строк в SQL выражениях
          Firebird.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Апостроф в строках</primary>
            </indexterm><indexterm>
              <primary>Строки</primary>

              <secondary>апостроф в строках</secondary>
            </indexterm>Апострофы в строках</title>

          <para>Если Вы используете апострофы в строках Firebird, Вы можете
          'выделить' символ апострофа другим апострофом, расположенным
          рядом.</para>

          <para>Например эта строка ошибочная:</para>

          <blockquote>
            <para><literal>'Joe's Emporium'</literal></para>
          </blockquote>

          <para>потому что парсер обнаружит апостроф и интерпретирует строку
          как <literal>'Joe' и примет следующее слово за неизветсное ключевое
          слово. Для получения правильной строки нужно два символа
          апострофа:</literal></para>

          <blockquote>
            <para><literal>'Joe''s Emporium'</literal></para>
          </blockquote>

          <para>Отметим, что это ДВА одиночных апострофа, а не двойной
          апостроф.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Строка</primary>

              <secondary>конкатенация</secondary>
            </indexterm>Конкатенация строк</title>

          <para>Символ концетации строк в SQL - это два символа 'вертикальная
          черта' (ASCII 124, без пробела между ними). Символ '+' в SQL
          является арифметическим оператором и при его использовании для
          соединения строк сервер выдаст ошибку. Следующее выражение
          показывает соединение символьного значения столбца и строки
          <quote><literal>Reported by: </literal></quote>:</para>

          <blockquote>
            <para><literal>'Reported by: ' || LastName</literal></para>
          </blockquote>

          <para>Firebird выдаст ошибку, если результирующая строка превысит
          максимальный размер для типа данных (var)char в 32 кБ. Если только
          <emphasis>возможный</emphasis> результат - основываясь на размерах
          переменных и столбцов - является очень большим Вы получите
          предупреждение, но операция будет выполнена успешно.</para>

          <para>Смторите также ниже подраздел "Выражения, включающие NULL", о
          соединении строк в выражениях с NULL.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Идентификаторы в двойных кавычках</primary>
            </indexterm>Двойные кавычки</title>

          <para>Начиная со стандарта SQL-92 возможно использование в БД имен
          объектов (идентификаторов), совпадающих с ключевыми словами языка,
          регистрочувствительных имен или имен с пробелами. SQL-92 ввёл
          одиночный новый стандарт легализации этого - заключение таких имён в
          двойные кавычки (символ ASCII 34) и также определил порядок
          использования двойных кавычек как разделителя.</para>

          <para>Целью этого стандарата являлось обеспечение лёгкого переноса
          метаданных (миграции) с нестандартных RDBMS на другие,
          соответствующие стандартам. Для обеспечения этого Вы должны
          заключать идентификаторы в двойные кавычки.</para>

          <para>Firebird разрешает отклонение от этого стандарта при
          ограниченном наборе условий. Если идентификатор, который был
          определен в двойных кавычках:</para>

          <orderedlist spacing="compact">
            <listitem>
              <para>был создан в верхнем регистре,</para>
            </listitem>

            <listitem>
              <para>не является ключевым словом,</para>
            </listitem>

            <listitem>
              <para>не содержит пробелов,</para>
            </listitem>
          </orderedlist>

          <para>...то Вы можете использовать его в SQL не квотированным (т. е.
          без двойных кавычкек) и не регистрозависимым. (Но если снова
          заключить его в двойные кавычки, то он снова становится
          регистрочувствительным).</para>

          <warning>
            <para>Не слишком увлекайтесь этим! Например, если Вы имеете
            таблицы "<database>TESTTABLE</database>" и
            "<database>TestTable</database>", обе определены без двойных
            кавычек, то выполняя команду:</para>

            <blockquote>
              <screen>SQL&gt;select * from TestTable;</screen>
            </blockquote>

            <para>...Вы получите записи из таблицы
            "<database>TESTTABLE</database>", а не
            "<database>TestTable</database>"!</para>
          </warning>

          <para>Если нет веских причин использовать квотированнные
          идентификаторы, то рекомендуется их не использовать, т. к. Firebird
          успешно воспринимает как квотированные, так и неквотированные
          идентификаторы - так что нет никаких проблем, включая и
          унаследованные идентификаторы, совпадающие с ключевыми словами, если
          Вы нуждаетесь в них.</para>

          <warning>
            <para>Некоторые средства администрирования используют двойные
            кавычки для идннтификаторов по умолчанию. Постарайт выбрать
            средство администрирования опциональным двойным квотированием
            идентификаторов.</para>
          </warning>
        </section>
      </section>

      <section id="qsg2-nulls-ru" xreflabel="Выражения, включающие NULL">
        <title><indexterm>
            <primary>NULL</primary>
          </indexterm>Выражения, вкллючающие NULL</title>

        <para>В SQL, <constant>NULL</constant> не является значением или
        состоянием данных. - он лишь говорит, что значение данных неизвестно.
        По этой причине NULL не может считаться значением. При выполнении
        арифметических операций результатом выражений, включающих в себя NULL,
        также всегда будет NULL. Это не ноль или пустое значениек или 'пустая
        строка' и он не ведёт себя так, как любое из этих значений.</para>

        <para>Ниже приведены примеры выполнения выражений и сравнений с
        NULL.</para>

        <para>Результатом следующих выражений будет
        <constant>NULL</constant>:</para>

        <itemizedlist>
          <listitem>
            <para><literal>1 + 2 + 3 +
            <constant>NULL</constant></literal></para>
          </listitem>

          <listitem>
            <para><literal>not (<constant>NULL</constant>)</literal></para>
          </listitem>

          <listitem>
            <para><literal>'Home ' || 'sweet ' ||
            <constant>NULL</constant></literal></para>
          </listitem>
        </itemizedlist>

        <para>Вы можете настаивать, что в третьем выражении результат будет
        <quote><literal>Home sweet</literal></quote>, но, как уже говорилось
        NULL это не число 0 или пустая строка - он не пределён!</para>

        <para>Следующие выражения</para>

        <itemizedlist>
          <listitem>
            <para><literal>FirstName || ' ' || LastName</literal></para>
          </listitem>
        </itemizedlist>

        <para>вернут NULL, если <varname>FirstName</varname> или
        <varname>LastName</varname> является <constant>NULL</constant>. Иначе
        это соединит пробел с переменными, даже если любая из них является
        пустой строкой.</para>

        <tip>
          <para>Думайте о NULL как о НЕИЗВЕСТНОМ и эти странные результаты
          внезапно обретут смысл. Если значение <varname>Number</varname>
          неизвестно, то результат <literal>1 + 2 + 3 + Number</literal>'
          также неизвестно (и, следовательно, NULL). Если значение MyString
          неизвестно, то <literal>MyString || YourString</literal>' тоже NULL
          (даже если YourString является не NULL) и т.д.</para>
        </tip>

        <para>Теперь рассмотрим пример PSQL (Процедурного Procedure SQL) с
        конструкцией if:</para>

        <itemizedlist>
          <listitem>
            <para><programlisting>if (a = b) then
  MyVariable = 'Equal';
else
  MyVariable = 'Not equal';</programlisting></para>

            <para>После выполнения данного кола MyVariable будет <literal>'Not
            equal'</literal>, если обе переменные a и b являются NULL-ми.
            Результат <literal>'a = b'</literal> также будет NULL, если одна
            из переменных в выражении является NULL. Если тестовое выражение в
            операторе <quote><literal>if</literal></quote> есть NULL, то это
            ъкквивалентно false, блок '<literal>then</literal>' будет пропущен
            и будет выпонен блок '<literal>else</literal>' .</para>

            <warning>
              <para>Хотя выражение может быть false в этом случае, оно всё
              равно остаётся NULL-ом. Если вы попробуете инвертировать его
              использую синтаксис <function>not()</function>, Вы получите
              другой NULL - т.е. не
              <quote><literal>true</literal></quote>.</para>
            </warning>
          </listitem>

          <listitem>
            <para><programlisting>if (a &lt;&gt; b) then
  MyVariable = 'Not equal';
else
  MyVariable = 'Equal';</programlisting></para>

            <para>Здесь <varname>MyVariable</varname> будет <literal>'Equal',
            если обе переменные a и b </literal>являются <constant>NULL, или
            только одна из них</constant>. Объяснение аналогично предыдущенму
            примеру.</para>
          </listitem>
        </itemizedlist>

        <section>
          <title>Ключевое слово DISTINCT спасает!</title>

          <para>В Firebird 2 можно по новому использовать конструкцию
          <database>операторах сравнения, содержащих внутри себя
          NULL</database>. Синтаксис следующий:</para>

          <itemizedlist spacing="compact">
            <listitem>
              <para>Два выражения, участвующие в операторе DISTINCT, имеют
              различные значения или одно из них NULL, а другое нет;</para>
            </listitem>

            <listitem>
              <para>Они в операторе <database>NOT DISTINCT имеют одно и то же
              значение или оба являюттся NULL</database>.</para>
            </listitem>
          </itemizedlist>

          <para>Отметим, что если ни одна из переменных не является NULL
          команда <database>DISTINCT эквивалентна оператору </database>
          <quote><literal>&lt;&gt;</literal></quote>, а <database>NOT
          DISTINCT</database> эквивалентна
          <quote><literal>=</literal></quote>.</para>

          <para><database>DISTINCT</database> and <database>NOT
          DISTINCT</database> always return <constant>true</constant> or
          <constant>false</constant>, never <constant>NULL</constant>.</para>

          <para><database>Используя DISTINCT Вы можете переписать первый
          пример для PSQL следующим образом:</database></para>

          <programlisting>if (a is not distinct from b) then
  MyVariable = 'Equal';
else
  MyVariable = 'Not equal';</programlisting>

          <para>А второй так:</para>

          <programlisting>if (a is distinct from b) then
  MyVariable = 'Not equal';
else
  MyVariable = 'Equal';</programlisting>

          <para>Эти версии дадут Вам результаты, ожидаемые нормальным
          человекрм (не знакомым со стандартом SQL) независмо от присутствия
          или отсутствия в выражениях NULL.</para>
        </section>

        <section>
          <title>Больше о <constant>NULL</constant></title>

          <para>Б<constant>олее детальную информацию о NULL</constant> Вы
          можете найти в <citetitle>Firebird Null Guide</citetitle>,
          расположенном по ссылкам :</para>

          <blockquote>
            <para><ulink
            url="http://www.firebirdsql.org/manual/nullguide.html">http://www.firebirdsql.org/manual/nullguide.html</ulink>
            (HTML)</para>

            <para><ulink
            url="http://www.firebirdsql.org/pdfmanual/Firebird-Null-Guide.pdf">http://www.firebirdsql.org/pdfmanual/Firebird-Null-Guide.pdf</ulink>
            (PDF)</para>
          </blockquote>

          <note>
            <para>Во время написания данного руководства, <citetitle>Firebird
            Null Guide</citetitle> будет расширено одновременно с выходом
            релиза Firebird 2. Новая версия будет доступна, вероятно в Октябре
            или Ноябре 2006 года (Примечание переводчика: в настоящее время -
            Январь 2007 г. она уже доступна).</para>
          </note>
        </section>
      </section>
    </section>
  </section>

  <section id="qsg2-safety-ru">
    <title>Предотвращение потери данных</title>

    <section id="qsg2-safety-backup-ru">
      <title><indexterm>
          <primary>Backup</primary>
        </indexterm><indexterm>
          <primary>Restore</primary>
        </indexterm><indexterm>
          <primary>Databases</primary>

          <secondary>backup and restore</secondary>
        </indexterm>Резервная копия (Backup)</title>

      <para>Firebird имеет теперь две утилиты для бэкапа (резервного
      копирования) и рестора (восстановления - restoring) Ваших БД:
      <firstterm>gbak</firstterm> и <firstterm>nbackup</firstterm>. Обе
      находятся в поддиректории <filename class="directory">bin</filename>
      каталона установки Firebird. Можно делать бэкап БД Firebird backed
      несмотря на то, что пользователи подлючены к ней и продолжают нормально
      работать. Бэкап делает снимок БД на момент начала своей работы.</para>

      <para>Регулярный бэкап и периодический рестор БД являются частью работ
      по администрированию и должны выполняться по расписанию (например, с
      использованием планировщика задач)</para>

      <warning>
        <para>За исключением режима lock утилиты nbackup, не используйте
        никаких внешних утилит или средств копирования файлв, таких как</para>

        <para><application>WinZip</application>,
        <application>tar</application>, <application>copy</application>,
        <application>xcopy</application> и других, когда идёт работа с БД. Не
        только резервная копия будет испорчена, но и использование этими
        средствами блокировок на уровне диска может повредить саму БД.</para>
      </warning>

      <important>
        <para>Изучаите предупреждения в следующих подразделах об активности БД
        (т.е. о работе сней) во время восстановления!</para>
      </important>

      <para>Дополнительную информацию об этом Вы можете найти в <citetitle>The
      Firebird Book</citetitle>, руководстве <citetitle>Using
      Firebird</citetitle> (</para>

      <para>More information about <application>gbak</application> can be
      found in <citetitle>The Firebird Book</citetitle>, the <citetitle>Using
      Firebird</citetitle> guide (самая свежая версия доступна на IBPhoenix и
      обновлённые версии публикуются позже на сайте Firebird), или в
      руководствах по InterBase 6.0 в сочетании с Firebird 1.0, Firebird 1.5 и
      2.0 Релизными Замечаниями. Смотрите также информацию по ссылке <link
      linkend="qsg2-gettinghelp">How to get help</link>.</para>

      <para>Руководство по утилите <application>nbackup</application> доступно
      (HTML и PDF версии, по желаниюt):</para>

      <blockquote>
        <para><ulink
        url="http://www.firebirdsql.org/manual/nbackup.html">http://www.firebirdsql.org/manual/nbackup.html</ulink></para>

        <para><ulink
        url="http://www.firebirdsql.org/pdfmanual/Firebird-nbackup.pdf">http://www.firebirdsql.org/pdfmanual/Firebird-nbackup.pdf</ulink></para>
      </blockquote>
    </section>

    <section id="qsg2-safety-howtocorrupt-ru">
      <title><indexterm>
          <primary>Databases</primary>

          <secondary>corruption</secondary>
        </indexterm>Как повредить БД</title>

      <para>Следующие подразделы рассказывают о том, чтп нельзя делать, если
      Вы хотите иметь неповреждённые БД Firebird.</para>

      <section>
        <title><indexterm>
            <primary>Databases</primary>

            <secondary>system tables</secondary>
          </indexterm><indexterm>
            <primary>Databases</primary>

            <secondary>metadata</secondary>
          </indexterm><indexterm>
            <primary>System tables</primary>
          </indexterm>Самостоятельное изменение системных таблиц</title>

        <para>Firebird хранит и обновляет свою информацию и информацию о
        созданных пользователями объектах в специальных таблиуах, названных
        <firstterm>системными таблицами </firstterm>- они хранятся в самой БД.
        Названия (идентификаторы) этих системных таблиц, их столбцов и
        различных других типов системных объектов начинаятся с символов
        <literal>RDB$</literal>.</para>

        <para>Так как они являются обычными объектами БД, с ними можно
        работать и изменять их также, как и с обычными, созданными
        пользователями объектами. Но то, что Вы можете это делать, не
        означает, что Вы должны это делать. Сервер Firebird для создания и
        модификации метаданных (объектов БД) использует высокоуровневый набор
        команд SQL (DDL - Data Definition Language - Язык Определения Данных),
        как правило, командами <database>CREATE</database>,
        <database>ALTER</database> и <database>DROP.</database></para>

        <para>Мы не можем Вам рекомендовать использовать только DDL - т.е. не
        прямым доступом к системным таблицам через операторы SQL - когда Вам
        нужно изменить или удалить метаданные. Отложите использование "быстрых
        решений" до того времени, когда Вы не овладеете очень хорошо знаниями
        языка SQL и сервера Firebird</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Forced writes</primary>
          </indexterm>Запрет принудительной записи (forced writes) в ОС
        Windows</title>

        <para>Firebird по умолчанию устанавливается с включенной опцией
        принудительной записи - forced writes (synchronous writes - синхронной
        записи). При этом новые данные и изменения в них записываются на диск
        сразу же после подтверждения на запись - коммита (commit).</para>

        <para>Существует возможность работы БД с использованием асинхронной
        записи данных (asynchronous data writes) - в этом случае данные
        хранятся в памяти кэша ОС и периодически записываются на диск через
        I/O подсистему ОС. Общепринято называть такой режим работы
        <firstterm>forced writes off</firstterm> (или запрещён -
        <firstterm>disabled</firstterm>). Такой режим используют иногда для
        ускорения работы больших пакетных заданий.</para>

        <para>Настоятельная рекомендация: не запрещайте принудительную запись
        на серверах с ОС Windows. Замечено, что серверные ОС Windows не
        записывают данные на диск вплоть до остановки службы Firebird. Кроме
        выключения питания в ОС Windows может произойти много чего
        неправильного. В этом случае I/O подсистема неработоспособна и данные
        работы пользователей будут потеряны (Примечание переводчика: возможно
        будет физически повреждена БД).</para>

        <note>
          <para>ОС Windows 9x и ME не поддерживают режим отложенной записи
          данных.</para>
        </note>

        <section>
          <title>Запрет принудительной записи на серверах с ОС Linux</title>

          <para>Linux сервера более безопасны при временном включении режима
          отложенной записи. Тем не менее, включите режим принудительной
          записи сразу после завершения работы пакетного задания, если у Вас
          нет очень отказоустойчивой системы питания сервера.</para>
        </section>
      </section>

      <section>
        <title><indexterm>
            <primary>Restore</primary>

            <secondary>to a running database</secondary>
          </indexterm><indexterm>
            <primary>Databases</primary>

            <secondary>backup and restore</secondary>
          </indexterm>Восстановление из резерва поверх существующей БД</title>

        <para>Одна из опций восстановления утилиты
        <application>gbak</application> (<literal>gbak</literal>
        <literal>-rep[lace_database]</literal>) разрешает производить
        восстановление из резервной копии поверх существующей БД. При этом
        возможна ситуация, что Вы не получите предупреждения о работающих с БД
        пользователей. В результате Вы получите повреждённую БД, при этом
        старой БД уже нет.</para>

        <note>
          <para>Отметим, что сокращение этого параметра теперь
          <literal>gbak</literal> <literal>-rep</literal>, а не
          <literal>gbak</literal> <literal>-r</literal>, как в предыдущих
          версиях. Что делает <literal>gbak</literal> <literal>-r</literal>?
          Это только сокращение от <literal>gbak</literal>
          <literal>-recreate_database</literal>, который делает то же самое,
          что и <literal>gbak</literal> <literal>-c[reate], и выдаёт ошибку в
          случае существования БД. Вы можете переписать существующую БД с
          использованием ключа <literal>o[verwrite]. Этот ключ работает только
          с совместно с ключом <literal>gbak</literal> <literal>-r, а не
          сключом <literal>gbak</literal>
          <literal>-c</literal>.</literal></literal></literal></para>

          <para>Эти изменения были внесены, т.к. большинство пользователей
          использовали ключ <literal>-r</literal> с целью восстановления БД
          путём её замены - об этом узнали, когда уже нельзя было ничего
          изменить.</para>
        </note>

        <warning>
          <para>Помните, что Вы должны будете создавать Ваши инструменты и
          процедуры администрирования с учётом предотвращения любой
          возможности для любого пользователя (включая SYSDBA) восстановления
          в существующую БД, если к ней имеются клиентские подключения</para>
        </warning>

        <para>Если позволяет свободное дисковое пространство, мы рекомендуем
        проводить резервное восстановление с использованием ключа
        <literal>gbak</literal> <literal>-c[reate]</literal> и последующей
        проверки восстановленной БД средствами администрирования. Если
        восстановление прошло удачно, остановите службу сервера. И лишь затем
        осуществите файловое копирование старой БД и затем восстановленной БД
        в нужные места.</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Restore</primary>

            <secondary>user logins during restore</secondary>
          </indexterm><indexterm>
            <primary>Databases</primary>

            <secondary>backup and restore</secondary>
          </indexterm>Подключение пользователей во время восстановления
        БД</title>

        <para>Если Вы не запретите доступ к БД во время восстановления БД с
        ключом <literal>gbak</literal> <literal>-rep[lace_database]</literal>
        , то подключившиеся аользователи имеют возможность работать с данными.
        В результате почим БД с повреждённой структурой.</para>
      </section>
    </section>
  </section>

  <section id="qsg2-gettinghelp-ru">
    <title><indexterm>
        <primary>Help</primary>
      </indexterm><indexterm>
        <primary>Documentation</primary>
      </indexterm>Как получить помощь</title>

    <para>Сообщество людей, могущих и желающих оказать помощь в освоении
    Firebird существует уже много лет - ещё до появления исходных кодов
    InterBase® 6, который имел открытые исходные коды. Сообщество Firebird
    коллективно может ответить на любой вопрос. Среди активных членов есть и
    те, кто был вовлечен в процесс развития системы с момента схематичных
    зарисовок стене в ванной в Бостоне.</para>

    <itemizedlist>
      <listitem>
        <para>Посетите официальный сайт проекта Firebird <ulink
        url="http://www.firebirdsql.org">http://www.firebirdsql.org</ulink> и
        присоединитесь к пользовательские спискам поддержки (инструкции здесь
        - <ulink
        url="http://www.firebirdsql.org/index.php?op=lists">http://www.firebirdsql.org/index.php?op=lists</ulink>).</para>
      </listitem>

      <listitem>
        <para>Посетите сайт знаний о Firebird <ulink
        url="http://www.ibphoenix.com">http://www.ibphoenix.com</ulink> для
        ознакомления с обширным собранием информации о разработках и
        использовании Firebird. IBPhoenix также продаёт Developer CD (CD
        разработчика) с винарными кодами Firebird и другой
        документацией.</para>
      </listitem>

      <listitem>
        <para>Ознакомьтесь также с расширяющимся списком документации, которая
        была написана самостоятельно, а не в рамках проекта Firebird <ulink
        url="http://www.firebirdsql.org/manual/">http://www.firebirdsql.org/manual/</ulink>.</para>
      </listitem>

      <listitem>
        <para><indexterm>
            <primary>Books</primary>

            <secondary>The Firebird Book</secondary>
          </indexterm><indexterm>
            <primary>Firebird Book</primary>
          </indexterm>Приобритите official Firebird Book здесь: <ulink
        url="http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;s=1093098777:149734&amp;page=ibp_firebird_book">http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;s=1093098777:149734&amp;page=ibp_firebird_book</ulink>
        с более, чем 1100 страницами информации о Firebird (Примечание
        переводчика: Русское издание книги (перевод) приобритайте здесь -
        <ulink
        url="http://www.firebirdsql.org/manual/">http://www.books.ru/shop/search?search_type=books&amp;query=%C1%EE%F0%F0%E8&amp;x=0&amp;y=0</ulink>).</para>
      </listitem>

      <listitem>
        <para>Наконец, если документация Вам всё ещё не достаточно, Вы можете
        прочитать руководства для InterBase 6.0 beta (скачивать здесь - <ulink
        url="http://www.ibphoenix.com/downloads/">http://www.ibphoenix.com/downloads/</ulink>)
        в комбинации с замечаниями к релизам Firebird 1.0, 1.5 и 2.0.</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>IBPhoenix публикации <citetitle>Using Firebird</citetitle> и
      <citetitle>The Firebird Reference Guide</citetitle> имеются наDeveloper
      CD, более не поддерживаются активно. Однако, большинство материалов,
      содержавшегося в этих документах было осовременено и добавлено к
      официальному проекту документации.</para>

      <para>Примечание переводчика: Большинство из этих документов, а также
      большоу количество статей на русском языке доступно на российском сайте
      по Interbase, Firebird и Yaffil <ulink
      url="http://www.firebirdsql.org">http://www.ibase.ru</ulink>.</para>
    </note>
  </section>

  <section id="qsg2-firebird-project-ru">
    <title><indexterm scope="local">
        <primary>Project</primary>
      </indexterm><indexterm>
        <primary>Firebird project</primary>
      </indexterm>Проект Firebird</title>

    <para>Разработчики, системщики и тестеры - те, кто предоставил Вам
    Firebird и драйвера для него - являются членами проекта с открытым
    исходным кодом (open source) по разработке системы управления базами
    данных Firebird на SourceForge, удивительном виртуальном сообществе,
    включающем тысячи команд разработчиков проектов с открытыми исходными
    кодами. Адрес проекта Firebird (The Firebird Project) -
    http://sourceforge.net/projects/firebird. На этом сайте Вы можете получить
    доступ к дереву исходного кода и множество файлов, в разной степени
    связанных с разработкой и тестированием кода. Разработчики и тестеры
    Firebird Project используют список рассылки
    firebird-devel@lists.sourceforge.net в качестве «виртуальной лаборатории»,
    в рамках которой осуществляется взаимодействие по усовершенствованию,
    исправлению ошибок и разработке новых версий. Любой заинтересованный в
    наблюдении за процессом может подписаться на этот список. Однако, имейте в
    виду, что в рамках этого списка не осуществляется поддержка пользователей.
    Пожалуйста, не отправляйте туда вопросы о проблемах с использованием
    Firebird, используйте для этого специальный список рассылки
    firebird-support@yahoogroups.com!</para>

    <para>Happy Firebirding!</para>
  </section>

  <appendix id="qsg2-dochist-ru">
    <title><indexterm>
        <primary id="qsg10-it-dochist-p">Document history</primary>
      </indexterm>История Документа</title>

    <para>The exact file history is recorded in the <filename
    class="directory">manual</filename> module in our CVS tree; see <ulink
    url="http://sourceforge.net/cvs/?group_id=9028">http://sourceforge.net/cvs/?group_id=9028</ulink></para>

    <para><revhistory>
        <revision>
          <revnumber>0.0</revnumber>

          <date>2002</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para><citetitle>Опубликован как Глава 1 Using
            Firebird</citetitle>.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.0</revnumber>

          <date>2003</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para>Отдельная публикация как свободное Quick Start Guide.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.x</revnumber>

          <date>June 2004</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para>Передано Firebird Project от IBPhoenix.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.0</revnumber>

          <date>27 Aug 2004</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Обновлено для Firebird 1.5</para>

            <para>Добавлен раздел Classic vs. Superserver.</para>

            <para>Реструктуиризация и исправления таблицы Размещение на диске
            (Disk Locations Table).</para>

            <para>Добавлены (новые) скриншоты.</para>

            <para>Добавлен раздел о безопасности.</para>

            <para>Обновлен и завершен подраздел об апплете панели управления
            (Control Panel applets)</para>

            <para>Добавлены примеры в подраздел Выражения,вкллючающие NULL
            (<quote>Expressions involving
            <constant>NULL</constant></quote>).</para>

            <para>Другие исправления и дополнения.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.1</revnumber>

          <date>20 Feb 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Улучшения раздела GSEC.</para>

            <para>Добавлено много информации в разделы Соединениние и Создание
            БД (<database>CONNECT</database> and <database>CREATE
            DATABASE).</database></para>

            <para>Добавлены номер версии и история документа.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.1.1</revnumber>

          <date>1 Mar 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Замена <literal>gbak r[estore]</literal> <literal>на
            r[eplace]</literal> в двух местах.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.1.2</revnumber>

          <date>8 Apr 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Переделаны подразделы Firebird SQL.</para>

            <para>Добавлена ссылка на Firebird Null Guide.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.2</revnumber>

          <date>2 Dec 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Удалён раздел "Using the books by IBPhoenix".</para>

            <para>Раздел "How to get help" - из списка удалено "Where to
            next".</para>

            <para>Удалена ссылка на UFB и RefGuide, добавлены замечания о
            текущем статусе.</para>

            <para>Обновлена/исправлена таблица сравнения classic-super
            серверов.</para>

            <para>Раздел ы по установке и работе с БД перемещены созданные
            выше разделы.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.2.1</revnumber>

          <date>22 Dec 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Исправлен</para>

            <para>Corrected формулировки о потоках SS в таблице
            Classic-vs-Superserver.</para>

            <para>Исправлены неработающие ссылки.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>3.0</revnumber>

          <date>21 May 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Создание 2.0 Quick Start Guide, XML и другое.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>3.2</revnumber>

          <date>10 Aug 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Реклама <quote>Firebird Project members</quote> co-authors
            in articleinfo.</para>

            <para>Обновлены ссылки на
            сайты(<literal>firebird.sourceforge.net</literal> -&gt;
            <literal>www.firebirdsql.org</literal>).</para>

            <para>Удалены строки <quote>завершённость</quote> и <quote>Сервис
            менеджерr</quote> в таблице Classic-vs-Super; они другие для
            Firebird 2. Изменения в строке локальное подключение: CS и SS
            теперь оба имеют его, надёжное локальное соединение для ОС
            Windows. Добавлена строка Guardian. Prepended a column with
            feature names.</para>

            <para>Удалено замечание об отсутствии полноц поддержки сервис
            менеджера для Classic.</para>

            <para>Удалён паранраф 2 в разделе Размещение на диске (Disk
            Locations Table).</para>

            <para>Удалена ссылка на неудачное подключение к Classic/Win без
            указания имени хоста.</para>

            <para>Обновлено положение строк в таблице и добавлена строка для
            документации.</para>

            <para>Отредактирован раздел про установку, добавлены разделы про
            Guardian и установку нескольких серверов. Удалено замечание
            <quote>if-you-do-not-find-the-release-notes</quote></para>

            <para>Edited the Installation sections; added sections on Guardian
            and installing multiple servers. Removed
            <quote>if-you-do-not-find-the-release-notes</quote> tip.</para>

            <para>Существенно отредактирован и расширен разделы в "Проверка
            работы после установки".</para>

            <para>Подраздел <quote>Other things you need</quote> разбит и
            перемещён в разные разделы.</para>

            <para>Добавлен раздел про gsec (состоя частично из существующего
            материала).</para>

            <para>Значительные улучшения и расширение раздела Безопасность,
            перемещён в другое место.</para>

            <para>Расширение и уулучшение раздела "Апплет панели управления
            Windows".</para>

            <para>Отредактирован раздел "Работа с БД". Добавлен специальный
            раздел о строке подключения. Добавлена информация о доступе к
            объектам БД. Команда <literal>EXIT. Локальное и удалённое
            подключения.</literal></para>

            <para>Edited <quote>Working with databases</quote>. Added a
            special section on connection strings. Added information on access
            to database objects, the <literal>EXIT</literal> statement, and
            local vs. remote connections. Короткие строки в примерах для
            улучшения читабельности. Расширен параграф о метаданных.</para>

            <para>Ослаблено утверждение, что Firebird более SQL-совместим, чем
            другие RDBMS.</para>

            <para>Изменения в "Выражения, ыключающие NULL". Добавлен подраздел
            о <database>DISTINCT</database>. Изменения в подразделе
            "Дополнительно о NULL"</para>

            <para>Changed the <quote>Expressions involving
            <constant>NULL</constant></quote> section. Added a subsection on
            <database>DISTINCT</database>. Небольшие изменения в <quote>More
            about <constant>NULL</constant>s</quote>.</para>

            <para>Переименование "Меры по обеспечению безопасности" в
            "Предотвращение потери данных"</para>

            <para>Renamed <quote>Safety measures</quote> to <quote>Preventing
            data loss</quote>. Подраздел Безопасность перемещён в другое
            место.</para>

            <para>Расширен раздел <citetitle>Резервная копия</citetitle> -
            включена информация об nbackup. Добавлены ссылки на
            документацию.</para>

            <para>В разделе "Как повредить БД" изменён синтаксис с gbak -r на
            gbak -rep и добавлены расширенные замечания.</para>

            <para>Добавлено<quote>IB6 + rlsnotes</quote> в раздел "Как
            получить помощь". Also mentioned firebird-support
            explicitly.</para>

            <para>Коррекция номера версии, частей и ихсодержимого.</para>

            <para>Большинство разделов перестроено, перемещено на другие места
            в иерархии и другое. Множество мелких модификаций.</para>

            <para>Добавлено <quote>Happy Firebirding!</quote> в заключительном
            разделе.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>3.3</revnumber>

          <date>15 Oct 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Таблица Размещение на диске: добавлена утилита командной
            строки isql, добавлена строка дополнительные библиотеки
            сервера.</para>

            <para>Добавлен параграф введение в "Установка Firebird". Изменения
            в параграфе "Установка на Linux...".</para>

            <para>Изменения и расширения в "Проверка работы сервера на Linux и
            другигих Unices".</para>

            <para>Исправления и расширения подразделе Установка клиента Linux
            .</para>

            <para>Раздел Безопасность: перемещён последний параграф "Защита
            БД..." Описан в новых терминах локальный режим для Classic.</para>

            <para>Строки подключения: улучшения и расширения вводного
            параграфа, добавлен подраздел о требованиях сторонних
            программ.</para>

            <para>Изменены 3 и 4 параграфы в "Подключение к существующим БД".
            Использование относительных путей в примерах подключений.
            Обновления/Исправления замечания о квоитрованных
            идентификаторах.</para>

            <para>Отредактирован первое замечание "Важно" в ""</para>

            <para>Edited first <quote>Important</quote> item in <quote>Команда
            CREATE DATABASE</quote>.</para>

            <para>Обновления предупреждения при соединении больших
            строк.</para>

            <para>Расширены замечания в "Восстановление резервной копии в
            работающую БД ".</para>

            <para>Обновлёния в последнем предложении первого параграфа "Проект
            Firebird".</para>
          </revdescription>
        </revision>
      </revhistory></para>
  </appendix>

  <appendix id="qsg2-license-ru">
    <title><indexterm>
        <primary>License notice</primary>
      </indexterm>Лицензионное соглашение</title>

    <para>Содержимое этой Документации попадает под действие Public
    Documentation License версии 1.0 (в дальнейшем <quote>Лицензия</quote>).
    Вы можете использовать эту Документацию, если Вы принимаете положения этой
    Лицензии. Прочитать Лицензию можно по следующим ссылкам: <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) и <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML).</para>

    <para>Оригинальный Документ имеет название <citetitle>Firebird Quick Start
    Guide</citetitle>.</para>

    <para>Первоначальным автором этого документа является IBPhoenix
    Editors.</para>

    <para>Copyright (C) 2002-2004. Все права зарезервированы. Контакты
    первоначального автораt ibphoenix dot com.</para>

    <para>Помошник: Paul Vinkenoog - смотрите <link
    linkend="qsg2-dochist">document history</link>.</para>

    <para>Деление на разделы - Paul Vinkenoog are Copyright (C) 2004-2006. Все
    права зарезервированы. Контакты Помошника: paul at vinkenoog dot
    nl.</para>
  </appendix>

  <index id="qsg2-index">
    <title>Alphabetical index</title>
  </index>
</article>