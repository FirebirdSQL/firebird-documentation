<?xml version="1.0" encoding="UTF-8"?>
<!-- For standalone validation, uncomment the following DOCTYPE declaration. -->
<!-- DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"> "file:../docs/docbookx/docbookx.dtd" -->
<article id="qsg15-ru" lang="ru">
  <articleinfo>
    <title>Firebird 1.5 Быстрый старт</title>

    <titleabbrev>Firebird 1.5 Quick Start</titleabbrev>

    <authorgroup>
      <corpauthor>IBPhoenix Editors</corpauthor>

      <othercredit>
        <surname>Firebird Project</surname>

        <contrib>Изменения и дополнения</contrib>
      </othercredit>

      <othercredit>
        <firstname>Григорий</firstname>

        <surname>Сапунков</surname>

        <contrib>Перевод с английского</contrib>
      </othercredit>
    </authorgroup>

    <bibliosource>Firebird 1.5 Quick Start Guide</bibliosource>

    <edition>15 Марта 2007 - Версия документа 2.2.2.ru</edition>
  </articleinfo>

  <section id="qsg15-about-ru">
    <title>Об этом руководстве</title>

    <para>Данное руководство представляет собой введение в основы Firebird.
    Для более детального ознакомления с особенностями конфигурирования и
    запуска Вашего сервера, а также изучения вопросов настройки установленного
    программного обеспечения, обращайтесь к главам 4-6 руководства
    <citetitle>Using Firebird</citetitle>, распространяемого на <ulink
    url="http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;page=ibp_cd">IBPhoenix
    CD</ulink>.</para>

    <para>Материал, изложенный в <citetitle>Firebird Quick Start
    Guide</citetitle>, изначально появился как глава 1 руководства
    <citetitle>Using Firebird</citetitle>, распространяемого на компакт-дисках
    компанией <ulink url="http://www.ibphoenix.com">IBPhoenix</ulink>. В
    последствии он был опубликован в сети Интернет в виде отдельного
    документа. В июне 2004 года IBPhoenix пожертвовала данное руководство
    проекту Firebird.</para>

    <important>
      <para>Убедитесь, что используемая Вами версия Firebird соответствует
      описываемой в этом руководстве. В данном тексте рассматриваются версии
      1.5 и выше. Если Вы используете Firebird версий 1.0, 1.0.2 или 1.0.3,
      воспользуйтесь соответствующей версией руководства Quick Start Guide,
      которую можно получить по ссылке <ulink
      url="http://www.firebirdsql.org/manual/">http://www.firebirdsql.org/manual/</ulink>
      (HTML) или <ulink
      url="http://www.firebirdsql.org/pdfmanual/">http://www.firebirdsql.org/pdfmanual/</ulink>
      (PDF).</para>
    </important>
  </section>

  <section id="qsg15-kit-contents-ru">
    <title><indexterm class="singular" scope="local">
        <primary>Установка</primary>

        <secondary>содержимое комплекта</secondary>
      </indexterm>Что в комплекте?</title>

    <para>Каждый пакет содержит все необходимые компоненты для установки
    сервера Firebird:</para>

    <itemizedlist>
      <listitem>
        <para>Исполняемый модуль Firebird.</para>
      </listitem>

      <listitem>
        <para>Клиентская библиотека, располагаемая на серверной машине.</para>
      </listitem>

      <listitem>
        <para>Утилиты командной строки.</para>
      </listitem>

      <listitem>
        <para>Стандартные библиотеки пользовательских функций (user-defined
        function libraries, UDF).</para>
      </listitem>

      <listitem>
        <para>Образец базы данных.</para>
      </listitem>

      <listitem>
        <para>Заголовочные файлы языка C (не требуются для
        начинающего!)</para>
      </listitem>

      <listitem>
        <para>Release notes (Замечания к выпуску) – Обязательно к
        прочтению!</para>
      </listitem>
    </itemizedlist>
  </section>

  <section id="qsg15-classic-or-super-ru">
    <title><indexterm class="singular" scope="local">
        <primary>Classic Server</primary>
      </indexterm><indexterm class="singular" scope="local">
        <primary>Superserver</primary>
      </indexterm><indexterm class="singular" scope="local">
        <primary>Установка</primary>

        <secondary>Classic или Superserver</secondary>
      </indexterm>Classic или Superserver?</title>

    <para>Firebird выпускается в двух видах, называемых
    <firstterm>архитектурах</firstterm>: Classic Server и Superserver. Какую
    установить Вам? Ответ на этот вопрос, конечно же, зависит от вашей
    ситуации. Основные различия представлены в таблице.</para>

    <table>
      <title>Firebird 1.5 Classic Server vs. Superserver</title>

      <tgroup cols="2">
        <colspec colname="col-classic" colwidth="3*" />

        <colspec colname="col-super" colwidth="4*" />

        <thead>
          <row>
            <entry align="center"><para>Classic Server</para></entry>

            <entry align="center"><para>Superserver</para></entry>
          </row>
        </thead>

        <tbody>
          <row valign="top">
            <entry><para>Полностью зрелое решение для платформы Linux. Под
            Windows доступно начиная с версии 1.5.1.<!--This statement based on fb-devel thread 24 Sep 2005.--></para></entry>

            <entry><para>Полностью зрелое решение, как для Windows, так и для
            Linux.</para></entry>
          </row>

          <row valign="top">
            <entry><para>На каждое пользовательское соединение создается
            отдельный процесс со своим кэшем. При малом количестве соединений
            потребляется меньше ресурсов.</para></entry>

            <entry><para>Один серверный процесс обсулживает все подключения,
            используя потоки для обработки запрососв. Разделяемое пространство
            кэша. Более эффективен (в плане потребления ресурсов) в случае
            роста числа одновременных соединений.</para></entry>
          </row>

          <row valign="top">
            <entry><para>Обеспечивает быстрые, прямые операции ввода/вывода к
            файлам базы данных для локальных соединений на платформе Linux.
            Под Windows локальные соединения необходимо осуществлять через
            интерфейс <systemitem
            class="systemname">localhost</systemitem>.</para></entry>

            <entry><para>Под Linux локальные соединения осуществляются
            посредством подключения к <systemitem
            class="systemname">localhost</systemitem> (часто неявно). Под
            Windows, это опционально, и допустимо осуществлять прямое
            локальное подключение, но этот вариант не будет работать также
            быстро как <quote>Классический</quote> вариант под Linux, кроме
            того, он менее надежный.</para></entry>
          </row>

          <row valign="top">
            <entry><para>В версии 1.5 частично реализован <firstterm>Services
            Manager</firstterm>, поддерживающий операции типа
            резервирования/восстановления, останов базы данных и т.д. по сети.
            Другие задачи придется осуществлять локально, используя отдельные
            утилиты, поставляемые вместе с Firebird.</para><para>В версии
            1.5.1 Services Manager реализован полностью.</para><!--This statement based on 1.5 and 1.5.1 relnotes.--></entry>

            <entry><para>Полноценный <firstterm>Services Manager</firstterm>,
            позволяющий программно осуществлять операции по управлению
            (резервирование/восстановление, останов базы данных, управление
            пользователями, получение статистики и т.д.). Вы можете
            подключиться к Services Manager по сети и, соответственно,
            выполнять эти операции удаленно. </para></entry>
          </row>

          <row valign="top">
            <entry><para>Поддерживается SMP (Symmetrical Multiprocessing,
            симметричная многопроцессорность). Лучшая производительность в
            случае малого числа множественных соединений, не влияющих друг на
            друга.</para></entry>

            <entry><para>SMP не поддерживается. На многопроцессорных серверах
            под управлением Windows, производительность может резко снизиться,
            поскольку операционная система будет переключать процесс
            (Firebird) между процессорами. Чтобы избежать этого, установите
            параметр <parameter>CpuAffinityMask</parameter> в конфигурационном
            файле <filename>firebird.conf</filename>.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>Как видите, нет варианта, полностью превосходящего альтернативную
    архитектуру по всем параметрам. Это и не удивительно: мы бы не стали
    поддерживать две архитектуру, если бы одна из них была безнадежна по всем
    статьям.</para>

    <para>Если Вы все еще не уверены, что именно выбрать (возможно,
    технические подробности показались Вам чересчур сложными для
    <quote>Быстрого старта</quote>) воспользуйтесь следующим правилом:</para>

    <itemizedlist spacing="compact">
      <listitem>
        <para>Под Windows выбирайте Superserver.</para>
      </listitem>

      <listitem>
        <para>Под Linux, просто выбирайте один или другой вариант. В
        большинстве случаях, скорее всего, Вы не заметите разницы.</para>
      </listitem>
    </itemizedlist>

    <para>Обращаем Ваше внимание, что в любой момент времени Вы можете перейти
    на другую архитектуру. При этом Ваши базы данных и приложения продолжат
    работать без изменений (за исключением случаев использования
    неподдерживаемых и/или неисправных функций Services Manager в Classic
    Server).</para>

    <para>Для Linux, названия пакетов для архитектуры Superserver начинаются с
    <literal>FirebirdSS</literal>, для Classic Server –
    <literal>FirebirdCS</literal>. Для Windows инсталляционный пакет
    комбинированный; архитектура выбирается во время процедуры
    установки.</para>

    <note>
      <para>Признаться, мы были не совсем честны с Вами. Существует еще и
      третья разновидность Firebird: <firstterm>Embedded Server</firstterm>,
      но это особенный <quote>зверь</quote>, который, скорее всего, не
      подойдет для Вашего обычных клиент-серверных инсталляций. За
      дополнительной информацией обращайтесь к Release Notes.</para>
    </note>
  </section>

  <section id="qsg15-disk-locations-ru">
    <title><indexterm>
        <primary>Расположение на диске</primary>
      </indexterm>Стандартное расположение на диске</title>

    <para>Далее в таблице приводится принятое по умолчанию расположение
    компонентов на диске для Windows и Linux систем.</para>

    <para>При основательной переработке кода, начатой в версии 1.5, были
    удалены жесткие привязки, используемые в InterBase®, а также переименованы
    многие компоненты. В результате Firebird 1.5 позволяет (потенциально)
    одновременно с собой присутствовать запущенному серверу InterBase®,
    обеспечивая возможность обоим серверами не слушать один и тот же порт
    TCP/IP. Если Вам необходима такая возможность, обратитесь к разделу
    <citetitle>Configuring the port service</citetitle> в Release Notes,
    прилагаемых к Firebird (см. директорию <filename
    class="directory">doc</filename>).</para>

    <table frame="all" id="qsg15-tbl-firebird-components-ru"
           xreflabel="Компоненты Firebird 1.5 и их расположение">
      <title>Компоненты Firebird 1.5 и их расположение</title>

      <tgroup cols="4">
        <colspec align="left" colname="col-platform" colwidth="2*" />

        <colspec align="left" colname="col-component" colwidth="3*" />

        <colspec align="left" colname="col-filename" colwidth="3*" />

        <colspec align="left" colname="col-location" colwidth="3*" />

        <thead>
          <row>
            <entry><para>Платформа</para></entry>

            <entry><para>Компонент</para></entry>

            <entry><para>Имя файла</para></entry>

            <entry><para>Расположение по умолчанию</para></entry>
          </row>
        </thead>

        <tbody valign="top">
          <row>
            <entry morerows="5"><para>32-bit and 64-bit
            Windows</para><para>(Windows 95, 98, ME, NT, 2000, XP,
            ...)</para></entry>

            <entry><para>Директория, в которую устанавливается
            пакет</para><para>(далее обозначается как
            <varname>&lt;InstallDir&gt;</varname>)</para></entry>

            <entry></entry>

            <entry><para><filename class="directory">C:\Program
            Files\Firebird\Firebird_1_5</filename></para></entry>
          </row>

          <row>
            <entry><para>Сервер Firebird</para></entry>

            <entry><para><filename>fbserver.exe</filename> (SS) or
            <filename>fb_inet_server.exe</filename> (CS)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Утилиты командной строки</para></entry>

            <entry><para><filename>gbak.exe</filename>,
            <filename>gfix.exe</filename>, <filename>gstat.exe</filename>,
            etc.</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Образец базы данных</para></entry>

            <entry><para><filename>employee.fdb</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\examples</filename></para></entry>
          </row>

          <row>
            <entry><para>Библиотеки пользовательских функций
            (UDF)</para></entry>

            <entry><para><filename class="libraryfile">ib_udf.dll</filename> и
            <filename class="libraryfile">fbudf.dll</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\UDF</filename></para></entry>
          </row>

          <row>
            <entry><para>Клиент Firebird</para></entry>

            <entry><para><filename
            class="libraryfile">fbclient.dll</filename></para><para>(для
            поддержки старых приложений, опциально, присутствует <filename
            class="libraryfile">gds32.dll</filename>)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;\bin</filename></para><para>(копия,
            опционально, располагается в системной директории Windows– см.
            замечание ниже)</para></entry>
          </row>

          <row>
            <entry morerows="5"><para>Linux и, возможно, другие UNIX
            дистрибутивы</para></entry>

            <entry><para>Директория, в которую устанавливается
            пакет</para><para>(далее обозначается как
            <varname>&lt;InstallDir&gt;</varname>)</para></entry>

            <entry></entry>

            <entry><para><filename
            class="directory">/opt/firebird</filename></para></entry>
          </row>

          <row>
            <entry><para>Сервер Firebird</para></entry>

            <entry><para><filename>fbserver</filename> (SS) or
            <filename>fb_inet_server</filename> (CS)</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Утилиты командной строки</para></entry>

            <entry><para><filename>gbak</filename>, <filename>gfix</filename>,
            <filename>gstat</filename>, etc.</para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/bin</filename></para></entry>
          </row>

          <row>
            <entry><para>Образец базы данных</para></entry>

            <entry><para><filename>employee.fdb</filename></para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/examples</filename></para></entry>
          </row>

          <row>
            <entry><para>Библиотеки UDF</para></entry>

            <entry><para><filename class="libraryfile">ib_udf.so</filename>,
            <filename class="libraryfile">fbudf.so</filename> </para></entry>

            <entry><para><filename
            class="directory">&lt;InstallDir&gt;/UDF</filename></para></entry>
          </row>

          <row>
            <entry><para>Клиент Firebird</para></entry>

            <entry><para><filename
            class="libraryfile">libfbclient.so.1.5.<varname>n</varname></filename>
            (двоичный файл); <filename
            class="symlink">libfbclient.so.1</filename>, <filename
            class="symlink">libfbclient.so</filename> (символические
            ссылки)</para><para>Для поддержки старых приложений также
            создаются символические ссылки вида <filename
            class="symlink">libgds*</filename>.</para></entry>

            <entry><para><filename
            class="directory">/usr/lib</filename></para><para>(фактически
            библиотеки лежат в <filename
            class="directory">&lt;InstallDir&gt;/lib</filename>, но Вам
            следует пользоваться символическими ссылками из <filename
            class="directory">/usr/lib</filename>)</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <note>
      <para>Конкретный путь к системной папке Windows зависит от версии
      Windows. Обычно это:</para>

      <itemizedlist spacing="compact">
        <listitem>
          <para>для Windows 95/98/ME: <filename
          class="directory">C:\Windows\System</filename></para>
        </listitem>

        <listitem>
          <para>для Windows NT/2000: <filename
          class="directory">C:\WINNT\System32</filename></para>
        </listitem>

        <listitem>
          <para>для Windows XP: <filename
          class="directory">C:\Windows\System32</filename></para>
        </listitem>
      </itemizedlist>
    </note>
  </section>

  <section id="qsg15-installing-firebird-ru">
    <title><indexterm>
        <primary>Установка</primary>
      </indexterm>Устанавливаем Firebird</title>

    <section id="qsg15-installing-server-ru">
      <title><indexterm>
          <primary>Установка</primary>

          <secondary>сервер</secondary>
        </indexterm>Установка сервера</title>

      <section>
        <title><indexterm>
            <primary>Установка</primary>

            <secondary>диски</secondary>
          </indexterm>Диски</title>

        <para>Сервер Firebird и любые базы данных, к которым Вы подключаетесь
        или которые Вы создаете, должны располагаться на жестком диске,
        физически подключенном к компьютеру (на котором работает сервер). Вы
        не можете располагать сервер, какие либо его компоненты или какую-либо
        базу данных на подключенном (mapped) диске, разделяемом (share) диске
        или сетевой файловой системе.</para>

        <note>
          <para>Вы можете смонтировать базу данных в режиме read-only с
          CD-ROM, но вы не можете запустить сервер Firebird с него.</para>
        </note>
      </section>

      <section>
        <title><indexterm>
            <primary>Установка</primary>

            <secondary>дистрибутивные пакеты</secondary>
          </indexterm>Дистрибутивные пакеты</title>

        <para>Хотя и возможно установить Firebird методом копирования,
        <quote>раз-tar-ив</quote> файл моментальной сборки (snapshot build)
        или разархивировав <filename class="extension">.zip</filename> файл,
        настоятельно рекомендуется, по крайней мере, для Вашего первого раза,
        использовать дистрибутив окончательной (release) версии. Исполняемый
        пакет для Windows, <application>rpm-пакет</application>
        (<application><citetitle>RPM Package Manager</citetitle>, ранее
        известный как <citetitle>RedHat Package
        Manager</citetitle></application>) для Linux и официальный <filename
        class="extension">.tar.gz</filename>-пакет для Posix-систем выполняют
        определенные важные действия по установке. Следуя предлагаемым
        инструкциям Вы должны без проблем и лишних телодвижений получить
        установленный пакет, готовый к использованию!</para>

        <section>
          <title>Платформа Windows</title>

          <para>Инсталляционная программа Firebird предоставляет Вам
          возможность выбирать между Superserver или Classic Server. Как уже
          отмечалось ранее, Вам следует выбрать Superserver, за исключением
          случаев, когда Вы понимаете разницу, и у Вас есть основания
          использовать Classic Server.</para>

          <para>Если Firebird устанавливается на Windows 95/98/ME, отмените
          опцию, предлагающую установить апплет на Панель Управления. На этих
          версиях он не работает. Далее по тексту Вам будет предложено
          альтернативное решение.</para>

          <para>На серверных платформах – Windows NT, 2000 и XP – сервис
          Firebird будет запущен по окончанию установки. После перезагрузки
          сервера, он будет стартовать в автоматическом режиме.</para>

          <para><indexterm>
              <primary>Guardian</primary>
            </indexterm> На не серверных платформах – Windows 95, 98 и ME –
          сервисы не поддерживаются. Инсталляционная программа запустит сервер
          Firebird как приложение, защищаемое (контролируемое) другим
          приложением - Guardian. В случае ненормального завершения работы
          сервера по каким-либо причинам, Guardian попытается перезапустить
          его.</para>
        </section>

        <section>
          <title>Posix платформы</title>

          <para>В любом случае, прочитайте Release Notes, относящиеся к версии
          Firebird, которую Вы собираетесь устанавливать. Возможны
          значительные расхождения между версиями различных Posix операционных
          систем, особенно это актуально для ОС, распространяемых в открытых
          кодах (Open Source). Соответственно есть вероятность, что известные
          специфические особенности относительно Вашего случая описаны.</para>

          <tip>
            <para>Если в вашем комплекте не оказалось копии Release Notes,
            вернитесь к <ulink
            url="http://www.firebirdsql.org/index.php?op=files">Downloads
            page</ulink> на web-сайте проекта Firebird <ulink
            url="http://www.firebirdsql.org/">http://www.firebirdsql.org/</ulink>
            и загрузите копию оттуда.</para>
          </tip>

          <para>В случае если Ваш дистрибутив Linux поддерживает установку
          <application>rpm</application>-пакетов, обратитесь к
          соответствующему руководству за инструкциями по использованию
          <application>RPM Package Manager</application>. В большинстве
          дистрибутивов у Вас будет выбор между командной строкой или
          графическим интерфейсом.</para>

          <para>Для дистрибутивов Linux, которые не поддерживают
          <application>работу с rpm</application>-пакетами, а также для
          различных разновидностей UNIX, воспользуйтесь <filename
          class="extension">.tar.gz</filename>-пакетом. Детальные инструкции
          Вы найдете в Release Notes.</para>

          <para>Необходимые скрипты для командного процессора (Shell)
          прилагаются в комплекте. В некоторых случаях, в Release Notes Вам
          будет предложено внести корректировки в их содержание.</para>
        </section>
      </section>
    </section>

    <section id="qsg15-installing-testing-ru"
             xreflabel="Тестируем то, что установили">
      <title><indexterm>
          <primary>Тестирование</primary>
        </indexterm>Тестируем то, что установили</title>

      <para>Если все прошло как задумано, по окончанию процесса установки
      будет запущен серверный процесс Firebird, который будет запускаться
      автоматически при перезагрузке сервера.</para>

      <para>С этого момента предполагается, что для клиент-серверного
      взаимодействия Вы будете использовать рекомендованный протокол
      TCP/IP.</para>

      <note>
        <para>Информацию об использовании протокола NetBEUI в Windows
        инфрастуктуре Вы можете получить, обратившись к главе 6
        <citetitle>Network Configuration</citetitle> руководства
        <citetitle>Using Firebird</citetitle>.</para>
      </note>

      <warning>
        <para>Firebird не поддерживает сети IPX/SPX.</para>
      </warning>

      <section>
        <title><indexterm>
            <primary>Ping</primary>
          </indexterm>Проверяем видимость сервера</title>

        <para>Обычно, первое, что Вам захочется сделать по окончании процесса
        инсталляции - опросить (про-ping-овать) сервер. Эта процедура позволит
        Вам убедиться, что клиентская машина в состоянии видеть (на уровне
        сети) сервер. Например, если в сетевом домене клиента сервер должен бы
        быть доступен по IP-адресу 192.13.14.1, перейдите в командную строку и
        выполните команду</para>

        <blockquote>
          <para><command>ping 192.13.14.1</command></para>
        </blockquote>

        <para>заменив вымышленный IP-адрес Вашим реальным.</para>

        <warning>
          <para>Если Вы получаете timeout-сообщения (и не знаете, что с этим
          делать), изучите материал <citetitle>Using Firebird</citetitle> –
          глава 6: <citetitle>Network Configuration</citetitle> и глава 7:
          <citetitle>Troubleshooting Connections</citetitle> – для дальнейших
          инструкций.</para>
        </warning>

        <para>Обратите внимание, что если Вы соединяетесь с сервером локальным
        клиентом, т.е. клиент работает на том же компьютере, что и сервер, Вы
        можете воспользоваться, интерфейсом обратной петли или
        loopback-интерфейсом:</para>

        <blockquote>
          <para><command>ping localhost</command> –or– <command>ping
          127.0.0.1</command></para>
        </blockquote>
      </section>

      <section>
        <title><indexterm>
            <primary>Проверка сервера</primary>
          </indexterm>Проверяем работу сервера Firebird</title>

        <para>После установки, сервер Firebird должен быть запущен как сервис
        на Windows NT, 2000 или XP или на Linux.</para>

        <section>
          <title>Windows NT4, 2000 и XP</title>

          <para>Откройте Control Panel (Панель управления) -&gt; Services
          (Службы) под NT или Control Panel (Панель управления) -&gt;
          Administrative Tools (Администрирование) -&gt; Services (Службы) под
          2000, XP.</para>

          <para><indexterm>
              <primary>Services (Windows)</primary>
            </indexterm><indexterm>
              <primary>Службы (Windows)</primary>
            </indexterm>На картинке представлен вид апплета Services (Службы)
          на Windows 2000. Внешний вид может изменяться в зависимости от
          версии Windows.</para>

          <mediaobject>
            <imageobject>
              <imagedata align="center" fileref="images/services.png"
                         format="PNG" />
            </imageobject>
          </mediaobject>

          <para><indexterm>
              <primary>Guardian</primary>
            </indexterm>При использовании Guardian (как, например, в случае,
          отображенном на картинке), название данного сервиса может
          варьироваться в зависимости от используемой версии Firebird.</para>

          <note>
            <para>Использование Guardian на Windows 2000 и XP - вопрос больше
            удобства, чем необходимости, так как данные операционные системы
            предоставляют средства контроля работы сервисов и, при
            необходимости, их перезапуска. На других платформах, если у Вас
            (или того, кто выполняет функции SYSDBA на Вашем сервере) нет
            возможности отслеживать работу сервиса и в случае останова по
            какой-либо причине перезапускать его вручную, рекомендуется
            использовать Guardian.</para>
          </note>
        </section>

        <section>
          <title>Windows 9x или ME</title>

          <para><indexterm>
              <primary>Guardian</primary>
            </indexterm>Под Windows 9x или ME сервер Firebird следует
          запускать в качестве приложения, контролируемого Guardian.
          Соответствующая иконка Guardian в зеленных тонах должна появиться в
          области состояния на панели задач (<remark>прим. перев.:</remark>
          <quote>там, где часы</quote> © фидо). Если иконка мигает или
          отображается в красных тонах, это означает, что Guardian либо
          пытается перезапустить сервер, либо у него это не получилось.</para>

          <para>Если Вы использовали установочный комплект, который установил,
          но автоматически не запустил Guardian и сервер Firebird, Вы можете
          проделать следующее:</para>

          <orderedlist>
            <listitem>
              <para>Найдите исполняемый файл приложения Guardian
              (<filename>fbguard.exe</filename>) и создайте для него ярлык в
              подменю Startup (Автозагрузка) главного меню, доступному по
              нажатию кнопки Start (Пуск).</para>
            </listitem>

            <listitem>
              <para>Откройте окно Properties (Свойства) созданного ярлыка и
              перейдите к полю Target (Объект).</para>
            </listitem>

            <listitem>
              <para>Измените это поле, в соответствии с Вашим случаем (текст,
              набранный полужирным шрифтом):</para>

              <blockquote>
                <para><literal><command>fbguard.exe -a</command></literal>
                (для Superserver)</para>

                <para><literal><command>fbguard.exe -c</command></literal>
                (для Classic Server)</para>
              </blockquote>
            </listitem>

            <listitem>
              <para>Сохраните изменения и закройте окно Properties
              (Свойтва).</para>
            </listitem>

            <listitem>
              <para>Двойным щелчком по ярлыку запустите Guardian. Guardian
              запустит <filename>fbserver.exe</filename> или
              <filename>fb_inet_server.exe</filename>.</para>
            </listitem>
          </orderedlist>

          <para>При последующей перезагрузке, Guardian должен запуститься
          автоматически.</para>

          <para>В качестве альтернативы, Вы можете использовать апплет Control
          Panel (панели управления) для управления запуском и остановом
          сервера Firebird.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Апплет Панели управления</primary>
            </indexterm>Апплет Панели управления</title>

          <para>Начиная с версии 1.0.3, в состав дистрибутива Firebird входит
          апплет Панели управления. Несмотря на свой скромный вид он
          предоставляет удобный способ запуска и останова сервера.</para>

          <mediaobject>
            <imageobject>
              <imagedata align="center"
                         fileref="images/FbServerControl-1.5.png" format="PNG" />
            </imageobject>
          </mediaobject>

          <para>К сожалению апплет работает только под Windows NT, 2000 и XP.
          Если Вам нужен аналогичный апплет для Windows 9x и ME, посетите эту
          страницу:</para>

          <blockquote>
            <para><ulink
            url="http://www.achim-kalwa.de/fbcc.phtml">http://www.achim-kalwa.de/fbcc.phtml</ulink></para>
          </blockquote>

          <para>и загрузите Firebird Control Center <ulink
          url="http://www.achim-kalwa.de/dl/fbcc-0.2.6.exe">fbcc-0.2.6.exe</ulink>.</para>

          <para>Этот апплет внешне отличается от изображенного на картинке, но
          он предоставляет аналогичный функционал.</para>
        </section>

        <section>
          <title>Posix-сервера</title>

          <para><indexterm>
              <primary>Команда top (Linux)</primary>
            </indexterm><indexterm>
              <primary>Guardian</primary>
            </indexterm>Для интерактивного отслеживания запущенных процессов в
          интерфейсе командной строки, воспользуйтесь командой
          <command>top</command>. Если запущен Firebird Superserver, Вы должны
          увидеть процесс с названием <application><systemitem>fbguard -
          </systemitem></application>Guardian, кроме того, должен быть один
          главный и, возможно, несколько дочерних процессов с названием
          <application><systemitem>fbserver</systemitem></application>.</para>

          <para>Имя процесса для версии Classic Server -
          <application><systemitem>fb_inet_server</systemitem></application>.
          Для каждого обслуживаемого сетевого соединения будет по одному
          экземпляру. Однако, Вы не увидите
          <application><systemitem>fb_inet_server</systemitem></application> в
          списке процессов, если в текущий момент времени нет активных
          соединений, или осуществляются только прямые локальные
          соединения.</para>

          <para>Далее представлен вид экрана, на котором отображен результат
          выполнения команды<application> top</application>, для вывода только
          процессов с именами, начинающимися с букв <literal>fb</literal>,
          была использована команда <application>grep</application>:</para>

          <screen>frodo:/inkomend/firebird # top -b -n1 | grep fb
 2587 firebird  24   0  1232 1232 1028 S  0.0  0.3   0:00.00 fbguard
 2588 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.04 fbserver
 2589 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2604 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2605 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.02 fbserver
 2606 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver
 2607 firebird  15   0  4124 4120 2092 S  0.0  0.9   0:00.00 fbserver</screen>

          <para>Как вариант, вместо команды <application>top</application>, Вы
          можете использовать <command>ps -ax</command> или <command>ps
          -aux</command>, при необходимости перенаправив вывод
          <application>grep</application>.</para>
        </section>
      </section>
    </section>

    <section id="qsg15-installing-other-ru">
      <title>Что еще может понадобиться</title>

      <section>
        <title><indexterm>
            <primary>Сетевой адрес</primary>
          </indexterm>Сетевой адрес для сервера</title>

        <itemizedlist>
          <listitem>
            <para>В администрируемой сети обратитесь к системному
            администратору за IP-адресом для Вашего сервера.</para>
          </listitem>

          <listitem>
            <para>Если у Вас простая изолированная сеть из, например, двух
            компьютеров, Вы можете назначить серверу любой IP-адрес за
            исключением 127.0.0.1 (который зарезервирован за локальным
            loopback-интерфейсом) и, конечно же, IP-адресом, назначенным для
            клиентского (второго) компьютера.</para>
          </listitem>

          <listitem>
            <para>Если Вы намерены испробовать установку и клиента и сервера
            на автономном компьютере, Вам необходимо использовать адрес
            loopback-интерфейса – <systemitem
            class="constant">localhost</systemitem>, с IP-адресом
            127.0.0.1</para>
          </listitem>
        </itemizedlist>

        <note>
          <para>Под Windows к Superserver возможно осуществлять локальное
          подключение без использования loopback-интерфейса. Это не
          TCP/IP-соединение и это не потоко-безопасный (thread-safe) способ
          подключения к локальному серверу. Этот способ хорош при эксклюзивном
          режиме работы с базой данных с использованием утилит командной
          строки (<application>gsec</application>,
          <application>gbak</application> и т.д.). В противоположность этому,
          в случае Linux и Classic-сервера прямые соединения, даже
          множественные, к базе данных полностью безопасны.</para>
        </note>
      </section>

      <section>
        <title><indexterm>
            <primary>Имена пользователей</primary>

            <secondary>значения по умолчанию</secondary>
          </indexterm><indexterm>
            <primary>Пароли</primary>

            <secondary>значения по умолчанию</secondary>
          </indexterm>Имя пользователя и пароль, значения по умолчанию</title>

        <para><indexterm>
            <primary>SYSDBA</primary>
          </indexterm>SYSDBA - пользователь, который имеет все привилегии на
        сервере. В зависимости от версии, операционной системы и архитектуры,
        инсталляционная программа для SYSDBA:</para>

        <itemizedlist>
          <listitem>
            <para>назначит пароль <literal>masterkey</literal> (точнее,
            <literal>masterke</literal>: символы после восьмого игнорируются),
            или</para>
          </listitem>

          <listitem>
            <para>запросит пароль во время процедуры установки, или</para>
          </listitem>

          <listitem>
            <para>сгенерирует и сохранит случайное значение пароля в файле
            <filename>/opt/firebird/SYSDBA.password</filename>.</para>
          </listitem>
        </itemizedlist>

        <para>Если, вдруг, Ваш сервер выставлен
        <emphasis>непосредственно</emphasis> в Интернет и при этом пароль у
        SYSDBA - <literal>masterkey</literal>, немедленно измените его,
        используя утилиту командной строки <application>gsec</application>
        (<remark>Прим. перев.:</remark> В целях повышения уровня безопасности
        целесообразно изменить пароль SYSDBA в любом случае).</para>

        <section>
          <title><indexterm>
              <primary>Пароли</primary>

              <secondary>изменение</secondary>
            </indexterm><indexterm>
              <primary>gsec</primary>
            </indexterm>Как изменить пароль SYSDBA</title>

          <para>Для управления учетными записями пользователей в составе
          пакета Firebird поставляется утилита командной строки
          <application>gsec</application>.</para>

          <important>
            <para>В некоторых инсталляциях Firebird запуск утилиты
            <application>gsec возможен только при входе в систему от имени
            привилегированного пользователя</application> (например,
            <systemitem class="username">root</systemitem> в системе Linux)
            или пользователя, от имени которого происходит запуск серверного
            процесса Firebird. На серверных системах Windows для использования
            утилиты <application>gsec</application>, обычно, Вы должны быть
            членом группы <systemitem class="groupname">Power
            User</systemitem> или другой правомочной группы.</para>

            <para>Если Вы уверены, что у Вас достаточно привилегий, но
            использование <application>gsec</application> заканчивается
            сообщениями типа <quote><computeroutput>unavailable database -
            unable to open database</computeroutput></quote>:</para>

            <itemizedlist>
              <listitem>
                <para>либо Вы используете Windows Classic Server и указываете
                неверное значение параметра <parameter>-database</parameter>
                (см. далее), либо</para>
              </listitem>

              <listitem>
                <para>возможно, сервер не запущен, в этом случае, вернитесь к
                разделу <xref linkend="qsg15-installing-testing-ru" /> и
                попробуйте устранить причину.</para>
              </listitem>
            </itemizedlist>
          </important>

          <para>Предположим, Вы решили сменить пароль SYSDBA на
          <literal>icuryy4me</literal>.</para>

          <procedure>
            <step>
              <para>Перейдите к интерпретатору командной строки и смените
              текущую директорию на ту, в которой находятся утилиты командной
              строки. Если Вы не знаете, где они находятся, обратитесь за
              подсказкой к таблице <xref
              linkend="qsg15-tbl-firebird-components-ru" />.</para>
            </step>

            <step>
              <para>Наберите следующее, <emphasis>если</emphasis> Вы не
              используете Windows Classic Server:</para>

              <blockquote>
                <para><command>gsec -user sysdba -password
                masterkey</command></para>
              </blockquote>

              <para>В случае использования Windows Classic Server, Вы
              <emphasis>должны</emphasis> указывать полное сетевое
              расположение базы данных безопасности (к сожалению!):</para>

              <blockquote>
                <para><command>gsec -user sysdba -password masterkey -database
                "localhost:C:\Program
                Files\Firebird\Firebird_1_5\security.fdb"</command> (при
                необходимости измените путь)</para>
              </blockquote>

              <note>
                <itemizedlist>
                  <listitem>
                    <para>В Linux, лучше писать <command>./gsec</command>, чем
                    просто <command>gsec</command>. Иначе есть шанс, что
                    запустится <quote>не та</quote>
                    <application>gsec</application>, или она просто не
                    найдется.</para>
                  </listitem>

                  <listitem>
                    <para>На всех платформах, за исключением Windows, путь и
                    имена файлов являются чувствительными к регистру; пароли
                    всегда регистрочувствительны.</para>
                  </listitem>
                </itemizedlist>
              </note>

              <para>В любом случае, после нажатия клавиши
              <keycap>Enter</keycap>, Вы должны наблюдать
              приглашение<application> утилиты gsec</application>:</para>

              <blockquote>
                <para><prompt>GSEC&gt;</prompt></para>
              </blockquote>
            </step>

            <step>
              <para>Наберите команду:</para>

              <blockquote>
                <para><userinput>modify sysdba -pw
                icuryy4me</userinput></para>
              </blockquote>
            </step>

            <step>
              <para>Нажмите <keycap>Enter</keycap>. Новое значение пароля -
              <literal>icuryy4me</literal>, зашифровывается и сохраняется,
              предыдущее значение - <literal>masterkey</literal>, теперь
              недействительно.</para>
            </step>

            <step>
              <para>Для выхода из <application>gsec</application>, используйте
              команду:</para>

              <blockquote>
                <para><userinput>quit</userinput></para>
              </blockquote>
            </step>
          </procedure>

          <note>
            <para>Firebird игнорирует в значении пароля любые символы после
            восьмого, поэтому <literal>icuryy4m</literal> подходит так же,
            как, например, и <literal>icuryy4monkeys</literal>.</para>
          </note>
        </section>
      </section>

      <section>
        <title><indexterm>
            <primary>Средства администрирования</primary>
          </indexterm>Средства администрирования</title>

        <para>В состав пакета Firebird не входит какое-либо графическое
        средство администрирование, но есть набор утилит командной строки,
        исполняемые файлы находятся в папке<filename class="directory">
        bin</filename>.</para>

        <para>При этом существует большой выбор средств от сторонних
        производителей, различных степеней замечательности, (кросс-)
        <quote>платформенности</quote> и платности.</para>

        <para>Начать ознакомление со списком можно на сайте <ulink
        url="http://www.ibphoenix.com">http://www.ibphoenix.com</ulink> в
        разделе <ulink
        url="http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;page=ibp_contrib_download#ADM">Downloads
        &gt; Contributed &gt; Admin Tools page</ulink>. <note>
            <para>Для управления сервером под Linux Вы можете использовать
            клиента под Windows и наоборот.</para>
          </note><remark>Прим. перев.:</remark>Автор перевода считает
        допустимым отдельным образом отметить средство администрирования, в
        разработке которого он сам принимает участие - FlameRobin. Это простое
        и удобное графическое средство управления базами данных Firebird с
        открытым исходным кодом. На сегодняшний день доступны версии под
        Linux, MacOS X и Windows. Подробную информацию можно получить на сайте
        проекта <ulink
        url="http://www.flamerobin.org">http://www.flamerobin.org</ulink></para>
      </section>
    </section>

    <section id="qsg15-installing-client-ru">
      <title><indexterm class="singular" scope="local">
          <primary>Установка</primary>

          <secondary>клиента</secondary>
        </indexterm>Устанавливаем только клиента</title>

      <para>Каждая удаленная клиентская машина требует наличия клиентской
      библиотеки – <filename class="libraryfile">libfbclient.so</filename> на
      Posix-системах или <filename class="libraryfile">fbclient.dll</filename>
      на Windows-системах – соответствующую версии сервера Firebird.</para>

      <para>В целях обеспечения совместимости с продуктами третьих фирм,
      Firebird начиная с версии 1.5 может, в зависимости от версии и
      платформы, установить символические ссылки, скопировать библиотеки под
      именами, используемыми в версии 1.0 (<quote>старые</quote>
      InterBase-названия).</para>

      <para>Кроме этого, необходимо еще кое-что подкрутить.</para>

      <section>
        <title>Windows</title>

        <para>В настоящее время нет компактной версии дистрибутива,
        позволяющей устанавливать клиентскую часть на Windows-клиента. В общем
        случае, когда нужно обеспечить взаимодействие Windows-клиента с Linux-
        или другим Posix- сервером Firebird (или другим компьютером под
        Windows), Вам необходимо загрузить полноценный дистрибутив под
        Windows, соответствующий версии Firebird, установленной на Вашем Linux
        или другом сервере.</para>

        <para>К счастью, далее все будет просто - запустите инсталлятор и
        выберите в меню опцию CLIENT ONLY (только клиент).</para>
      </section>

      <section>
        <title>Linux и некоторые другие Posix-системы</title>

        <para>Для установки Linux-клиентов также нет легковесной версии
        дистрибутива, вдобавок различные варианты Posix-систем и даже
        различные представители Linux-семейства обладают отличительными
        особенностями в требованиях к расположению некоторых файлов в рамках
        файловой системы. Поэтому некоторые дистрибутивы Firebird для
        Posix-систем даже не предлагают опции по установке только клиентской
        части.</para>

        <para>Следующая последовательность действий должна подойти для
        установки Firebird-клиента на большинстве Linux-системах. Для
        осуществления изложенных манипуляций, Вам необходимо войти в систему с
        правами пользователя <systemitem
        class="username">root</systemitem>.</para>

        <procedure>
          <step>
            <para>На сервере, на котором установлен Firebird, найдите в
            директории <filename
            class="directory">/opt/firebird/lib</filename> файл <filename
            class="libraryfile">libfbclient.so.1.<replaceable>m.n</replaceable></filename>
            (где <replaceable>m.n</replaceable> означают минорное значение
            версии, например 5 для Firebird версии 1.5, и номер сборки
            соответственно) и скопируйте его на клиентскую машину в директорию
            <filename class="directory">/usr/lib</filename>.</para>
          </step>

          <step>
            <para>Создайте символические ссылки, выполнив следующие
            команды:</para>

            <blockquote>
              <para><command>ln -s
              /usr/lib/libfbclient.so.1.<replaceable>m.n</replaceable>
              /usr/lib/libfbclient.so.1</command></para>

              <para><command>ln -s /usr/lib/libfbclient.so.1
              /usr/lib/libfbclient.so</command></para>
            </blockquote>

            <para>замените <varname><replaceable>1.m.n</replaceable></varname>
            номером Вашей версии, например, <literal>1.5.0</literal> или
            <literal>1.6.1</literal></para>

            <para>Если Вы используете программы, требующие наличия
            унаследованных библиотек, создайте дополнительно следующие
            символические ссылки:</para>

            <blockquote>
              <para><command>ln -s /usr/lib/libfbclient.so
              /usr/lib/libgds.so.0</command></para>

              <para><command>ln -s /usr/lib/libfbclient.so
              /usr/lib/libgds.so</command></para>
            </blockquote>
          </step>

          <step>
            <para>Скопируйте файл<filename> firebird.msg</filename> в
            директорию <filename
            class="directory">/opt/firebird</filename></para>
          </step>

          <step>
            <para>Для того, чтобы обеспечить API-вызовам доступ к сообщениям,
            в системном профиле интерпретатора команд или с помощью
            <function>setenv()</function> создайте переменную окружающей среды
            <envar>FIREBIRD</envar>, указывающую на <filename
            class="directory">/opt/firebird</filename>.</para>
          </step>
        </procedure>
      </section>
    </section>
  </section>

  <section id="qsg15-databases-ru">
    <title>Работа с базами данных</title>

    <section id="qsg15-databases-connecting-ru">
      <title><indexterm>
          <primary>Подключение</primary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>подключение</secondary>
        </indexterm><indexterm>
          <primary>Пример базы данных</primary>
        </indexterm><indexterm>
          <primary>Образец базы данных</primary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>пример базы данных</secondary>
        </indexterm>Подключаемся к базе данных</title>

      <para>В директории <filename class="directory">examples</filename> Вашей
      инсталляции Firebird лежит образец базы данных -
      <filename>employee.fdb</filename>, которую можно использовать <quote>для
      пробы пера</quote>.</para>

      <section>
        <title><indexterm>
            <primary>Имя сервера и путь</primary>
          </indexterm>Имя сервера и путь</title>

        <para>Если Вы вдруг решили переместить образец базы данных на другой
        диск, убедитесь, что он физически подключен к компьютеру. Разделяемые
        (shared), присоединенные (mapped) диски или (на Unix) смонтированные
        (mounted) SMB (Samba) файловые системы не будут работать. Это правило
        касается любых создаваемых Вами баз данных.</para>

        <para>При использовании TCP/IP строка подключения состоит из двух
        частей: имя сервера и путь к файлу. Формат строки имеет следующий
        вид:</para>

        <itemizedlist>
          <listitem>
            <para>Для Linux-серверов:</para>

            <blockquote>
              <para>имя-сервера:/путь-к-файлу/имя-файла-базы-данных</para>
            </blockquote>

            <para>Пример для Linux или другой Posix-системы с именем
            <systemitem class="systemname">serverxyz</systemitem>:</para>

            <blockquote>
              <para><filename>serverxyz:/opt/interbase/examples/employee.fdb</filename></para>
            </blockquote>
          </listitem>

          <listitem>
            <para>Для Windows-серверов:</para>

            <blockquote>
              <para>имя-сервера:буква-диска:\путь-к-файлу\имя-файла-базы-данных</para>
            </blockquote>

            <para>Пример для Windows:</para>

            <blockquote>
              <para><filename>serverxyz:C:\Program
              Files\Firebird\examples\employee.fdb</filename></para>
            </blockquote>
          </listitem>
        </itemizedlist>
      </section>

      <section>
        <title><indexterm>
            <primary>оператор CONNECT</primary>
          </indexterm><indexterm class="singular" scope="local">
            <primary>SQL</primary>

            <secondary>оператор CONNECT</secondary>
          </indexterm>Оператор CONNECT</title>

        <para>Для подключения к базе данных Firebird пользователь должен
        аутентифицироваться с использованием имени пользователя и правильного
        пароля. Кроме того, любому пользователю отличному от <database
        class="name">SYSDBA</database>, <systemitem
        class="username">root</systemitem> (Posix - системы), или <systemitem
        class="username">Administrator</systemitem> (на Windows-системах, если
        Firebird запущен от имени этого пользователя) необходимо иметь
        разрешения на доступ к объектам внутри самой базы данных (так
        называемые объектные привилегии). Для простоты, рассмотрим процедуру
        аутентификации пользователя <database class="name">SYSDBA</database> с
        использованием пароля <literal>masterkey</literal>.</para>

        <section>
          <title><indexterm>
              <primary>isql</primary>

              <secondary>подключение к базе данных</secondary>
            </indexterm><indexterm>
              <primary>Базы данных</primary>

              <secondary>подключение</secondary>

              <tertiary>с использованием isql</tertiary>
            </indexterm>Используем <application>isql</application></title>

          <para>Существует несколько способов подключения к базе данных с
          использованием утилиты <application>isql</application>. Один из них
          - это использование <application>isql</application> в интерактивном
          режиме. Перейдите в подкаталог <filename
          class="directory">bin</filename> директории, в которой установлена
          Ваша версия Firebird, и в командной строке наберите
          <command>isql</command> (для Linux: <command>./isql</command>) [↵
          означает <quote>нажать клавишу
          <keycap>Enter</keycap></quote>]:</para>

          <screen>C:\Program Files\Firebird\Firebird_1_5\bin&gt;isql↵
Use CONNECT or CREATE DATABASE to specify a database
SQL&gt;CONNECT "C:\Program Files\Firebird\Firebird_1_5\examples\employee.fdb"↵
CON&gt;user 'SYSDBA' password 'masterkey';↵</screen>

          <important>
            <itemizedlist>
              <listitem>
                <para>В <application>isql</application> каждое SQL-выражение
                должно завершаться точкой с запятой. Если строка не
                заканчивается точкой с запятой, и Вы нажимаете клавишу
                <keycap>Enter</keycap>, isql будет считать, что выражение
                будет продолжаться на следующей строке и сменит приглашение с
                <prompt>SQL&gt;</prompt> на <prompt>CON&gt;</prompt>. Это
                позволяет разбивать длинные выражения на несколько строк. Если
                Вы нажали клавишу <keycap>Enter</keycap>, забыв указать точку
                с запятой, просто наберите символ после приглашения и нажмите
                <keycap>Enter</keycap> ещё раз.</para>
              </listitem>

              <listitem>
                <para>Если, используя Classic Server под Linux, не указать имя
                хоста, будет предпринята попытка организовать прямое локальное
                соединение. Что, в свою очередь, может закончиться неудачей в
                случае отсутствия у текущей учетной записи Linux необходимых
                прав доступа к файлу базы данных. В этом случае попробуйте
                подключиться к <systemitem
                class="systemname">localhost</systemitem>:<filename
                class="directory">/</filename>&lt;path&gt;. В этом случае файл
                будет открывать серверный процесс (который в Firebird 1.5
                обычно работает от имени <systemitem
                class="username">firebird</systemitem>). С другой стороны,
                попытка сетевого соединения может закончиться неудачно, если
                пользователь создавал базу данных при локальном подключении и
                у сервера нет необходимых прав.</para>
              </listitem>

              <listitem>
                <para>В случае использования Classic Server под Windows, Вы
                <emphasis>должны</emphasis> указывать имя хоста (это может
                быть <systemitem class="systemname">localhost</systemitem>) и
                полный путь, в противном случае подключиться не
                получиться.</para>
              </listitem>
            </itemizedlist>
          </important>

          <note>
            <para>Несмотря на то, что в Firebird <quote>нормальными</quote>
            символами разделения строк являются одинарные кавычки, в примере,
            при указании пути к базе данных, использовались двойные кавычки.
            Это необходимо, так же как и в некоторых других утилитах командной
            строки, при указании путей, содержащих пробелы. Одинарные кавычки
            будут работать для путей, не содержащих пробелы.</para>

            <para>Кавычки вокруг <quote>SYSDBA</quote> и
            <quote>masterkey</quote> необязательны. Также не обязательно
            заключать в кавычки путь к базе данных, не содержащий
            пробелов.</para>
          </note>

          <para>Далее <application>isql</application> сообщит о том, что Вы
          подключились:</para>

          <screen>DATABASE "C:\Program Files\Firebird\Firebird_1_5\examples\employee.fdb",
User: sysdba
SQL&gt;</screen>

          <para>Теперь Вы можете продолжить эксперименты с базой
          <filename>employee.fdb</filename>. <acronym>isql</acronym> означает
          <emphasis>interactive SQL [utility]</emphasis> (интерактивный SQL).
          Вы можете использовать её для извлечения данных, получения
          метаинформации, создания объектов базы данных, запуска скриптов и
          многого другого.</para>

          <para>Для того, чтобы вернуться в командную строку наберите</para>

          <screen>SQL&gt;QUIT;↵</screen>

          <para>За дополнительной информацией об использовании
          <application>isql</application> обращайтесь к <citetitle>Using
          Firebird</citetitle>, глава 10: <citetitle>Interactive SQL Utility
          (isql)</citetitle>.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Базы данных</primary>

              <secondary>подключение</secondary>

              <tertiary>с использованием графических утилит</tertiary>
            </indexterm>Используем графические утилиты</title>

          <para>Обычно, графические средства самостоятельно собирают строку
          соединения на основании информации, вводимой пользователем в
          отдельных полях - имя сервера, путь к базе данных, имя пользователя
          и пароль. Как их использовать должны быть понятно из информации,
          изложенной в предыдущем разделе.</para>

          <note>
            <itemizedlist spacing="compact">
              <listitem>
                <para>Существуют средства, в которых имя сервера + полный путь
                ожидаются в виде одной строки</para>
              </listitem>

              <listitem>
                <para>Помните, что на Linux и других Posix-системах имена
                файлов и названия команд являются чувствительными к
                регистру</para>
              </listitem>
            </itemizedlist>
          </note>
        </section>
      </section>
    </section>

    <section id="qsg15-databases-creating-ru">
      <title><indexterm>
          <primary>isql</primary>

          <secondary>создание базы данных</secondary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>создание с помощью isql</secondary>
        </indexterm>Создаем базу данных с помощью
      <application>isql</application></title>

      <para>Утилита <application>isql</application> позволяет создавать базы
      данных более, чем одним способом. Мы же рассмотрим простой способ
      создания базы данных в интерактивном режиме, хотя для серьезного
      использования Вам, скорее всего, потребуется научиться создавать и
      использовать скрипты. В руководстве <citetitle>Using
      Firebird</citetitle> имеется отдельная глава, посвященная этому
      вопросу.</para>

      <section>
        <title>Запускаем <application>isql</application></title>

        <para>Для создания базы данных с использованием утилиты
        <application>isql</application> в интерактивном режиме, в командной
        строке перейдите в директорию <filename
        class="directory">bin</filename> и наберите <command>isql</command>
        (Windows) или <command>./isql</command> (Linux):</para>

        <screen>C:\Program Files\Firebird\Firebird_1_5\bin&gt;isql↵
Use CONNECT or CREATE DATABASE to specify a database</screen>
      </section>

      <section>
        <title><indexterm>
            <primary>оператор CREATE DATABASE</primary>
          </indexterm><indexterm class="singular" scope="local">
            <primary>SQL</primary>

            <secondary>оператор CREATE DATABASE</secondary>
          </indexterm>Оператор CREATE DATABASE</title>

        <para>Теперь Вы можете создать базу данных. Предположим, что Вы хотите
        создать базу данных <filename>test.fdb</filename> и сохранить её в
        папке <filename class="directory">data</filename> на диске <systemitem
        class="filesystem">D</systemitem>:</para>

        <screen>SQL&gt;CREATE DATABASE 'D:\data\test.fdb' page_size 8192↵
CON&gt;user 'SYSDBA' password 'masterkey';↵</screen>

        <important>
          <itemizedlist>
            <listitem>
              <para>В отличии от оператора <database>CONNECT</database>, в
              операторе<database> CREATE DATABASE</database> кавычки вокруг
              пути к файлу, имени пользователя и пароля являются
              <emphasis>обязательными</emphasis>.</para>
            </listitem>

            <listitem>
              <para>Если Вы используете Classic Server под Linux и в пути не
              указываете имя хоста, будет произведена попытка создать файл
              базы данных с Вашей учетной записью в Linux в качестве
              владельца. Может быть это именно то, что Вы и хотите, а может и
              нет (подумайте о правах доступа, если Вы хотите, чтобы к базе
              данных мог подключаться кто-то еще). Если же в пути указать,
              например, <systemitem
              class="systemname">localhost:</systemitem>, тогда создавать и
              влдаеть файлом будет серверный процесс (который в Firebird 1.5
              обычно работает от имени <systemitem
              class="username">firebird</systemitem>).</para>
            </listitem>

            <listitem>
              <para>В случае использования Classic Server под Windows, Вы
              <emphasis>должны</emphasis> указывать имя хоста (которое может
              быть <systemitem class="systemname">localhost</systemitem>) плюс
              полный путь к файлу, в противном случае процесс создания
              закончится неудачей.</para>
            </listitem>
          </itemizedlist>
        </important>

        <para>Будет создана база данных и через некоторое время вновь появится
        приглашение SQL. Теперь Вы подключены к новой базе данных и можете
        создать какие-нибудь объекты в ней.</para>

        <para>Чтобы убедиться, что там действительно база данных, выполните
        запрос:</para>

        <screen>SQL&gt;SELECT * FROM RDB$RELATIONS;↵</screen>

        <para>На экран будет выдано большое количество данных! Этот запрос
        извлекает все строки из системной таблицы, в которой Firebird хранит
        метаданные для таблиц. <quote>Пустая</quote> база данных на самом деле
        не очень-то и пустая – она содержит базу данных, которая будет расти,
        наполняясь метаданными, по мере создания Вами новых объектов в
        ней.</para>

        <para>Для возвращения в командную строку, наберите</para>

        <screen>SQL&gt;QUIT;↵</screen>

        <para>За дополнительной информацией об <application>isql обращайтесь к
        главе 10 </application><citetitle>Using Firebird</citetitle>:
        <citetitle>Interactive SQL Utility (isql)</citetitle>.</para>
      </section>
    </section>

    <section id="qsg15-databases-sql-ru">
      <title><indexterm class="singular" scope="local">
          <primary>SQL</primary>
        </indexterm><indexterm class="singular" scope="local">
          <primary>Firebird SQL</primary>
        </indexterm>Firebird SQL</title>

      <para>Каждая систем управления базами данных имеет свои отличительные
      особенности в реализации SQL. По сравнению с любой другой СУБД, за
      возможным исключением <quote>близкой родственницы</quote> - InterBase®,
      Firebird наиболее строгим образом соответствует стандарту SQL.
      Разработчики, переходящие с других продуктов, соответствующих стандарту
      в меньшей степени, ошибочно воспринимают Firebird странным, притом, что
      многие мнимые <quote>странности</quote> на самом деле не являются
      таковыми.</para>

      <section id="qsg15-integer-division-ru">
        <title><indexterm>
            <primary>Деление целых чисел</primary>
          </indexterm>Деление целых чисел</title>

        <para>В соответствии со стандартом SQL, Firebird при вычислении
        частного от деления целого числа на целое округляет результат до
        ближайшего меньшего целого. В случае если Вы не были готовы, это может
        слегка шокировать Вас при получении результатов.</para>

        <para>Например, следующее вычисление является корректным с точки
        зрения SQL:</para>

        <blockquote>
          <para><literal>1 / 3 = 0</literal></para>
        </blockquote>

        <para>Если Вы переходите с СУБД, в которой частное от деления целого
        на другое целое приводится к нецелому, Вам будет необходимо доработать
        подобные выражения и заменить тип делимого, делителя или обоих на
        число с плавающей или фиксированной точкой.</para>

        <para>Например, предыдущий пример, для получения результата отличного
        от нуля, можно изменить следующим образом:</para>

        <blockquote>
          <para><literal>1.000 / 3 = 0.333</literal></para>
        </blockquote>
      </section>

      <section id="qsg15-strings-ru">
        <title>Что следует знать о строках</title>

        <section>
          <title><indexterm>
              <primary>Строки</primary>

              <secondary>разделительный символ</secondary>
            </indexterm>Разделительный символ строк</title>

          <para>В Firebird строки отделяются парными символами одинарных
          кавычек – <literal>'Замечательная строка'</literal> – (ASCII код -
          39, <emphasis>не</emphasis> 96). Если Вы использовали предыдущие
          версии предшественницы Firebird, InterBase®, Вы можете вспомнить,
          что там символы одинарных и двойных кавычек использовались
          одновременно как разделители строк. В Firebird двойные кавычки не
          могут использоваться в качестве разделителей строк в SQL
          выражениях.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Апострофы в строках</primary>
            </indexterm><indexterm>
              <primary>Строки</primary>

              <secondary>апострофы в строках</secondary>
            </indexterm>Апострофы в строках</title>

          <para>Если Вам необходимо использовать в строке символ апострофа, Вы
          можете <quote>экранировать</quote> (escape) его, предварив его
          другим апострофом.</para>

          <para>Например, следующая строка приведет к ошибке:</para>

          <blockquote>
            <para><literal>'Joe's Emporium'</literal></para>
          </blockquote>

          <para>потому, что анализатор проинтерпретирует текст как строку
          <literal>'Joe'</literal>, за которой следуют какие-то неизвестные
          ключевые слова.</para>

          <para>Чтобы сделать строку правильной, необходимо добавить второй
          апостроф:</para>

          <blockquote>
            <para><literal>'Joe''s Emporium'</literal></para>
          </blockquote>

          <para>Обратите внимание на то, что это ДВА символа одинарной
          кавычки, а не символ двойных кавычек.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Строки</primary>

              <secondary>конкатенация</secondary>
            </indexterm>Конкатенация строк</title>

          <para>В SQL для конкатенации строк используются два символа
          <quote>трубы</quote> (ASCII 124, в паре без пробела между ними). При
          этом <quote>+</quote> является символом арифметического сложения,
          соответственно, при попытке его использования для объединения строк,
          вы получите сообщение об ошибке. Следующее выражение дополняет
          значения столбца фразой <quote><literal>Reported by:
          </literal></quote>:</para>

          <blockquote>
            <para><literal>'Reported by: ' || LastName</literal></para>
          </blockquote>

          <para>Будьте внимательны с конкатенацией и учтите, что Firebird
          выдаст сообщение об ошибке при попытке соединения значений двух или
          более столбцов типа char или varchar, чья суммарная потенциальная
          длина превышает предельный размер для строковых типов (32
          Kb).</para>

          <para>Кроме этого обратите внимание на нижеизложенный раздел <xref
          linkend="qsg15-nulls-ru" /> относительно конкантенации в выражениях,
          содержащих <constant>NULL</constant>.</para>
        </section>

        <section>
          <title><indexterm>
              <primary>Идентификаторы в двойных кавычках</primary>
            </indexterm>Идентификаторы в двойных кавычках</title>

          <para>До выхода стандарта SQL-92, не допускалось использовать в
          качестве имен объектов (идентификаторов) ключевые слова, не
          учитывался регистр букв и не допускались пробельные символы.
          Стандарт SQL-92 сделал всё это возможным, определив, что
          идентификаторы должны определяться в парных двойных кавычках (ASCII
          код - 34) и при использовании также должны выделяться парными
          кавычками.</para>

          <para>Смысл этого <quote>подарка</quote> заключался в упрощении
          процесса миграции метаданных из нестандартных СУБД в совместимые со
          стандартом. Обратная сторона медали заключается в том, что если Вы
          решаете использовать идентификаторы в двойных кавычках, их
          чувствительность к регистру и заключение их в двойные кавычки
          становятся обязательными.</para>

          <para>При выполнении ограниченного набора условий, Firebird
          предлагает определенное послабление. Если идентификатор,
          определенный в двойных кавычках:</para>

          <orderedlist spacing="compact">
            <listitem>
              <para>был определен в верхнем регистре,</para>
            </listitem>

            <listitem>
              <para>не совпадает с ключевым словом,</para>
            </listitem>

            <listitem>
              <para>и не содержит пробелов,</para>
            </listitem>
          </orderedlist>

          <para>...тогда он может использоваться в SQL-выражениях без кавычек
          и учета регистра символов. (Однако, если Вы заключаете идентификатор
          в кавычки, Вы должны снова учитывать регистр символов!)</para>

          <warning>
            <para>Не перемудрите с этим делом! Например, если у Вас есть
            таблицы "<database>TESTTABLE</database>" и
            "<database>TestTable</database>", определенные в двойных кавычках
            , и Вы выполняете запрос вида:</para>

            <screen>SQL&gt;select * from TestTable;</screen>

            <para>...в результате Вы получите записи из таблицы
            "<database>TESTTABLE</database>", а не
            "<database>TestTable</database>"!</para>
          </warning>

          <para>Обычно, рекомендуется, в случае отсутствия убедительных
          причин, избегать использования двойных кавычек при определении
          идентификаторов. К счастью, Firebird позволяет одновременно
          использовать идентификаторы в кавычках и без них – поэтому не бывает
          проблем в случае необходимости использования ключевых слов в
          качестве идентификаторов в унаследованных базах данных.</para>

          <warning>
            <para>Некоторые инструменты администрирования по умолчанию
            принудительно заключают в двойные кавычки <emphasis>все</emphasis>
            идентификаторы. Постарайтесь выбрать средство, которое позволяет
            делать это опционально.</para>
          </warning>
        </section>
      </section>

      <section id="qsg15-nulls-ru" xreflabel="NULL в выражениях">
        <title><indexterm scope="local">
            <primary>NULL</primary>
          </indexterm><constant>NULL</constant> в выражениях</title>

        <para>В SQL, <constant>NULL</constant> - это не значение. Это условие,
        или <emphasis>состояние</emphasis>, элемента данных, в котором его
        значение не известно, в связи с этим <constant>NULL</constant> не
        может выступать в качестве значения. Если <constant>NULL</constant>
        участвует в арифметических или других выражениях, результат всегда
        будет <constant>NULL</constant>. Это не нуль, не пустота (пробел) или
        <quote>пустая строка</quote> и <constant>NULL</constant> не ведет себя
        как одно из этих значений.</para>

        <para>Приведем некоторые, возможно <quote>удивительные</quote> для
        Вас, примеры вычислений и сравнений с участием
        <constant>NULL</constant>:</para>

        <itemizedlist>
          <listitem>
            <para><literal>1 + 2 + 3 + <constant>NULL</constant> =
            <constant>NULL</constant></literal></para>
          </listitem>

          <listitem>
            <para><literal>not (<constant>NULL</constant>) =
            <constant>NULL</constant></literal></para>
          </listitem>

          <listitem>
            <para><literal>'Home ' || 'sweet ' || <constant>NULL</constant> =
            <constant>NULL</constant></literal></para>
          </listitem>

          <listitem>
            <para><programlisting>if (a = b) then
  MyVariable = 'Equal';
else
  MyVariable = 'Not equal';</programlisting></para>

            <para>Если и <varname>a</varname> и <varname>b</varname> -
            <constant>NULL</constant> - то после выполнения данного кода,
            значение <varname>MyVariable</varname> будет <literal>'Not
            equal'</literal> (не равны). Потому что результат вычисления
            выражения <literal>'a = b'</literal> будет
            <constant>NULL</constant>, если хотя бы один из операндов будет
            <constant>NULL</constant>. Соответственно, в контексте этого
            <quote><literal>if...then</literal></quote>,
            <constant>NULL</constant> ведет себя как
            <constant>FALSE</constant>, блок '<literal>then</literal>'
            пропускается и выполняется блок '<literal>else</literal>'.</para>
          </listitem>

          <listitem>
            <para><programlisting>if (a &lt;&gt; b) then
  MyVariable = 'Not equal';
else
  MyVariable = 'Equal';</programlisting></para>

            <para>В этом примере, <varname>MyVariable</varname> будет иметь
            значение <literal>'Equal'</literal>(равны), если
            <varname>a</varname> - <constant>NULL</constant>, а
            <varname>b</varname> - нет, или наоборот. Объяснение аналогично
            предыдущему случаю.</para>
          </listitem>

          <listitem>
            <para><programlisting>FirstName || ' ' || LastName</programlisting></para>

            <para>в результате даст <constant>NULL</constant>, если хотя бы
            <varname>FirstName</varname> или <varname>LastName</varname> -
            <constant>NULL</constant>.</para>
          </listitem>
        </itemizedlist>

        <tip>
          <para>Воспринимайте <constant>NULL</constant> как
          <constant>НЕИЗВЕСТНО</constant> и ощущения странности результатов
          пропадут! Если значение <varname>Number</varname> не известно, то
          результат '<literal>1 + 2 + 3 + Number</literal>' так же получается
          не известным (и поэтому <constant>NULL</constant>). Если содержимое
          <varname>MyString</varname> не известно, тогда не известен результат
          конкатенации '<literal>MyString || YourString</literal>'
          (д<varname>аже если YourString</varname>
          не-<constant>NULL</constant>) и т.д.</para>
        </tip>

        <section>
          <title>Подробнее о <constant>NULL</constant>.</title>

          <para>Больше информации об особенностях <constant>NULL</constant>
          можно найти в руководстве <citetitle><constant>NULL</constant> в
          СУБД Firebird</citetitle>, доступном по адресу:</para>

          <itemizedlist spacing="compact">
            <listitem>
              <para><ulink
              url="http://firebirdsql.org/manual/ru/nullguide-ru.html">http://firebirdsql.org/manual/ru/nullguide-ru.html</ulink>
              (HTML)</para>
            </listitem>

            <listitem>
              <para><ulink
              url="http://www.firebirdsql.org/pdfmanual/http://firebirdsql.org/pdfmanual/ru/Firebird-PovedeniyeNULL.pdf">http://firebirdsql.org/pdfmanual/ru/Firebird-PovedeniyeNULL.pdf</ulink>
              (PDF)</para>
            </listitem>
          </itemizedlist>
        </section>
      </section>
    </section>
  </section>

  <section id="qsg15-safety-ru">
    <title>Безопасность и надежность</title>

    <section id="qsg15-safety-server-ru">
      <title><indexterm>
          <primary>Безопасность</primary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>безопасность</secondary>
        </indexterm>Безопасность</title>

      <para>В Firebird 1.5 имеется ряд новых возможностей, направленных на
      повышение безопасности. Ознакомьтесь с ними! Дабы не повредить работу
      существующих приложений, большинство конфигурируемых значений, по
      умолчанию, повторяют <quote>небезопасное</quote> поведение предыдущих
      версий, но Вы можете существенно усилить безопасность Вашей системы,
      если повысите уровень защиты где-то только возможно.</para>

      <para>Среди новых и/или измененных средств, повышающих безопасность,
      предложены:</para>

      <itemizedlist>
        <listitem>
          <para>В Posix-системах Firebird, по умолчанию, теперь запускается от
          имени пользователя <systemitem
          class="username">firebird</systemitem>, а не <systemitem
          class="username">root</systemitem>.</para>
        </listitem>

        <listitem>
          <para>На серверных Windows-платформах, Вы также имеете возможность
          запускать сервис Firebird под заданной учетной записью (например,
          <systemitem class="username">Firebird</systemitem>). Запуск сервисов
          от имени пользователя <systemitem
          class="username">LocalSystem</systemitem> (практика, принятая по
          умолчанию) несет определенный риск с точки зрения безопасности в
          случае, если Ваша система подключена к Интернет. Для получения
          информации о тот как это можно сделать обратитесь к файлу
          <filename>README.instsvc</filename>, расположенному в подкаталоге
          <filename class="directory">doc</filename>.</para>
        </listitem>

        <listitem>
          <para>Псевдонимы баз данных (<firstterm><indexterm>
              <primary>Псевдонимы</primary>
            </indexterm><indexterm>
              <primary>Базы данных</primary>

              <secondary>aliases</secondary>
            </indexterm><indexterm>
              <primary>Базы данных</primary>

              <secondary>псевдонимы</secondary>
            </indexterm>Database aliases</firstterm>) - механизм сокрытия от
          клиентов физического расположения баз данных. С использованием
          псевдонимов клиент может подключаться к базе данных, например,
          <quote><database class="name">frodo:zappa</database></quote> без
          знания её реального месторасположения
          <filename>frodo:/var/firebird/music/underground/mothers_of_invention.fdb</filename>.
          Кроме того, использование псевдонимов позволяет Вам свободно
          перемещать базы данных без необходимости внесения изменений на
          стороне клиента (строка подключения остается неизменной).</para>
        </listitem>

        <listitem>
          <para>Параметр <parameter>DatabaseAccess</parameter> - определяет
          правила доступа к базам данных. Значение
          <constant>Restrict</constant> - позволяет явным образом указать
          (ограничить) разрешенные к использованию разделы (деревья) файловой
          системы, <constant>None</constant> - доступ разрешается только
          посредством использования псевдонимов. Значение по умолчанию -
          <constant>All</constant>, т.е. никаких ограничений не
          накладывается.</para>
        </listitem>

        <listitem>
          <para>Параметр <parameter>ExternalFileAccess</parameter> -
          определяет правила доступа к внешним таблицам.</para>
        </listitem>

        <listitem>
          <para>Параметр <parameter>UdfAccess</parameter> - определяет
          размещение допустимых к использованию библиотек пользовательских
          функций.</para>
        </listitem>
      </itemizedlist>

      <para>Псевдонимы баз данных определяются в файле
      <filename>aliases.conf</filename>, конфигурационные параметры - в
      <filename>firebird.conf</filename>. Для получения дополнительной
      информации и советов относительно их использования обращайтесь к Release
      Notes Вашей версии Firebird.</para>

      <!--Maybe expand this section later, so we don't have to refer people to the RNotes.-->
    </section>

    <section id="qsg15-safety-backup-ru">
      <title><indexterm>
          <primary>Backup</primary>
        </indexterm><indexterm>
          <primary>Restore</primary>
        </indexterm><indexterm>
          <primary>Базы данных</primary>

          <secondary>резервирование и восстановление</secondary>
        </indexterm><indexterm>
          <primary>Резервирование</primary>
        </indexterm><indexterm>
          <primary>Восстановление</primary>
        </indexterm>Резервируем</title>

      <para>Firebird поставляется вместе со своей утилитой для резервирования
      и восстановления Ваших баз данных, называемой
      <application>gbak</application> (располагается в поддиректории <filename
      class="directory">bin</filename> инсталляции Firebird). Базы данных
      Firebird могут резервироваться одновременно с обычной работой
      пользователей. Резерв будет осуществляться с моментальной копии
      (snapshot) состояния базы данных на время старта процедуры
      резервирования.</para>

      <para>Регулярное резервирование и случающееся время от времени (по
      необходимости) восстановление с использованием
      <application>gbak</application>, должны осуществляться на плановой
      основе (возможно, с привлечением планировщика обработки заданий) как
      часть деятельности по сопровождению Вашей базы данных.</para>

      <warning>
        <para>Не используйте для резервирования внешние утилиты или средства
        копирования файлов типа - <application>WinZip</application>,
        <application>tar</application>, <application>copy</application>,
        <application>xcopy</application>, и т.д. на работающей базе данных.
        Мало того, что Вы, скорее всего, получите неработающую резервную
        копию, но используемые этими средствами механизмы блокировки на уровне
        дисковых операций могут привести к повреждению самой базу
        данных.</para>
      </warning>

      <important>
        <para>Изучите следующий раздел об активности вокруг базы данных во
        время процедуры резервирования!</para>
      </important>
    </section>

    <section id="qsg15-safety-howtocorrupt-ru">
      <title><indexterm>
          <primary>Базы данных</primary>

          <secondary>повреждения</secondary>
        </indexterm>Как повредить базу данных</title>

      <para>Далее перечислено то, что <emphasis>не</emphasis> надо делать,
      дабы сохранить ваши базы данных в целости и сохранности</para>

      <section>
        <title><indexterm>
            <primary>Базы данных</primary>

            <secondary>системные таблицы</secondary>
          </indexterm><indexterm>
            <primary>Базы данных</primary>

            <secondary>метаданные</secondary>
          </indexterm><indexterm>
            <primary>Системные таблицы</primary>
          </indexterm>Самостоятельное изменение системных таблиц</title>

        <para>Firebird хранит и обрабатывает метаданные о собственных и
        созданных пользователями объектах - в базе данных! Точнее, в отдельных
        таблицах непосредственно в самой базе данных. Названия системных
        таблиц, столбцов и других системных объектов начинаются с букв
        <literal>RDB$</literal>.</para>

        <para>Учитывая, что это обычные объекты баз данных, с ними можно
        работать (извлекать, манипулировать ими) так же как и с Вашими
        пользовательскими объектами. Однако, то что Вы можете это делать
        совершенно не означает, что Вам нужно это делать! Для определения и
        манипулирования метаданными в Firebird реализовано высокоуровневое
        подмножество SQL - DDL (Data Definition Language), в частности
        операторы <database>CREATE</database>, <database>ALTER</database> и
        <database>DROP</database>.</para>

        <para>Конечно же, мы не можем требовать того, чтобы Вы использовали
        исключительно DDL, и запретить Вам использовать прямые SQL-операции
        над системными таблицами, когда бы Вам не потребовалось изменить или
        удалить метаданные. Но мы рекомендуем Вам отложить использование
        возможностей по <quote>быстрому решению проблем</quote> до тех пор,
        пока Вы не будете достаточно хорошо владеть SQL и знать механизм
        Firebird. Поврежденную базу данных не особо приятно созерцать и не
        легко починить.</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Forced writes</primary>
          </indexterm><indexterm>
            <primary>Принудительная запись</primary>
          </indexterm>Отключение режима принудительной записи</title>

        <para>По умолчанию Firebird устанавливается с включенным режимом
        принудительной записи - forced writes (синхронная запись). В этом
        режиме изменения и новые данные сразу записываются на диск.</para>

        <para>Существует возможность использовать режим асинхронной записи
        данных – в этом случае изменения и новые данные хранятся в памяти и
        периодически сбрасываются на диск подсистемой ввода/вывода
        операционной системы. Общепринятое название такой конфигурации -
        <firstterm>forced writes off</firstterm> (или
        <firstterm>disabled</firstterm>). Её иногда применяют с целью
        повышения производительности во время пакетных операций, связанных с
        обработкой (модифицирующего характера) большого объема данных.</para>

        <para>Совет: <emphasis>не</emphasis> отключайте режим принудительной
        записи на Windows-серврере. Замечено, что серверные платформы Windows
        не сбрасывают кэш записи до останова сервиса Firebird. На
        Windows-сервере потенциально много чего может пойти не так, не говоря
        о возможном перебое с питанием. В этом случае, проблемы с подсистемой
        ввода/вывода закончатся потерей результатов работы
        пользователей.</para>

        <note>
          <para>Windows 9x и ME не поддерживают отложенную запись
          данных</para>
        </note>

        <section>
          <title>Отключение принудительной записи на Linux-системах</title>

          <para>Хотя Linux-сервера безопаснее в плане работы с временно
          выключенным режимом принудительной записи, тем не менее, не
          рекомендуется оставлять его выключенным по завершению пакетной
          операции, по крайней мере, если у Вас нет отказоустойчивой системы
          гарантированного питания.</para>
        </section>
      </section>

      <section>
        <title><indexterm>
            <primary>Восстановление</primary>

            <secondary>поверх работающей базы данных</secondary>
          </indexterm><indexterm>
            <primary>Базы данных</primary>

            <secondary>резервирование и восстановление</secondary>
          </indexterm>Восстановление резерва поверх работающей базы
        данных</title>

        <para>Одна из опций утилиты <application>gbak</application>
        (<literal>gbak -r[eplace]</literal>) позволяет Вам восстановить
        gbak-файл поверх существующей базы данных. При этом возможна ситуация,
        при которой вы не получите предупреждений о наличии подключенных к
        базе данных пользователей. В результате практически гарантировано Вы
        получите поврежденную базу данных (с утратой работавшего
        экземпляра).</para>

        <warning>
          <para>При проектировании своих средств администрирования учитывайте
          необходимость запрета любой возможности для любого пользователя (в
          том числе <database>SYSDBA</database>) восстановления базы данных
          поверх активной базы данных с подключенными пользователями.</para>
        </warning>

        <note>
          <para>Информацию об использовании <application>gbak</application>
          можно получить из главы 21, <citetitle>Database Backup and
          Restore</citetitle>, руковдства <citetitle>Using
          Firebird</citetitle>.</para>

          <para>Инструкции относительно блокирования доступа пользователей к
          базе данных можно получить в главе 14, <citetitle>Getting exclusive
          access to a database</citetitle>, руководства <citetitle>Using
          Firebird</citetitle>.</para>
        </note>

        <para>Рекомендуемый подход заключается в следующем. Восстановите
        резервную копию в отдельную базу данных (в отдельный файл или файлы),
        используя опцию <literal>gbak -c[reate]</literal>, и протестируйте её
        работоспособность, например, используя утилиту
        <application>isql</application> или Ваше любимое средство
        администрирования. Если база данных работает нормально, остановите
        сервер (shut down). Сделайте файловую копию старой базы данных и затем
        скопируйте файл (или файлы) восстановленной базы данных поверх
        существующей.</para>
      </section>

      <section>
        <title><indexterm>
            <primary>Восстановление</primary>

            <secondary>подключение пользователей во время
            процедуры</secondary>
          </indexterm><indexterm>
            <primary>Базы данных</primary>

            <secondary>резервирование и восстановление</secondary>
          </indexterm>Подключение пользователей во время процедуры
        восстановления</title>

        <para>Если Вы не заблокируете доступ пользователей к базе данных в
        процессе её восстановления командой <literal>gbak -r[eplace]</literal>
        , то они будут иметь возможность, подключившись, осуществить некоторые
        действия по изменению данных, что, в свою очередь, приведет к порче
        базы данных.</para>
      </section>
    </section>
  </section>

  <section id="qsg15-gettinghelp-ru">
    <title><indexterm>
        <primary>Помощь</primary>
      </indexterm><indexterm>
        <primary>Документация</primary>
      </indexterm>В поисках помощи</title>

    <para>Сообщество людей, желающих и могущих помочь в разрешении вопросов
    относительно Firebird, начало развиваться задолго до того, как стали
    открытыми исходные коды предшественницы - InterBase® 6. Коллективный разум
    сообщества Firebird имеет ответы на все вопросы! Среди активных членов
    присутствуют и те, кто был вовлечен в процесс развития системы с момента
    схематичных зарисовок на доске в ванной в Бостоне.</para>

    <itemizedlist>
      <listitem>
        <para>Посетите официальный сайт проекта Firebird Project (Firebird
        Project) <ulink
        url="http://www.firebirdsql.org/">http://www.firebirdsql.org/</ulink>,
        где помимо прочего Вы можете подписаться на список рассылки поддержки
        пользователей (support list).</para>
      </listitem>

      <listitem>
        <para>Посетите сайт <ulink
        url="http://www.ibphoenix.com">http://www.ibphoenix.com</ulink>, где
        можно получить большое количество информации относительно
        использования и разработки как для, так и самой Firebird.</para>
      </listitem>

      <listitem>
        <para>Ознакомьтесь с документацией, разрабатываемой в рамках проекта
        Firebird, по адресу <ulink
        url="http://www.firebirdsql.org/manual/">http://www.firebirdsql.org/manual/</ulink>.</para>
      </listitem>

      <listitem>
        <para><indexterm>
            <primary>Книги</primary>

            <secondary>The Firebird Book</secondary>
          </indexterm><indexterm>
            <primary>Firebird Book</primary>
          </indexterm>Приобретите официальную книгу о Firebird (The Firebird
        Book) по адресу <ulink
        url="http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;s=1093098777:149734&amp;page=ibp_firebird_book">http://www.ibphoenix.com/main.nfs?a=ibphoenix&amp;s=1093098777:149734&amp;page=ibp_firebird_book</ulink>,
        более 1100 страниц набитых информацией о Firebird. <remark>Прим.
        перев.:</remark>Издательство <quote>БХВ-Петербург</quote>выпустило
        <ulink url="http://bhv.ru/books/book.php?id=12595">перевод
        книги</ulink> на русский язык, научный редактор перевода - Дмитрий
        Кузьменко.</para>
      </listitem>
    </itemizedlist>

    <note>
      <para>Руководства IBPhoenix <citetitle>Using Firebird</citetitle> и
      <citetitle>The Firebird Reference Guide</citetitle>, присутствующие на
      диске Developer CD, больше не сопроваждаются. Однако, большая чать
      материала, содержащегося в этих документах, будет обновлена и добавлена
      к официальной проектной документации.</para>
    </note>

    <para><remark>Прим. перев.:</remark> Ресурсы на русском языке</para>

    <itemizedlist>
      <listitem>
        <para>Интернет-ресурс <ulink
        url="http://www.ibase.ru">http://www.ibase.ru</ulink> - сайт
        одноименной компаниии, созданной <quote>российский сайт по InterBase,
        Firebird и Yaffil</quote>.</para>
      </listitem>

      <listitem>
        <para>Конференция <ulink
        url="http://groups.google.com/group/ru-firebird">http://groups.google.com/group/ru-firebird</ulink>
        - центр русскоязычного сообщества InterBase, Firebird и Yaffil.
        Убедительная просьба, прежде чем задать свой вопрос, прочтите
        несложные <ulink
        url="http://groups.google.com/group/ru-firebird/web/правила%20конференции">правила
        конференции</ulink>.</para>
      </listitem>

      <listitem>
        <para><indexterm>
            <primary>Книги</primary>

            <secondary>Мир InterBase</secondary>
          </indexterm>Приобретите книгу Алексея Ковязина и Сергея Вострикова
        <citetitle>Мир InterBase. Архитектура, администрирование и разработка
        приложений баз данных в InterBase/Firebird/Yaffil</citetitle>,
        <quote>первая книга на русском языке об InterBase</quote>. Информация
        о книге доступна на сайте <ulink
        url="http://www.interbase-world.com">http://www.interbase-world.com</ulink></para>
      </listitem>
    </itemizedlist>
  </section>

  <section id="qsg15-firebird-project-ru">
    <title>Проект Firebird<indexterm class="singular" scope="local">
        <primary>Проект</primary>
      </indexterm><indexterm>
        <primary>Проект Firebird</primary>
      </indexterm></title>

    <para>Разработчики, системщики и тестеры - те, кто предоставил Вам
    Firebird и драйвера для него - являются членами проекта с открытым
    исходным кодом (open source) по разработке системы управления базами
    данных Firebird на SourceForge, удивительном виртуальном сообществе,
    включающем тысячи команд разработчиков проектов с открытыми исходными
    кодами. Адрес проекта Firebird - <ulink
    url="http://sourceforge.net/projects/firebird">http://sourceforge.net/projects/firebird</ulink>.
    На этом сайте Вы можете получить доступ к дереву исходного кода, системе
    учета обнаруженных ошибок (bug tracker) и множество файлов, в разной
    степени связанных с разработкой и тестированием кода.</para>

    <para>Разработчики и тестеры Firebird Project используют список рассылки
    <systemitem>firebird-devel@lists.sourceforge.net</systemitem> в качестве
    <quote>виртуальной лаборатории</quote>, в рамках которой осуществляется
    взаимодействие по усовершенствованию, исправлению ошибок и разработке
    новых версий.</para>

    <para>Любой заинтересованный в наблюдении за процессом может подписаться
    на этот список. Однако, имейте в виду, что в рамках этого списка не
    осуществляется поддержка пользователей. Пожалуйста, не отправляйте туда
    вопросы о проблемах с использованием Firebird, используйте для этого
    специальный список рассылки
    <systemitem>firebird-support@yahoogroups.com</systemitem>!</para>
  </section>

  <appendix id="qsg15-dochist-ru">
    <title><indexterm>
        <primary id="qsg10-it-dochist-p">История Документа</primary>
      </indexterm>История Документа</title>

    <para>История текущих изменений оригинального документа представлена в
    оригинльном документе. Точная история изменений файлов хранится в модуле
    <filename class="directory">manual</filename> нашего CVS-дерева; смотри
    <ulink
    url="http://sourceforge.net/cvs/?group_id=9028">http://sourceforge.net/cvs/?group_id=9028</ulink></para>

    <para><revhistory>
        <revision>
          <revnumber>0.0</revnumber>

          <date>2002</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para>Опубликован в виде первой главы руководства <citetitle>Using
            Firebird</citetitle>.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.0</revnumber>

          <date>2003</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para>Опубликован отдельно в качестве свободнодоступного Quick
            Start Guide.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.x</revnumber>

          <date>Июнь 2004</date>

          <authorinitials>IBP</authorinitials>

          <revdescription>
            <para>Пожертвован компанией IBPhoenix проекту Firebird.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.0</revnumber>

          <date>27 августа 2004</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Обновление до Firebird 1.5</para>

            <para>Добавлен раздел Classic vs. Superserver.</para>

            <para>Переработана таблица расположения на диске.</para>

            <para>Добавлены (новые) <quote>снимки экрана</quote>.</para>

            <para>Добавлен раздел о безопасности.</para>

            <para>Обновлена и дополнена информация об апплетах Панели
            управления.</para>

            <para>Добавлены примеры в раздел <quote><constant>NULL в
            выражениях</constant></quote>.</para>

            <para>Некоторые другие корректировки и изменения.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.0.ru</revnumber>

          <date>31 декабря 2004</date>

          <authorinitials>GS</authorinitials>

          <revdescription>
            <para>Документ переведен на русский язык.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.1.1.ru</revnumber>

          <date>14 марта 2005</date>

          <authorinitials>GS</authorinitials>

          <revdescription>
            <para>Доработан первоначальный текст перевода, а также учтены
            изменения в оригинальном тексте.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>2.2.2.ru</revnumber>

          <date>14 марта 2007</date>

          <authorinitials>GS</authorinitials>

          <revdescription>
            <para>Синхронизация с редакцией 2.2.2 оригинального текста.
            Переработаны структура и содержание документа (в соответствии с
            текущей структурой оригинальной версии документа, ревизия 1.23).
            Обновлены ссылки на страницу проекта и русскоязычную конференцию,
            удалена устаревшая информация, добавлены сведения о русскоязычном
            издании The Firebird Book.</para>
          </revdescription>
        </revision>
      </revhistory></para>
  </appendix>

  <appendix id="qsg15-license-ru">
    <title><indexterm>
        <primary>Условия лицензии</primary>
      </indexterm>Условия лицензии</title>

    <para>Содержимое данной Документации распространяется на условиях Public
    Documentation License версии 1.0 ("Лицензия"); использование Документации
    допускается только в случае согласия с условиями Лицензии. Копии Лицензии
    доступны по следующим ссылкам: <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) и <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML)</para>

    <para>Оригинальное название Документации <citetitle>Firebird Quick Start
    Guide</citetitle>.</para>

    <para>Первоначальный автор Оригинальной Документации: IBPhoenix
    Editors.</para>

    <para>Copyright (C) 2002-2004. Все права защищены. Адрес электронной почты
    для контакта: hborrie at ibphoenix dot com.</para>

    <para>Вкладчик: Paul Vinkenoog - смотри <link
    linkend="qsg15-dochist-ru">история документа</link>.</para>

    <para>Части, созданные Paul Vinkenoog (C) 2004-2006. Все права защищены.
    Адрес электронной почты для контакта: paul at vinkenoog dot nl.</para>

    <para>Вкладчик: Григорий Сапунков - перевод на русский язык.</para>

    <para>Перевод на русский язык, выполненный Григорием Сапунковым (C)
    2004-2007. Все права защищены. Адрес электронной почты для контакта:
    sapunidze at yandex dot ru.</para>

    <para><remark>Прим. перев.:</remark> Далее представлен оригинальный текст
    раздела, так как его <quote>смысловой</quote> перевод (приведенный выше)
    не имеет равноценной юридической силы.</para>

    <bridgehead>License notice (English version)</bridgehead>

    <para>The contents of this Documentation are subject to the Public
    Documentation License Version 1.0 (the <quote>License</quote>); you may
    only use this Documentation if you comply with the terms of this License.
    Copies of the License are available at <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) and <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML).</para>

    <para>The Original Documentation is titled <citetitle>Firebird Quick Start
    Guide</citetitle>.</para>

    <para>The Initial Writer of the Original Documentation is: IBPhoenix
    Editors.</para>

    <para>Copyright (C) 2002-2004. All Rights Reserved. Initial Writer
    contact: hborrie at ibphoenix dot com.</para>

    <para>Contributor: Paul Vinkenoog - see <link
    linkend="qsg15-dochist-ru">document history</link>.</para>

    <para>Portions created by Paul Vinkenoog are Copyright (C) 2004-2006. All
    Rights Reserved. Contributor contact: paul at vinkenoog dot nl.</para>

    <para>Contributor: Gregory Sapunkov - Russian translation.</para>

    <para>The Russian translation by Gregory Sapunkov is Copyright (C)
    2004-2007. All Rights Reserved. Contributor contact: sapunidze at yandex
    dot ru.</para>
  </appendix>

  <index id="qsg15-index-ru">
    <title>Алфавитный указатель</title>
  </index>
</article>