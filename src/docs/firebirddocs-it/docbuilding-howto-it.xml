<?xml version="1.0" encoding="UTF-8"?>
<article id="docbuildhowto-it">
  <articleinfo>
    <title>Come scaricare e ricostruire il modulo del manuale di
    Firebird</title>

    <titleabbrev>Come fare il manuale di Firebird</titleabbrev>

    <author>
      <firstname>Paul</firstname>

      <surname>Vinkenoog</surname>
    </author>

    <othercredit class="translator">
      <firstname>Umberto</firstname>

      <surname>Masotti</surname>

      <contrib>Traduzione in italiano</contrib>
    </othercredit>

    <edition>24 agosto 2006 – Versione italiana 1.4-it</edition>
  </articleinfo>

  <section id="docbuildhowto-intro-it">
    <title>Introduzione: Scopo di questo documento – a chi è rivolto</title>

    <para>Questo documento spiega, passo passo, come scaricare e ricostruire
    il modulo del manuale di Firebird dal sito del progetto Firebird su
    SourceForge.</para>

    <section id="docbuildhowto-intro-what-it">
      <title>Ma cos'è questo "modulo del manuale"?</title>

      <para>Il modulo del manuale è una parte del Progetto Firebird su
      SourceForge. E' uno sforzo collettivo, volto alla produzione di una
      documentazione onnicomprensiva ed accurata sul sistema di gestione di
      basi di dati relazionale Firebird.</para>

      <para>E' importante comprendere che il modulo del manuale contiene la
      documentazione in <emphasis>formato sorgente</emphasis> e per essere più
      precisi, nel formato XML Docbook. Questo sorgente deve essere processato
      (<firstterm>ricostruito</firstterm>) per ottenere documenti facilmente
      leggibili, che possono pertanto essere pubblicati su internet.</para>
    </section>

    <section id="docbuildhowto-intro-otherdocs-it">
      <title>Oltre al modulo del manuale, c'è altra documentazione su
      Firebird?</title>

      <para>Ma certo che si! Al momento è stata prodotta molta utile
      documentazione che non fa parte del modulo del manuale. C'è ancora molto
      lavoro per rendere la documentazione nel modulo del manuale abbastanza
      completa. Una delle ragioni per cui questo documento è stato scritto è
      che possa aiutare futuri autori e traduttori nel risolvere i loro
      problemi al riguardo.</para>

      <para>Se state cercando documentazione pronta all'uso (in inglese), i
      migliori punti di partenza al momento sono:</para>

      <itemizedlist>
        <listitem>
          <para><ulink
          url="http://www.ibphoenix.com">http://www.ibphoenix.com</ulink> – il
          sito di IBPhoenix</para>

          <para>Segui i link a <literal>Downloads -&gt; Main
          Downloads</literal> e <literal>Development -&gt; General
          Documentation</literal>.</para>
        </listitem>

        <listitem>
          <para><ulink
          url="http://www.firebirdsql.org/index.php?op=doc">http://www.firebirdsql.org/index.php?op=doc</ulink>
          – la pagina della documentazione del progetto Firebird.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="docbuildhowto-intro-readydocs-it">
      <title>Devo proprio ricostruire i manuali da solo? Non c'è un modo più
      semplice?</title>

      <para>Certamente. Nel momento stesso in cui un certo documento raggiunge
      un determinato livello di maturazione, così come dopo un numero
      significativo di aggiornamenti, viene pubblicato - in formato HTML e PDF
      - sul sito di Firebird. Si possono trovare tutti i documenti che sono
      stati pubblicati attraverso le pagine con gli indici HTML e PDF:</para>

      <blockquote>
        <para><ulink
        url="http://www.firebirdsql.org/manual/">http://www.firebirdsql.org/manual/</ulink></para>

        <para><ulink
        url="http://www.firebirdsql.org/pdfmanual/">http://www.firebirdsql.org/pdfmanual/</ulink></para>
      </blockquote>

      <para>Si può visitare la pagina del sottoprogetto relativo alla
      documentazione:</para>

      <blockquote>
        <para><ulink
        url="http://www.firebirdsql.org/index.php?op=devel&amp;sub=doc">http://www.firebirdsql.org/index.php?op=devel&amp;sub=doc</ulink></para>
      </blockquote>

      <para>Si deve scaricare il modulo del manuale e ricostruire la
      documentazione se e solo se:</para>

      <itemizedlist>
        <listitem>
          <para>Si vuole controllare l'ultima revisione dei documenti.
          (Attenzione che uno dei motivi per cui una versione non è stata
          ancora rilasciata è perchè contiene errori.)</para>
        </listitem>

        <listitem>
          <para>Si desidera contribuire scrivendo nuova documentazione o
          traducendo parte della documentazione ancora mancante.</para>
        </listitem>

        <listitem>
          <para>Si è interessati nel comprendere come funziona questo sistema
          di generazione della documentazione, e/o si ritiene che questo "fai
          da te" è più divertente che un semplice scaricare il risultato
          pronto.</para>
        </listitem>
      </itemizedlist>

      <para>Se uno qualsiasi dei casi precedenti si applica alla vostra
      situazione, allora questo documento fa per voi.</para>
    </section>
  </section>

  <section id="docbuildhowto-getting-the-module-it">
    <title>Prelevare il modulo del manuale da SourceForge</title>

    <titleabbrev>Prelevare il modulo del manuale da SF</titleabbrev>

    <para>Il modulo del manuale è parte del "Firebird CVS repository" sul sito
    di SourceForge. Per prelevarlo si ha bisogno di un programma che viene
    definito un <firstterm>CVS client</firstterm>. Questa sezione descrive i
    passi necessari per ottenere il software e scaricare il modulo del
    manuale. La parte per ricostruire realmente la documentazione viene
    illustrata nella successiva sezione principale: <xref
    linkend="docbuildhowto-building-the-docs-it" />.</para>

    <section id="docbuildhowto-whatiscvs-it">
      <title>Che cosa è il CVS?</title>

      <para>CVS è l'acronimo della frase inglese Concurrent Versions System
      che significa (non proprio letteralmente) "sistema per la gestione di
      versioni concorrenti". Di fatto è uno strumento per gestire lo sviluppo
      di programmi, utile a singoli sviluppatori ma sopratutto a equipe
      cooperanti. Praticamente tutti i progetti di SourceForge usano CVS per
      memorizzare e sviluppare il loro codice. Poiché ogni progetto è un
      deposito organizzato come un albero, così l'albero CVS di Firebird è
      suddiviso in più <firstterm>moduli</firstterm>, in cui il modulo del
      manuale è uno di questi.</para>
    </section>

    <section id="docbuildhowto-cvs-clients-it">
      <title>I client per il CVS</title>

      <para>Prelevare un modulo dal deposito del CVS viene detto
      <firstterm>checking out</firstterm> nel gergo del CVS. Per farlo si ha
      bisogno di un cosiddetto CVS client; ne esistono praticamente per ogni
      sistema operativo. Segue una lista di client CVS per alcuni dei più
      diffusi sistemi operativi, notare che non sono quasi mai tradotti in
      italiano:</para>

      <itemizedlist>
        <listitem>
          <para>Linux, BSD ed altri Unix</para>

          <itemizedlist>
            <listitem>
              <para>Spesso è già preinstallato un CVS a linea di comando. Se
              non c'è, si usano gli strumenti di amministrazione della
              versione distribuita per installarlo: di solito si trova nella
              categoria "sviluppo" ( cioè "Development" se non è tradotto). Se
              questo non funziona nel vostro caso, cercatelo a <ulink
              url="http://www.cvshome.org/">http://www.cvshome.org</ulink></para>
            </listitem>

            <listitem>
              <para>gCvs – è una interfaccia grafica per il CVS in <ulink
              url="http://cvsgui.sourceforge.net/download.html">http://cvsgui.sourceforge.net/download.html</ulink></para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Windows</para>

          <itemizedlist>
            <listitem>
              <para>CVS a linea di comando in <ulink
              url="http://www.cvshome.org/">http://www.cvshome.org</ulink></para>
            </listitem>

            <listitem>
              <para>WinCVS: è molto potente, ma potrebbe essere disorientante
              se non si è un po' pratici dell'argomento. Si trova in <ulink
              url="http://cvsgui.sourceforge.net/download.html">http://cvsgui.sourceforge.net/download.html</ulink></para>
            </listitem>

            <listitem>
              <para>TortoiseCVS: è un plug-in (letteralmente innesto, e si
              dice di software opzionale che aggiunge funzionalità attraverso
              un'interfaccia standardizzata) per Windows Explorer. Ben
              ingegnerizzato e molto intuitivo. Gli mancano alcune delle
              funzioni più avanzate, ma ha proprio tutto quello che può
              servire per lo scopo. Si trova a <ulink
              url="http://tortoisecvs.sourceforge.net/download.shtml">http://tortoisecvs.sourceforge.net/download.shtml</ulink></para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Mac OS X</para>

          <itemizedlist>
            <listitem>
              <para>Mac OS X ha già incluso un CVS a linea di comando.</para>
            </listitem>

            <listitem>
              <para>Fink (Uno strumento Unix per OS X) contiene una versione
              più nuova del CVS. <ulink
              url="http://fink.sourceforge.net/download/index.php">http://fink.sourceforge.net/download/index.php</ulink></para>
            </listitem>

            <listitem>
              <para>MacCvsX si trova a <ulink
              url="http://cvsgui.sourceforge.net/download.html">http://cvsgui.sourceforge.net/download.html</ulink>
              – è lo stesso progetto di gCVS s WinCvs. Nota bene: la versione
              OS X è ancora in beta test (non è definitiva).</para>
            </listitem>

            <listitem>
              <para>MacCVS Pro si trova a <ulink
              url="http://sourceforge.net/projects/maccvspro/">http://sourceforge.net/projects/maccvspro/</ulink></para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Mac Classic</para>

          <itemizedlist>
            <listitem>
              <para>MacCvs si trova a <ulink
              url="http://cvsgui.sourceforge.net/download.html">http://cvsgui.sourceforge.net/download.html</ulink>
              – stesso progetto di gCvs e WinCvs</para>
            </listitem>

            <listitem>
              <para>MacCVS Pro si scarica da <ulink
              url="http://sourceforge.net/projects/maccvspro/">http://sourceforge.net/projects/maccvspro/</ulink></para>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem>
          <para>Altri</para>

          <itemizedlist>
            <listitem>
              <para>Metti alla prova la tua fortuna cercando in <ulink
              url="http://www.cvshome.org/">http://www.cvshome.org</ulink>,
              <ulink url="http://www.google.com">google</ulink>, oppure chiedi
              al newsgroup gnu.cvs.help oppure alla mailing list di
              firebird-docs.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>

      <para>Una volta ottenuto uno o più dei summenzionati software,
      installatelo seguendo le istruzioni allegate. Dopodiché si è pronti per
      fare il "check out" del modulo del manuale.</para>
    </section>

    <section id="docbuildhowto-checking-out-it">
      <title>Fare il "check out" del modulo del manuale</title>

      <para>Ci sono due modi per fare il check out di un modulo: come utente
      anonimo (letteralmente si chiama "anonymous"), oppure attraverso il
      proprio nome di accesso a SourceForge. L'ultimo metodo viene spesso
      chiamato "SSH checkout" perchè utilizza una interfaccia sicura (Secure
      SHell) oppure anche "EXT checkout", perchè usa SSH come protocollo
      esterno.</para>

      <para>Chiunque può fare il checkout anonimo. I membri del progetto
      Firebird possono fare il checkout col proprio nome utente SourceForge.
      Nota bene: se si ha un accesso SourceForge ma non si è membri del
      progetto Firebird si può fare solo il checkout anonimo.</para>

      <para>Chi è membro del progetto, dovrebbe eseguire il checkout
      attraverso il proprio nome utente SourceForge in quanto</para>

      <orderedlist numeration="loweralpha">
        <listitem>
          <para>Un checkout anonimo non sempre è aggiornato e ci possono
          essere ritardi da qualche ora a qualche giorno;</para>
        </listitem>

        <listitem>
          <para>Contribuendo personalmente al modulo del manuale, si
          <emphasis>deve</emphasis> eseguire il checkout con il proprio nome
          utente SourceForge altrimenti non si possono caricare (in gergo fare
          il "commit") le proprie modifiche sul server di SourceForge.</para>
        </listitem>
      </orderedlist>

      <para>Verranno descritti entrambi i metodi nelle prossime sezioni,
      iniziando col checkout anonimo. Clicca <link
      linkend="docbuildhowto-ssh-checkout-it">qui</link> per andare alla
      sezione che riguarda il checkout SSH.</para>

      <warning>
        <para>Nel caso in cui si sia all'interno di un firewall, assicurarsi
        che la porta 2401 TCP sia aperta. In caso contrario non si è in grado
        di effettuare la connessione al server cvs. La propria connessione
        semplicemente viene interrotta per tempo scaduto mentre cerca ancora
        di collegarsi.</para>
      </warning>

      <section id="docbuildhowto-anon-checkout-it">
        <title>Checkout anonimo</title>

        <para>La procedura di checkout anonimo dipende dal client che si usa.
        Adesso diamo le istruzioni esatte per il CVS a linea di comando, e di
        seguito le informazioni adatte per poter configurare altri
        software.</para>

        <section id="docbuildhowto-anon-checkout-commandline-it">
          <title>Checkout anonimo con CVS a linea di comando</title>

          <orderedlist>
            <listitem>
              <para>Se sei in un ambiente grafico, apri una finestra con il
              prompt dei comandi</para>
            </listitem>

            <listitem>
              <para>Per prima cosa, bisogna verificare la password e
              memorizzarla localmente. Per fare ciò si scrive il
              comando:</para>

              <blockquote>
                <para><command>cvs
                -d:pserver:anonymous@firebird.cvs.sourceforge.net:/cvsroot/firebird
                login</command></para>
              </blockquote>

              <para>Quando chiede la password, digitate direttamente il tasto
              di <keysym>Invio</keysym>, perchè la password per l'utente
              "anonymous" è vuota. Il programma CVS memorizza la password per
              i successivi usi, così da saltare questo passo in seguito perchè
              non si usano altre password.</para>
            </listitem>

            <listitem>
              <para>A questo punto si può scaricare il modulo del manuale,
              digitando, su una sola linea, il comando seguente :</para>

              <blockquote>
                <para><command>cvs -z6
                -d:pserver:anonymous@firebird.cvs.sourceforge.net:/cvsroot/firebird
                checkout manual</command></para>
              </blockquote>

              <para>Se tutto va bene, viene creata una directory chiamata
              <filename>manual</filename> sotto la directory corrente, e
              l'albero completo di sorgenti del manuale viene scaricato in
              essa. A questo punto si può ricostruire la documentazione - per
              informazioni leggi <link
              linkend="docbuildhowto-building-the-docs-it"><citetitle>Ricostruire
              la documentazione di Firebird</citetitle></link>.</para>
            </listitem>
          </orderedlist>
        </section>

        <section id="docbuildhowto-anon-checkout-otherclients-it">
          <title>Checkout anonimo con altri metodi</title>

          <para>Ci sono tante configurazioni diverse per dare qui istruzioni
          esatte, per tutti i possibili programmi CVS client. Pertanto
          consultate la documentazione del programma per immettere le varie
          informazioni di cui potreste aver bisogno prima o poi, e che
          sono:</para>

          <variablelist>
            <varlistentry>
              <term>protocol</term>

              <listitem>
                <para>Indica il tipo di protocollo e va impostato su pserver
                (password server)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>authentication method</term>

              <listitem>
                <para>Indica il metodo di autenticazione e va impostato come
                <literal>protocol</literal></para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>server</term>

              <listitem>
                <para><literal>firebird.cvs.sourceforge.net</literal> cioè il
                nome del server su cui sono depositati i sorgenti
                comuni</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>repository</term>

              <listitem>
                <para><literal>/cvsroot/firebird</literal> è la directory da
                indicare come origine di tutti i sorgenti comuni</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>user name</term>

              <listitem>
                <para>il nome utente, attenzione a come è scritto:
                <literal>anonymous</literal></para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>module name</term>

              <listitem>
                <para><literal>manual</literal> cioè il nome del modulo da
                scaricare dal server</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>cvsroot</term>

              <listitem>
                <para>di solito è una combinazione tra server e repository
                (deposito), alle volte con il nome utente preposto (esempio
                WinCvs fa così):
                <literal>firebird.cvs.sourceforge.net:/cvsroot/firebird</literal>
                oppure
                <literal>anonymous@firebird.cvs.sourceforge.net:/cvsroot/firebird</literal></para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para>Riempite i dati necessari e date il comando di checkout del
          vostro programma client. Se funziona, avrete una copia locale del
          modulo del manuale sul vostro computer e si è pronti per ricostruire
          la documentazione. Leggete quindi <link
          linkend="docbuildhowto-building-the-docs-it"><citetitle>Ricostruire
          la documentazione di Firebird</citetitle></link>.</para>
        </section>
      </section>

      <section id="docbuildhowto-ssh-checkout-it">
        <title>SSH checkout (col proprio nome utente SF)</title>

        <para>Per poter effettuare un SSH checkout, bisogna che sia presente
        sul sistema un "secure shell client". Sulla maggior parte dei sistemi
        Unix, così come su Mac OS X, <application>OpenSSH</application> è già
        installato. Altrimenti, controllate sul CD della distribuzione o
        cercatelo da <ulink
        url="http://www.openssh.com">http://www.openssh.com</ulink>. Questo
        sito contiene indirizzi anche per altri prodotti per SSH per altri
        sistemi operativi non supportati direttamente da OpenSSH. Notare che
        installare e configurare OpenSSH su alcuni sistemi (incluso Windows)
        non è proprio facile. Sarebbe meglio scegliere un client CVS che
        contiene già SSH incluso, ad esempio
        <application>TortoiseCVS</application> per Windows.</para>

        <para>Per quanto riguarda il vero e proprio checkout, così come il
        checkout anonimo, la procedura dipende dal programma client usato.
        Daremo esatte istruzioni per il checkout a linea di comando ed
        istruzioni generali per altri client.</para>

        <warning>
          <para>Occasionalmente potrebbe scadere la propria password di
          SourceForge. Nel caso in cui ciò accadesse, si riceve un messaggio
          del tipo "Accesso negato, riprovare" (in inglese "Permission denied.
          Please try again"). Nel caso accadesse, ed essendo sicuri che la
          password sia giusta, si deve andare alla pagina principale di
          SourceForge - <ulink
          url="http://sourceforge.net/index.php">http://sourceforge.net/index.php</ulink>
          - e cercare di fare il login con il nome utente e password con cui
          si era soliti connettersi al cvs. Se la password è scaduta, verrà
          richiesto di cambiarla.</para>

          <para>Dopo aver cambiato la propria password, sarà necessario far
          partire una nuova sessione, altrimenti si continuerà a ricevere
          sempre il messaggio di password scaduta, anche con la nuova
          password.</para>
        </warning>

        <section id="docbuildhowto-ssh-checkout-commandline-it">
          <title>Fare il SSH checkout con CVS a linea di comando.</title>

          <orderedlist>
            <listitem>
              <para>Se sei in ambiente grafico, apri una finestra con il
              prompt dei comandi.</para>
            </listitem>

            <listitem>
              <para>Per prima cosa, assicurarsi di avere una variabile
              d'ambiente chiamata <envar>CVS_RSH</envar> col valore
              <quote>ssh</quote> (o come è chiamato il tuo programma client
              SSH). Come farlo dipende dal sistema operativo. In ambiente
              DOS/Windows, usate <command>set CVS_RSH=ssh</command>. In
              Linux/bash, invece, si usa <command>export
              CVS_RSH=ssh</command>.</para>

              <para>Per rendere questa variabile permanente, in modo da
              saltare questo passo in futuro, consultate la documentazione del
              vostro sistema operativo se necessario.</para>
            </listitem>

            <listitem>
              <para>Date il seguente comando per scaricare il modulo del
              manuale (scrivete tutto su una sola linea e sostituite
              <replaceable>username</replaceable> col vostro nome utente di
              SourceForge):</para>

              <blockquote>
                <para><command>cvs -z6
                -d:ext:<replaceable>username</replaceable>@firebird.cvs.sourceforge.net:/cvsroot/firebird
                checkout manual</command></para>
              </blockquote>

              <para>Inserite la vostra password quando viene richiesta.</para>

              <para>Se tutto funziona, verrà creata una directory chiamata
              <filename>manual</filename> sotto il direttorio corrente e tutto
              l'albero dei sorgenti vi verrà scaricato. Per ricostruire il
              manuale leggete <link
              linkend="docbuildhowto-building-the-docs-it">
              <citetitle>Ricostruire la documentazione di
              Firebird</citetitle></link>.</para>
            </listitem>
          </orderedlist>
        </section>

        <section id="docbuildhowto-ssh-checkout-otherclients-it">
          <title>Fare il SSH checkout con altri programmi client</title>

          <para>Ci sono troppe diversità per dare una sequenza di istruzioni
          esatta per qualsiasi client CVS. Consultate l'aiuto in linea o la
          documentazione del vostro programma client. Gli elementi che ad un
          certo punto vi possono essere richiesti sono:</para>

          <variablelist>
            <varlistentry>
              <term>protocol ( o protocollo )</term>

              <listitem>
                <para>questo deve essere impostato a ext (o SSH, o SSL)</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>authentication method (o metodo di autenticazione)</term>

              <listitem>
                <para>allo stesso modo di come hai impostato il
                protocollo</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>server</term>

              <listitem>
                <para><literal>firebird.cvs.sourceforge.net</literal> cioè il
                nome del server su cui sono depositati i sorgenti
                comuni</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>repository</term>

              <listitem>
                <para><literal>/cvsroot/firebird</literal> è la directory da
                indicare come origine dell'albero di tutti i moduli
                sorgenti</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>user name</term>

              <listitem>
                <para>è il nome utente: usare il nome utente
                SourceForge</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>module name</term>

              <listitem>
                <para><literal>manual</literal> cioè il nome del modulo da
                scaricare dal server</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>cvsroot</term>

              <listitem>
                <para>di solito è una combinazione di server e repository con
                talvolta preposto il nome utente:
                <literal>firebird.cvs.sourceforge.net:/cvsroot/firebird</literal>
                oppure, in altri casi,
                <literal><replaceable>username</replaceable>@firebird.cvs.sourceforge.net:/cvsroot/firebird</literal>
                dove al posto di <replaceable>username</replaceable> si
                imposta il proprio nome utente</para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para>Cercate di immettere tutti i dati necessari richiesti dal
          vostro programma client CVS e date il comando di checkout. Se
          funziona, si crea una copia locale del modulo del manuale sul vostro
          computer e si possono ricostruire i documenti. Inoltre potete
          confermare le modifiche che fate localmente nella copia remota del
          modulo del manuale.</para>
        </section>
      </section>
    </section>
  </section>

  <section id="docbuildhowto-building-the-docs-it"
           xreflabel="Ricostruire la documentazione Firebird">
    <title>Ricostruire la documentazione di Firebird</title>

    <para>Si utilizzano alcuni strumenti JAVA per produrre la documentazione
    in formato HTML e PDF a partire dal formato XML DocBook. Pertanto è
    necessaria una versione recente di Java 2 installata nel sistema.</para>

    <para>Nelle prossime sezioni si spiega:</para>

    <orderedlist spacing="compact">
      <listitem>
        <para>Da dove prelevare Java 2</para>
      </listitem>

      <listitem>
        <para>Da dove recuperare gli strumenti</para>
      </listitem>

      <listitem>
        <para>Come impostare l'ambiente operativo per il processo di
        ricostruzione dei documenti</para>
      </listitem>

      <listitem>
        <para>Come costruire i documenti sia HTML che PDF</para>
      </listitem>
    </orderedlist>

    <para>Se si ha già una versione di Java 2 installata, si può <link
    linkend="docbuildhowto-setup-build-env-it">saltare il primo
    passo</link>.</para>

    <section id="docbuildhowto-get-java2-it" xreflabel="Dove ottenere Java 2">
      <title>Dove ottenere Java 2</title>

      <para>Scaricate ed installate <emphasis>solo uno</emphasis> dei
      seguenti:</para>

      <itemizedlist>
        <listitem>
          <para>Java 2 Runtime Environment, Standard Edition – spesso
          abbreviato con J2RE SE.</para>

          <para>Vai a <ulink
          url="http://www.java.com/">http://www.java.com/</ulink> e segui i
          link per le pagine di download. Scarica la versione idonea al tuo
          sistema operativo. Cliccando su un link del tipo "Download" oppure
          "Get it now" può comparire una scheda che chiede l'accordo affinché
          Sun Microsystems installi il tutto sul computer. Confermando,
          praticamente il tutto si installa automaticamente. Se non sembra
          chiaro, si può anche scaricare il programma di installazione e
          lanciarlo dal proprio computer.</para>
        </listitem>

        <listitem>
          <para>Java 2 Software Development Kit, Standard Edition – spesso
          abbreviato con J2SDK SE.</para>

          <para>Questo è un pacchetto molto più grande, e contiene già il
          precedente J2RE SE. Se si desidera installare questo SDK, si trova a
          <ulink
          url="http://java.sun.com/j2se/">http://java.sun.com/j2se/</ulink>
          dove c'è l'ultima versione stabile. Dovendo scegliere tra JRE e SDK,
          prendete il secondo (SDK). Certamente, si può ottenere J2RE dal SDK,
          ma è più facile e rapido dalla prima opzione. Ad ogni modo, si
          scarica il programma di installazione e lo si lancia.</para>
        </listitem>
      </itemizedlist>

      <para>Se non è chiara la differenza fra i due, prendi il primo: J2RE.
      Non è necessario l'SDK per costruire i documenti.</para>
    </section>

    <section id="docbuildhowto-get-tools-it">
      <title>Da dove recuperare gli strumenti</title>

      <para>Gli strumenti necessari per ricostruire i documenti HTML e PDF
      sono dei Java <filename class="libraryfile">JAR</filename>s file, e di
      solito li teniamo nel deposito CVS in modo che siano scaricati
      automaticamente nella giusta posizione quando si fa il checkout del
      modulo sorgente del manuale. Tuttavia non si dovrebbero lasciare
      librerie compilate nel CVS, specialmente se i relativi sorgenti sono
      gestiti altrove (sono tutti strumenti open-source). Pertanto attualmente
      non mettiamo più le nuove versioni degli strumenti nel CVS, ma sono
      mantenute nel sito web di Firebird per poterli scaricare.</para>

      <para>Dopo il checkout del modulo del manuale, controllare nella
      directory <filename class="directory">manual/lib</filename>. Contiene il
      file <filename>_readme_libs.txt</filename> con le istruzioni esatte per
      scaricare ed installare le librerie mancanti.</para>
    </section>

    <section id="docbuildhowto-setup-build-env-it">
      <title>Come impostare l'ambiente operativo per il processo di
      ricostruzione dei documenti</title>

      <para>Le procedure di ricostruzione hanno bisogno della variabile di
      ambiente <envar>JAVA_HOME</envar> che punta all'installazione di Java
      2.</para>

      <itemizedlist>
        <listitem>
          <para>In Windows versione italiana, questo è di solito in
          <filename>C:\Programmi\Java\j2re1.4.2_01</filename>. Per esserne
          sicuri, controllare se c'è un direttorio di nome
          <filename>bin</filename> all'interno di esso e se il sottodirettorio
          <filename>bin</filename> contiene un programma di nome
          <filename>java.exe</filename></para>
        </listitem>

        <listitem>
          <para>In Linux, di solito è in
          <filename>/usr/lib/java/jre</filename> oppure
          <filename>/usr/java/j2sdk</filename>, oppure... be', potrebbe essere
          in un bel po' di posti diversi. Ad ogni modo controllate se c'è un
          sottodirettorio <filename>bin</filename> che contiene un file
          eseguibile <filename>java</filename> (senza
          <filename>.exe</filename> in questo caso).</para>
        </listitem>
      </itemizedlist>

      <para>Nel caso sfortunato in cui la variabile d'ambiente
      <envar>JAVA_HOME</envar> non sia già presente e corretta, va impostata
      correttamente e in Windows (versione italiana) con il comando
      <command>set JAVA_HOME=C:\Programmi\Java\j2re1.4.2_01</command> o sotto
      Linux/bash con <command>export JAVA_HOME=/usr/lib/java/jre</command>.
      (Nota bene: questi sono solo esempi, i comandi corretti potrebbero non
      essere quelli indicati per versioni diverse di Java e di sistema
      operativo.)</para>

      <para>Suggerimento: rendete la variabile <envar>JAVA_HOME</envar>
      permanente in modo da non doverla impostare ogni volta. Dipende dal
      sistema operativo il modo in cui farlo. Consultate la documentazione se
      necessario.</para>
    </section>

    <section id="docbuildhowto-buidling-output-docs-it">
      <title>Generare i documenti HTML e PDF</title>

      <para>Se siete arrivati fin qui, adesso siete pronti per costruire i
      manuali di Firebird. Ecco cosa c'è da fare:</para>

      <orderedlist>
        <listitem>
          <para>Se non è già stato fatto, è il momento di leggere il documento
          <filename>ReadMe</filename> che è nel direttorio
          <filename>manual</filename>. Può contenere informazioni importanti
          che non sono (ancora) incluse in questo testo.</para>
        </listitem>

        <listitem>
          <para>Se sei in ambiente grafico, apri una finestra a linea di
          comando.</para>
        </listitem>

        <listitem>
          <para>A meno che il <filename>ReadMe</filename> dia istruzioni
          diverse, andate al direttorio <filename>manual/src/build</filename>
          e date il comando</para>

          <blockquote>
            <para><command>build</command> (in Windows), oppure</para>

            <para><command>./build.sh</command> (in Linux)</para>
          </blockquote>

          <para>Se tutto è stato impostato correttamente, si ottiene un certo
          numero di linee stampate che terminano con <literal>BUILD
          SUCCESSFUL</literal>, e che parlano di certi <firstterm>build
          targets</firstterm> (cose che si possono costruire).</para>
        </listitem>

        <listitem>
          <para>Ora, si può costruire qualcosa di più concreto, cioè:</para>

          <blockquote>
            <para><command>build html</command> oppure</para>

            <para><command>build pdf</command> oppure</para>

            <para><command>build docs</command></para>
          </blockquote>

          <para>Qualsiasi cosa venga fatta starà nell'albero dei direttori
          sotto <filename>manual/dist</filename></para>

          <note>
            <title>sulla ricostruzione dei PDF</title>

            <itemizedlist>
              <listitem>
                <para>Costruendo il file PDF si ricevono moltissimi messaggi
                di errore. Si possono tranquillamente ignorare, l'importante è
                che nelle ultime linee si legga <literal>BUILD
                SUCCESSFUL</literal>.</para>
              </listitem>

              <listitem>
                <para>A causa di alcune limitazioni del software di
                costruzione, alcuni file PDF possono necessitare di qualche -
                noiosa - rifinitura da farsi a mano per renderli presentabili.
                Per uso personale vanno benissimo, nel senso che <quote>c'è
                dentro tutto</quote>. Nel caso si desiderasse migliorarli, si
                legga la sezione verso la fine di questa guida riguardo al
                perfezionamento dei documenti PDF.</para>
              </listitem>
            </itemizedlist>
          </note>
        </listitem>
      </orderedlist>

      <section>
        <title>Documentazione non inglese con
        <parameter>-Dsfx</parameter></title>

        <para>Per costruire la documentazione in lingua non inglese (man mano
        che si rende disponibile) si usa il parametro
        <parameter>-Dsfx</parameter> assegnandogli il codice della lingua,
        cioè:</para>

        <blockquote>
          <para><command>build pdf -Dsfx=es</command></para>

          <para><command>build html -Dsfx=fr</command></para>

          <para><command>build monohtml -Dsfx=it</command></para>
        </blockquote>

        <para>I documenti in lingua vengono distribuiti nei rispettivi
        direttori: <filename>manual/dist/pdf/it</filename>,
        <filename>manual/dist/pdf/ru</filename>,
        <filename>manual/dist/html/fr</filename>, etc.</para>

        <para>Senza specificare il parametro <parameter>-Dsfx</parameter>,
        viene costruito il manuale inglese.</para>

        <warning>
          <para>Non tutte le lingue hanno la stessa quantità di documenti.
          Questo dipende dall'attività degli scrittori e dei traduttori. Di
          solito la parte in inglese è la più aggiornata e la più
          completa.</para>
        </warning>
      </section>

      <section>
        <title>Manuali parziali con <parameter>-Drootid</parameter></title>

        <para>Gli esempi fatti finora producono l'intero insieme (per una
        lingua). Per costruire un manuale con solo una parte (esempio un libro
        o un articolo particolare) si usa il parametro
        <parameter>-Drootid</parameter>. Questo è utile quando si costruiscono
        i file PDF, perchè l'intero set diventa un solo grosso file di
        dimensioni enormi.</para>

        <para>Con l'argomento <parameter>-Drootid</parameter> si deve
        specificare l'ID dell'elemento da costruire, ad esempio:</para>

        <blockquote>
          <para><command>build pdf -Drootid=fbutils</command></para>

          <para><command>build pdf -Dsfx=fr -Drootid=qsg15-fr</command></para>
        </blockquote>

        <para>Come conoscere l'ID? Si trova nei sorgenti XML DocBook. Ma
        questo è parte del manuale per <citetitle>Scrivere Documenti per
        Firebird</citetitle>. L'uso del parametro
        <parameter>-Drootid</parameter> è tipicamente riservato a chi
        scrive/traduce i manuali, non a chi li ricostruisce solamente.</para>

        <para>Come si vede nell'ultimo esempio, gli argomenti possono essere
        insieme.</para>
      </section>

      <section>
        <title>Costruire un diverso insieme con
        <parameter>-Dbasename</parameter></title>

        <para>A partire dal gennaio del 2006, le Note di Rilascio (Release
        Notes) sono state integrate col modulo del manuale, ma costituiscono
        un insieme da sole, parallelo all'insieme dei documenti
        <quote><literal>firebirddocs</literal></quote>. Questo ha generato un
        altro parametro, <parameter>-Dbasename</parameter>, il cui valore deve
        essere <quote><literal>rlsnotes</literal></quote> per costruire le
        Release Notes:</para>

        <blockquote>
          <para><command>build pdf -Dbasename=rlsnotes</command></para>

          <para><command>build pdf -Dbasename=rlsnotes
          -Drootid=rlsnotes20</command></para>

          <para><command>build pdf -Dbasename=rlsnotes
          -Dsfx=fr</command></para>
        </blockquote>

        <para>In futuro potrebbero essere aggiunti altri insiemi.</para>

        <para>Il risultato di vari insiemi è scritto nei soliti direttori,
        tranne in un caso: il multi-file documento finale di tipo
        <systemitem>html</systemitem> è messo in
        <filename>manual/dist/html-&lt;basename&gt;</filename>, per evitare
        ambiguità con altri insiemi e pertanto i vari file
        <filename>index.html</filename> non si sovrascrivono l'un l'altro. Gli
        insiemi non in inglese vanno in
        <filename>manual/dist/html-&lt;basename&gt;/&lt;sfx&gt;</filename>.
        Per esempio le note di rilascio in inglese sono scritte in
        <filename>manual/dist/html-rlsnotes</filename>, quelle in francese
        invece in <filename>manual/dist/html-rlsnotes/fr</filename>.</para>

        <para>La trasformazione in <systemitem>monohtml</systemitem> e
        <systemitem>pdf</systemitem> andando nel solito sottodirettorio non
        causa problemi, in quanto questa termina in un file singolo con un
        solo nome.</para>
      </section>

      <section>
        <title>Impostare valori di default in
        <filename>build.xml</filename></title>

        <para>Ci si ritrova spesso a ricostruire sempre il solito insieme,
        sempre nella stessa lingua e sempre quel documento? Allora è il caso
        di impostare i corrispondenti valori dei parametri nel file di
        controllo della ricostruzione, cioè <filename>build.xml</filename>, in
        modo da non doverli digitare ogni volta sulla linea di comando. Le
        istruzioni si trovano circa in cima al file
        <filename>build.xml</filename>, vicino alla parola
        <systemitem>init</systemitem>.</para>

        <para>Ovviamente, facendo uso di questa caratteristica, si possono
        ancora costruire le altre cose specificando le proprie intenzioni
        sulla linea di comando. Per esempio, nel caso in cui si sia impostato
        <parameter>basename</parameter> a <literal>rlsnotes</literal> nel file
        di impostazione dei default, si può costruire l'insieme completo
        standard con:</para>

        <blockquote>
          <para><command>build html -Dbasename=firebirddocs</command></para>
        </blockquote>
      </section>

      <section>
        <title>Ricostruire la documentazione – conclusioni</title>

        <para>Ecco fatto – adesso si è un perfetto ricostruttore patentato di
        documenti per Firebird. Congratulazioni!</para>

        <para>Per scrivere o tradurre altri documenti per il Progetto Firebird
        leggi anche <ulink
        url="http://www.firebirdsql.org/manual/docwritehowto.html">Firebird
        Docwriting Guide</ulink> (in inglese).</para>
      </section>
    </section>
  </section>

  <section id="docbuildhowto-cvs-update-it">
    <title>Per mantenere aggiornato il modulo del manuale</title>

    <titleabbrev>Per essere aggiornato</titleabbrev>

    <para>Il modulo del manuale è costituito da lavori perennemente in corso.
    Chi contribuisce invia le modifiche a periodi più o meno regolari. Dopo un
    certo tempo dal checkout iniziale, la copia locale sarà obsoleta rispetto
    al deposito di SourceForge. Naturalmente è una perdita di tempo e inutile
    occupazione di banda controllare l'intero modulo spesso solo per
    aggiornare quei pochi file che sono stati modificati. Inoltre così facendo
    si sovrascriverebbero le modifiche fatte. Per questo CVS ha un comando di
    aggiornamento: <command>update</command>. Con il comando
    <command>update</command>, solo le <emphasis>modifiche</emphasis> sono
    scaricate dal server, e le modifiche locali restano intonse. (Nel caso in
    cui un'altra persona contribuendo ha modificato un file nello stesso
    punto, viene segnalato un conflitto e si è costretti ad editare il file in
    questione per risolverlo.)</para>

    <para>Aggiornare è facilissimo. Usando il CVS a linea di comando, ci si
    posiziona nel direttorio <filename class="directory">manual</filename> e
    si digita:</para>

    <blockquote>
      <para><command>cvs -z6 update -d</command></para>
    </blockquote>

    <para>Questo comando è sempre lo stesso, sia per un checkout anonimo o
    effettuato con il nome utente e password di SF. Il programma CVS già
    conosce quale server contattare e come identificarsi perchè tali
    informazioni sono conservate nel sottodirettorio <filename
    class="directory">manual/CVS</filename>, che è stato creato
    automaticamente la prima volta che si è fatto un checkout del modulo. La
    sola differenza è, se è stato fatto il checkout con nome e password, la
    password ti viene comunque richiesta quando fai
    l'<command>update</command>.</para>

    <para>Se si usa un altro strumento per il CVS, cercate per il suo comando
    <command>update</command> oppure per una opzione di menù similare.</para>
  </section>

  <section id="docbuildhowto-troubleshooting-it">
    <title>Se qualcosa non va</title>

    <para>Se non funziona il processo di ricostruzione, la causa potrebbe
    essere dovuta ad una versione di Java 2 troppo vecchia. Ricontrollate
    <xref linkend="docbuildhowto-get-java2-it" /> per maggiori informazioni
    per avere la versione più recente.</para>

    <para>Altrimenti, se un messaggio di errore dice che una classe o la
    definizione di una classe non sono state trovate, probabilmente non sono
    state neanche installate tutte le librerie per la ricostruzione.
    Ricontrollate nel <filename>manual/lib/_readme_libs.txt</filename> e
    seguite le istruzioni (in inglese).</para>

    <para>Se qualcos'altro non va e non si capisce cosa, chiedete aiuto alla
    mailing list firebird-docs. E' necessario dare una buona descrizione del
    problema per ottenere un buon aiuto. Se non siete ancora iscritti alla
    mailing list firebird-docs, per informazioni e iscrizioni visitate <ulink
    url="https://lists.sourceforge.net/lists/listinfo/firebird-docs">https://lists.sourceforge.net/lists/listinfo/firebird-docs</ulink>.</para>
  </section>

  <section id="docbuildhowto-pdfimprove-it">
    <title>Argomento avanzato: perfezionare i PDF</title>

    <titleabbrev>Avanzato: perfezionare i PDF</titleabbrev>

    <para>A causa delle limitazione nei sistemi di ricostruzione, il PDF
    generato può soffrire di alcuni irritanti difetti, quali:</para>

    <itemizedlist>
      <listitem>
        <para>Testate e titoli vedovi (appaiono alla fine della pagina, con il
        testo associato che inizia nella pagina successiva).</para>
      </listitem>

      <listitem>
        <para>Spazi che compaiono nei nomi di file, URLs, ecc. lunghi .</para>
      </listitem>

      <listitem>
        <para>Salti pagina nelle tabelle posti in posizioni strane.</para>
      </listitem>

      <listitem>
        <para>Spazi di giustificazione enormemente larghi.</para>
      </listitem>
    </itemizedlist>

    <para>Questa sezione vi mostra come affrontarli, nel caso vi sia la
    necessità.</para>

    <section id="docbuildhowto-pdfimprove-howpdf-it">
      <title>Come viene ricostruito il PDF</title>

      <para>La prima cosa da capire è come viene ricostruito il PDF. A
      differenza della generazione dell'HTML, è un processo in due
      passi:</para>

      <procedure>
        <step>
          <para>Il sorgente XML DocBook viene convertito in un file Formatting
          Objects (FO). Il formato FO – chiamato formalmente
          <firstterm>XSL-FO</firstterm> – è anch'esso un formato XML, ma a
          differenza del DocBook è orienato alla presentazione. Questo passo è
          effettuato da un cosiddetto <firstterm>XSL transformer</firstterm>
          chiamato <application>Saxon</application>. Il risultato va in
          <filename>manual/inter/<replaceable>filename</replaceable>.fo</filename>
          (per i documenti in italiano in
          <filename>manual/inter/it/<replaceable>filename</replaceable>.fo</filename>).</para>
        </step>

        <step>
          <para>Un secondo strumento, <application>Apache FOP</application>
          (<firstterm>Formatting Objects Processor</firstterm>), prende
          <filename><replaceable>filename</replaceable>.fo</filename> e lo
          converte in
          <filename><replaceable>filename</replaceable>.pdf</filename>, che è
          memorizzato in <filename>manual/dist/pdf</filename> (per i documenti
          in italiano in <filename>manual/dist/pdf/it</filename>).</para>
        </step>
      </procedure>

      <para>Dando il comando <command>build pdf</command>, vengono ricostruiti
      internamente due consecutivi obiettivi: <command>fo</command> e
      <command>fo2pdf</command>, che corrispondono ai due passi descritti
      sopra. Però si possono chiamare distintamente dalla linea di comando. Ad
      esempio,</para>

      <blockquote>
        <para><command>build fo -Drootid=qsg15</command></para>
      </blockquote>

      <para>...trasforma il sorgente della Quick Start Guide 1.5 in
      <filename>manual/inter/qsq15.fo</filename>. E</para>

      <blockquote>
        <para><command>build fo2pdf -Drootid=qsg15</command></para>
      </blockquote>

      <para>...produce il PDF dal file FO (che deve ovviamente essere presente
      affinchè questo passo possa avere successo).</para>

      <para>Pertanto, <command>build pdf</command> è solo un'abbreviazione per
      <command>build fo</command> seguito da <command>build
      fo2pdf</command>.</para>

      <para>Questa impostazione permette di modificare il file FO manualmente
      prima di generare il PDF finale. E sarà esattamente quello che si farà
      per aggiustare alcuni di quei noiosi problemi che affliggono i nostri
      PDF.</para>
    </section>

    <section id="docbuildhowto-pdfimprove-scheme-it">
      <title>Schema generale per la sistemazione</title>

      <para>In generale, la procedura per migliorare il PDF in uscita
      modificando il file FO è:</para>

      <procedure>
        <step>
          <para>Costruire il PDF una prima (ed unica) volta volta come al
          solito con <command>build pdf
          <replaceable>[argomenti]</replaceable></command>. Questo comando non
          dovrà più essere utilizzato.</para>
        </step>

        <step>
          <para>Cominciare a leggere il PDF e trovare il primo evidente
          problema.</para>
        </step>

        <step>
          <para>Aprire il file FO con un editor di testo o un editor
          XML.</para>
        </step>

        <step>
          <para>Riconoscere il punto nel file FO che corrisponde al problema
          nel PDF (vedremo come in dettaglio più avanti).</para>
        </step>

        <step>
          <para>Modificare il file FO per eliminare il problema (anche questo
          sarà dettagliato più oltre), e salvare le modifiche.</para>
        </step>

        <step>
          <para>Ricostruire il PDF, ma questa volta usando <command>build
          fo2pdf <replaceable>[argomenti]</replaceable></command>. Non
          facendolo, si sovrascriverebbero le modifiche fatte al file FO,
          rigenerando lo stesso PDF dell'inizio e dovendo rifare tutte le
          modifiche daccapo.</para>
        </step>

        <step>
          <para>Controllare se il problema risulta effettivamente risolto e se
          si, cercare il successivo problema.</para>
        </step>

        <step>
          <para>Ripetere i punti dal 4 al 7 finchè non si è sistemato tutto il
          PDF.</para>
        </step>
      </procedure>

      <note>
        <title>Nota bene</title>

        <itemizedlist>
          <listitem>
            <para>Sebbene questo metodo di modificare il FO suggerisca che il
            problema sia nel file FO, in realtà non è vero. Il file FO è
            giusto, purtroppo <application>Apache FOP</application> non
            supporta tutte le specifiche carine definite dal formato XSL-FO
            (per il momento). Con le modifiche manuali, si costringe la
            generazione del PDF in un determinato modo.</para>
          </listitem>

          <listitem>
            <para>È importante aggiustare le cose in ordine, dalla prima
            pagina all'ultima. Modificare il FO in un punto può comportare
            aggiustamenti verticali al corrispondente punto nel PDF: più
            linee, meno linee, linee che si spostano alla pagina successiva,
            ecc... Questi aggiustamenti possono influire su tutto ciò che
            segue.</para>

            <para>Per lo stesso motivo, si dovrebbe sempre passare al
            successivo problema solo <emphasis>dopo</emphasis> aver risolto il
            precedente. Ad esempio, non farsi una lista di tutte le testate di
            finestra (<literal>windowed headers</literal>) e poi iniziare a
            modificarle tutte insieme nel file FO. Aggiustando un widowed
            header sposta tutto il testo che segue in giù, e può creare altri
            windowed headers e toglierne altri.</para>
          </listitem>

          <listitem>
            <para>In generale si potrebbe tenere aperto il file FO durante
            tutto il processo. Solo ricordarsi di salvare il file per
            rigenerare il PDF. Bisogna ricordarsi di chiudere comunque il file
            PDF prima di ogni rigenerazione: una volta che è aperto in Adobe
            (perfino nel <emphasis>Reader</emphasis>), gli altri processi non
            lo possono scrivere.</para>
          </listitem>

          <listitem>
            <para>L'intero processo potrebbe diventare veramente lungo, così è
            meglio non aggiustare subito ogni piccola imperfezione,
            specialmente se si è alle prime armi nel maneggiare i file FO. In
            generale, solo le testate vedove sono
            <emphasis>veramente</emphasis> brutte, e rendono l'aspetto del
            documento veramente dilettantesco.</para>
          </listitem>
        </itemizedlist>
      </note>

      <para>La prossima sezione tratta dei vari problemi e di come
      risolverli.</para>
    </section>

    <section id="docbuildhowto-pdfimprove-solutions-it">
      <title>Problemi tipici e loro soluzioni</title>

      <section>
        <title>Testate vedove</title>

        <para><emphasis>Problema:</emphasis> Si tratta di testate o di titoli
        che restano isolati (il termine tecnico è
        <firstterm>vedovi</firstterm>) alla fine della pagina.</para>

        <para><emphasis>Causa:</emphasis> Apache FOP non supporta ancora
        l'attributo <sgmltag class="attribute">keep-with-next</sgmltag>
        (<literal>mantieni con successivo</literal>), tranne che nelle righe
        di tabella.</para>

        <para><emphasis>Soluzione:</emphasis> Forzare un salto pagina
        all'inizio dell'elemento (tipicamente una sezione, ma potrebbe essere
        anche una lista, una tabella, o un'altro elemento) a cui il titolo o
        la testata appartengono.</para>

        <para><emphasis>Come:</emphasis> Se l'elemento ha un attributo
        <sgmltag class="attribute">id</sgmltag> (si può vedere nel sorgente
        DocBook), si può allora cercare per quell'id nel file FO. Ad esempio,
        supponendo di aver appena generato la <citetitle>Firebird 2 Quick
        Start Guide</citetitle> e si sia riscontrato che il titolo
        <emphasis>Creating a database using isql</emphasis> sia posizionato
        alla fine di una pagina. Nel sorgente DocBook XML si può vedere che
        quello è il titolo di una sezione il cui id è <sgmltag
        class="attvalue">qsg2-databases-creating</sgmltag>. Cercando il testo
        <literal>qsg2-databases-creating</literal> dall'inizio del file FO, la
        prima cosa che si trova è probabilmente qualcosa di questo
        genere:</para>

        <programlisting>&lt;fox:outline internal-destination="<emphasis
            role="bold">qsg2-databases-creating</emphasis>"&gt;</programlisting>

        <para>L'elemento <sgmltag class="element">fox:outline</sgmltag>
        corrisponde al link nel pannello di navigazione alla sinistra del PDF.
        Così questa non è ancora la sezione vera e propria, e bisogna cercare
        oltre. Successivamente si trova:</para>

        <programlisting>&lt;fo:block text-align-last="justify" end-indent="24pt"
          last-line-end-indent="-24pt"&gt;&lt;fo:inline
   keep-with-next.within-line="always"&gt;&lt;fo:basic-link
   internal-destination="<emphasis role="bold">qsg2-databases-creating</emphasis>"&gt;Creating a database...</programlisting>

        <para>In questo caso, l'id è il valore d'un attributo in un <sgmltag
        class="element">fo:basic-link</sgmltag>. Pertanto ora siamo
        nell'indice iniziale o tabella dei contenuti (<literal>Table of
        Contents</literal>). Ancora non è il posto giusto.</para>

        <para>Il terzo ed il quarto tentativo sono spesso un paio di linee
        dopo il secondo, per creare il numero di linea alla citazione
        nell'indice. Ma il quinto tentativo è di solito quello che si stà
        cercando (a meno che non ci siano altri link in avanti alla sezione in
        questione):</para>

        <programlisting>&lt;fo:block id="<emphasis role="bold">qsg2-databases-creating</emphasis>"&gt;</programlisting>

        <para>Eccolo qua! La maggior parte degli elementi gerarchicamente di
        medio e basso livello in DocBook (<sgmltag
        class="element">preface</sgmltag>, <sgmltag
        class="element">section</sgmltag>, <sgmltag
        class="element">appendix</sgmltag>, <sgmltag
        class="element">para</sgmltag> ecc.) determinano un <sgmltag
        class="element">fo:block</sgmltag> nel file FO. Adesso si deve
        modificare il file FO in modo da costringere Apache FOP a iniziare
        questa sezione a pagina nuova. Si modifica la linea in questo
        modo:</para>

        <programlisting>&lt;fo:block id="qsg2-databases-creating" <emphasis
            role="bold">break-before="page"</emphasis>&gt;</programlisting>

        <para>Salvare la modifica e ricostruire il PDF, ricordandosi di usare
        <command>build fo2pdf</command>, e non <command>build pdf</command>.
        Il titolo della sezione adesso apparirà alla successiva pagina nuova,
        e si può passare al problema successivo.</para>

        <para>E se l'elemento di DocBook non ha un suo id? Allora si dovrà
        cercare il (o parte del) titolo o della testata. Questo sarà un po'
        più complicato, perchè il titolo potrebbe contenere un a capo nel file
        FO, nel qual caso non verrebbe trovato. Oppure il titolo potrebbe
        contenere dei suoi elementi figli (ad esempio <sgmltag
        class="element">quote</sgmltag> o <sgmltag
        class="element">emphasis</sgmltag>). Questo impedirebbe di trovare il
        titolo completo. D'altra parte più si stringe il testo da cercare, più
        alta sarà la probabilità di trovare cose non correlate. In questo caso
        si dovrà adoperarre il proprio metro di gudizio; Se ad esempio c'è del
        testo riconoscibile subito prima o subito dopo il titolo che si può
        cercare facilmente, si può provare a trovare il titolo nelle linee
        sopra o sotto di esso.</para>

        <para>Ad ogni modo, una volta che l'avete trovato, risalite nel file
        FO finchè non si trova l'inizio della sezione, spesso identificabile
        con un numero di id autogenerato:</para>

        <programlisting>&lt;/fo:block&gt;
<emphasis role="bold">&lt;fo:block id="d0e2340"&gt;</emphasis>
  &lt;fo:block&gt;
    &lt;fo:block&gt;
      &lt;fo:block keep-together="always" margin-left="0pc"
                font-family="sans-serif,Symbol,ZapfDingbats"&gt;
        &lt;fo:block keep-with-next.within-column="always"&gt;
          &lt;fo:block font-family="sans-serif" font-weight="bold"
                    keep-with-next.within-column="always"
                    space-before.minimum="0.8em" space-before.optimum...
                    space-before.maximum="1.2em" color="#404090" hyph...
                    text-align="start"&gt;
            &lt;fo:block font-size="11pt" font-style="italic"
                      space-before.minimum="0.88em" space-before.opti...
                      space-before.maximum="1.32em"&gt;<emphasis role="bold">The DISTINCT keyword
              comes to the rescue!</emphasis>&lt;/fo:block&gt;</programlisting>

        <para>Come si può vedere, ci possono essere un bel po' di righe tra
        l'inizio della sezione ed il titolo del testo. Notare, inoltre, come
        il titolo qui è diviso su due linee.</para>

        <para>Una volta identificato il <sgmltag
        class="element">fo:block</sgmltag> che corrisponde all'inizio della
        sezione, basta mettergli un attributo <sgmltag
        class="attribute">break-before="page"</sgmltag> proprio come si è
        fatto prima.</para>

        <para>Perchè risalire e cercare l'inizio della sezione e non mettere
        il <sgmltag class="attribute">break-before</sgmltag> al <sgmltag
        class="element">fo:block</sgmltag> che racchiude direttamente il
        titolo? Be', perchè stamperà sì il titolo nella pagina successiva,
        giustamente, ma i link nel frame di navigazione e nell'indice
        punteranno (oibò!) alla pagina precedente, perchè la (invisibile)
        sezione inizia - cioè il blocco che ha l'ID - prima del salto pagina
        forzato.</para>
      </section>

      <section>
        <title>Spazi nei nomi di file, URL ecc.</title>

        <para><emphasis>Problema:</emphasis> Spazi (di dimensione variabile)
        appaiono in certe posizioni nei nomi di file ecc.</para>

        <para><emphasis>Causa:</emphasis> Nel file FO, questi elementi
        contengono caratteri spazio di dimensione zero ( <literal>zero-width
        space</literal> o ZWSP, Unicode 200B esadecimale) per indicare dove la
        stringa può essere interrotta per andare a capo. Sfortunatamente,
        Apache FOP utilizza gli stessi caratteri anche ai fini della
        giustificazione.</para>

        <para><emphasis>Soluzione:</emphasis> Se gli spazi sono proprio troppo
        grandi, si possono eliminare (tranne quando la linea deve
        <emphasis>effettivamente</emphasis> andare a capo dove c'è quel
        ZWSP).</para>

        <para><emphasis>Come:</emphasis> Cercare l'intera URL o nome del file
        non può funzionare, proprio perchè la stringhe contiene i famosi spazi
        di lunghezza zero! Se la stringa contiene un elemento che è raro o
        unico nel file (es. <literal>hababarulala</literal> nel nome di
        file<filename> C:\Strips\Pintoplaneet\hababarulala.txt</filename>), si
        potrebbe usare quello. Altrimenti si cerca per del testo che gli stà
        vicino. (Ormai si è capito che a scorrere semplicemente il file FO ci
        si impiega troppo, a causa della gran quantità di cose in più
        introdotte dal XSL-FO, invadendo tutto il testo del documento)</para>

        <para>Una volta trovata la stringa, controllare se si riesce
        effettivamente a vedere gli spazi ZWSP. Alcuni editor non li mostrano
        per niente (il che sarebbe anche giustificato, dato che hanno
        dimensione zero). Comunque, si dovrebbe essere in grado di trovarli
        scorrendo la stringa con il cursore. Se con la freccia a destra o a
        sinistra il cursore non si muove (ma torna a muoversi con il
        successivo movimento nella stessa direzione), quello è il punto dov'è
        lo ZWSP. Altri editor li mostrano con un simbolo, altri (ConText) come
        tre <quote>strani</quote>caratteri: <literal>â€‹</literal>. Questi
        caratteri rappresentano il codice a tre byte UTF-8 per lo spazio di
        dimensione zero.</para>

        <para>Se si riesce ad indentificare lo spazio di dimensione zero, si
        può cancellare, ma bisogna tenere d'occhio pure il file PDF: non
        bisogna eliminare uno ZWSP se serve per andare a capo nel PDF.</para>
      </section>

      <section>
        <title>Righe di tabella interrotte</title>

        <para><emphasis>Problema:</emphasis> In una tabella, una riga è
        interrotta da un salto pagina per cui non è tutta da una parte o
        dall'altra.</para>

        <para><emphasis>Causa:</emphasis> Nessuna in particolare - non c'è una
        regola che impedisca i salti pagina all'interno delle righe di una
        tabella.</para>

        <para><emphasis>Soluzione:</emphasis> Per tenere la riga insieme,
        inserire un salto pagina all'inizio della riga.</para>

        <para><emphasis>Come:</emphasis> Cerca la riga sulla base del testo
        all'inizio della riga o alla fine della riga precedente. L'elemento
        che si sta cercando è <sgmltag class="element">fo:table-row</sgmltag>,
        ma non si deve usare come stringa di ricerca, perchè molti elementi di
        DocBook (non solo per le tabelle, cioè gli elementi <sgmltag
        class="starttag">table</sgmltag>) sono implementati usando <sgmltag
        class="element">fo:table</sgmltag> e pertanto contengono <sgmltag
        class="element">fo:table-row</sgmltag>s.</para>

        <para>Una volta trovato l'inizio della riga tagliata a metà, si
        aggiunge un attributo <sgmltag
        class="attribute">break-before</sgmltag> esattamente come per i
        windowed headers:</para>

        <programlisting>&lt;fo:table-row <emphasis role="bold">break-before="page"</emphasis>&gt;</programlisting>

        <para>In alternativa si può sempre impostare un attributo <sgmltag
        class="attribute">break-after</sgmltag> alla riga precedente.</para>
      </section>

      <section>
        <title>Spazi orizzontali enormemente larghi</title>

        <para><emphasis>Problema:</emphasis> Spazi molto larghi per
        giustificare linee precedenti lunghe stringhe senza spazi. Queste
        stringhe lunghe sono spesso stampate con font a spazio fisso:</para>

        <mediaobject>
          <imageobject>
            <imagedata align="center" fileref="images/bigspace.png"
                       format="PNG" />
          </imageobject>
        </mediaobject>

        <para><emphasis>Causa:</emphasis> Apache FOP spesso non sillaba queste
        stringhe e le prende come un tutt'uno. Pertanto, se la stringa non
        entra nella riga la sposta interamente nella riga seguente. Questo
        lascia alla linea precedente <quote>troppo poco</quote> testo,
        rendendo necessaria una giustificazione con larghi spazi. Notare come
        nell'esempio qui sopra, gli spazi nella linea sopra siano causati
        dall'incapacita di suddividere la stringa della linea successiva, e
        non dal contenuto della linea precedente stessa.</para>

        <para><emphasis>Soluzione:</emphasis> Ci potrebbero essere buone
        ragioni per non suddividere la stringa. In quel caso ci si adatta ai
        larghi spazi facendo buon viso a cattivo gioco. Altrimenti si
        inserisce uno spazio (oppure il carattere '<literal>-</literal>'
        seguito da uno spazio) al punto dove si desidera separare la
        stringa.</para>

        <para><emphasis>Come:</emphasis> Prima bisogna trovare la stringa nel
        file FO cercando il (o parte del) suo contenuto. Se è una stringa a
        spazio fisso nel PDF, molto probabilmente la si dovrebbe trovare in un
        elemento <sgmltag class="element">fo:inline</sgmltag>. Poi, si osserva
        nel PDF per valutare quanta parte della stringa ancora ininterrotta
        entrerebbe nello spazio rimasto della linea precedente. Di nuovo nel
        file FO, si inserisce uno spazio, possibilmente preceduto da un
        <quote>-</quote>, nella stringa al punto in cui sembra accettabile
        mandarla a capo. Rigenerare il PDF (<command>build fo2pdf</command> !)
        e verificare il risultato. Se si è interrotta la stringa troppo a
        destra, rimane ancora tutta nella linea successiva. Troppo a sinistra
        e lo spazio potrebbe rimane ancora troppo largo rispetto alle proprie
        intenzioni. Si continua a sistemare e a ricostruire finchè non si
        ottiene l'aspetto desiderato.</para>

        <para>Durante questo procedimento, si potrebbe essere sorpresi dal
        fatto che, una volta interrotta la stringa in un punto, Apache FOP
        autonomamente decide di sillabare il resto della stringa. Questo
        lascia una parte della stringa nella linea precedente con lo spazio
        aggiunto (adesso nel posto sbagliato) perchè prosegue oltre quel
        punto. Non resta che cancellare lo spazio che si è aggiunto e
        interrompere la stringa nel punto deciso da Apache.</para>

        <section>
          <title>Inserire spazi di dimensione zero</title>

          <para>Una soluzione alternativa al problema degli spazi enormi
          sarebbe inserire spazi di dimensione zero proprio in tutti i punti
          in cui la stringa in esame potrebbe essere mandata a capo, lasciando
          decidere Apache FOP quale è il più adatto. Questo funziona
          sicuramente al primo tentativo, ma:</para>

          <itemizedlist>
            <listitem>
              <para>si può fare solo avendo un editor che permette di inserire
              facilmente gli ZWSP;</para>
            </listitem>

            <listitem>
              <para>funziona solo dove è possibile interrompere la stringa
              senza il <quote>-</quote>;</para>
            </listitem>

            <listitem>
              <para>potrebbe generare spazi indesiderati dove sono stati messi
              gli ZWSP (vedi sopra), costringendo a cancellarli tutti tranne
              quello che risolve veramente il problema.</para>
            </listitem>
          </itemizedlist>
        </section>
      </section>
    </section>

    <section id="docbuildhowto-pdfimprove-links">
      <title>Riferimenti su XSL-FO</title>

      <para>La pagina web uffilciale di XSL-FO (Formatting Objects) è qui:
      <ulink
      url="http://www.w3.org/TR/xsl/">http://www.w3.org/TR/xsl/</ulink></para>

      <para>La pagina di Apache FOP è qui: <ulink
      url="http://xmlgraphics.apache.org/fop/">http://xmlgraphics.apache.org/fop/</ulink></para>

      <para>La pagina di adeguamento di Apache FOP è qui: <ulink
      url="http://xmlgraphics.apache.org/fop/compliance.html">http://xmlgraphics.apache.org/fop/compliance.html</ulink>.
      Contiene una grande tabella di supporto agli oggetti in cui si può
      verificare quali oggetti ed attributi (proprietà) XSL-FO sono
      supportati. Consultando la tabella, si tenga presente che attualmente si
      sta adoperando Apache FOP 0.20.5.</para>
    </section>
  </section>

  <appendix id="docbuildhowto-dochist-it">
    <title>Revisioni</title>

    <para>L'elenco esatto delle successive revisioni è nel modulo <filename
    class="directory">manual</filename> nell'albero CVS; si può vedere anche
    <ulink
    url="http://sourceforge.net/cvs/?group_id=9028">http://sourceforge.net/cvs/?group_id=9028</ulink></para>

    <para><revhistory>
        <revision>
          <revnumber>0.1</revnumber>

          <date>2 nov 2003</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Prima bozza pubblicata col titolo <citetitle>How to get and
            build the Firebird manual module</citetitle>.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>0.2</revnumber>

          <date>31 gen 2004</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Spostati i sorgenti nel CVS.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.0</revnumber>

          <date>8 mar 2004</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Prima versione ufficiale nel sito di Firebird.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.1</revnumber>

          <date>26 feb 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para><emphasis>Le seguenti modifiche sono state fatte tra il
            marzo 2004 ed il febbraio 2005:</emphasis></para>

            <para>Aggiunte note sui messaggi d'errore nella costruzione dei
            PDF.</para>

            <para>Aggiunte informazioni sulla costruzione dei sottoinsiemi e
            nelle varie lingue.</para>

            <para>Aggiunta nota per il post processing dei PDF.</para>

            <para>Modificato il titolo in <citetitle>Getting and building the
            Firebird manual module</citetitle>.</para>

            <para>Molti piccoli miglioramenti.</para>

            <para>Aggiunta la cronistoria delle revisioni ed numero di
            versione.</para>

            <para>Modificata la licenza d'uso in Public Documentation
            License.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.1.1</revnumber>

          <date>8 apr 2005</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Aggiunti alcuni titoli abbreviati per scopi estetici. Il
            resto dei contenuti non cambia.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.2</revnumber>

          <date>9 feb 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Rimosso <quote>Firebird</quote> dal titolo della seconda
            sezione.</para>

            <para>Aggiunte informazioni su come recuperare le librerie, in
            quanto non fanno più parte del CVS.</para>

            <para>Create le sottosezioni per i parametri di "build"; aggiunte
            informazioni per costruire altri insiemi e per impostare i
            parametri nel file <filename>build.xml</filename>.</para>

            <para>Modificato docwritehowto <sgmltag
            class="element">link</sgmltag> in <sgmltag
            class="element">ulink</sgmltag>, poiché gli articoli d'ora in poi
            andranno in PDF diversi.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.2.1</revnumber>

          <date>15 mag 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Sostituiti <systemitem
            class="systemname">cvs.sf.net</systemitem> (3x) e <systemitem
            class="systemname">cvs.sourceforge.net</systemitem> (6x) con
            <systemitem
            class="systemname">firebird.cvs.sourceforge.net</systemitem> per
            adattarsi alla nuova configurazione in SF. Aggiunti anche
            <quote>in unica linea</quote> sopra due esempi che ora vanno a
            capo nel PDF.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.2.1-it</revnumber>

          <date>6 lug 2006</date>

          <authorinitials>UM</authorinitials>

          <revdescription>
            <para>Prima versione in italiano di Umberto Masotti.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.3</revnumber>

          <date>17 lug 2006</date>

          <authorinitials>PV</authorinitials>

          <revdescription>
            <para>Modificate tutte gli elementi <sgmltag
            class="element">sect<replaceable>N</replaceable></sgmltag> in
            elementi <sgmltag class="element">section</sgmltag>.</para>

            <para>Abbreviato l'ID dell'Introduzione e assegnati gli ID a tutte
            le sezioni figlie.</para>

            <para>Correzioni nel testo inglese: RDMS -&gt; RDBMS, parallell
            -&gt; parallel, OS'es -&gt; OSes, CD's -&gt; CDs, wil -&gt; will,
            envvar -&gt; envar, linewrapped -&gt; line-wrapped.</para>

            <para>Nella sezione <citetitle>Fare il SSH checkout con CVS a
            linea di comando</citetitle>, al terzo punto: convertito <sgmltag
            class="starttag">quote</sgmltag> intorno a <quote>username</quote>
            in <sgmltag class="starttag">replaceable</sgmltag>, e nell'esempio
            di comando la parola <quote>username</quote> è stata contornata da
            <sgmltag class="starttag">replaceable</sgmltag>.</para>

            <para>Nella sezione <citetitle>Fare il SSH checkout con altri
            programmi client</citetitle>, alla descrizione di cvsroot la
            parola <quote>username</quote> evidenziata con <sgmltag
            class="starttag">replaceable</sgmltag>.</para>

            <para>Alla nota nella sezione <citetitle>Generare i documenti HTML
            e PDF</citetitle> è stato aggiunto un titolo, e aggiunta una frase
            alla fine del secondo punto.</para>

            <para>Corretta la data della rev. 1.1.1 nella storia delle
            revisioni: 2004 -&gt; 2005.</para>

            <para>Aggiunta una lunga sezione sul miglioramento dei PDF.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.4</revnumber>

          <date>03 ago 2006</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>Sono state aggiunte alcune avvertenze riguardo la gestione
            dei firewall e la porta 2401, ed inoltre come comportarsi nel caso
            in cui Sourceforge autonomamente decida di modificare la password
            d'accesso dell'utente.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.4-it</revnumber>

          <date>24 ago 2006</date>

          <authorinitials>UM</authorinitials>

          <revdescription>
            <para>Seconda revisione in italiano, con le modifiche della 1.3 e
            della 1.4 di PV e di ND e piccoli ritocchi di linguaggio.</para>
          </revdescription>
        </revision>
      </revhistory></para>
  </appendix>

  <appendix id="docbuildhowto-license-it">
    <title>Licenza d'uso</title>

    <para>Il contenuto di questo documento è soggetto alla Public
    Documentation License Version 1.0 (la <quote>Licenza</quote>); si può
    utilizzare questa documentazione solo se si accettano i termini della
    Licenza. Copie della Licenza si trovano in <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) e <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML).</para>

    <para>Il documento originale è intitolato <citetitle>Getting and building
    the Firebird manual module</citetitle>.</para>

    <para>L'autore iniziale del documento originale è: Paul Vinkenoog.</para>

    <para>L'autore della versione italiana del documento è: Umberto
    Masotti.</para>

    <para>Copyright (C) 2003–2006. All Rights Reserved. per contattare
    l'autore: paulvink at users dot sourceforge dot net.</para>

    <para>Contributi: Norman Dunbar – vedi le <link
    linkend="docbuildhowto-dochist-it">Revisioni</link>.</para>

    <para>I contributi di Norman Dunbar sono soggeti a Copyryght ©2006. Tutti
    i diritti riservati. Per contattare l'autore del contributo: normandunbar
    at users dot sourceforge dot net.</para>

    <para>Per contattare l'autore della versione italiana: umasotti at users
    dot sourceforge dot net.</para>
  </appendix>
</article>