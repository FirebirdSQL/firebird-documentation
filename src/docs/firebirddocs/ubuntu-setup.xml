<?xml version="1.0" encoding="UTF-8"?>
<!-- <!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
 "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd"> -->
<article id="ubusetup">
  <articleinfo>
    <title>Setting up Firebird on Ubuntu Linux</title>

    <author>
      <firstname>Rodney</firstname>

      <surname>Gedda</surname>
    </author>
    
    <author>
      <firstname>Marius</firstname>

      <surname>Popa</surname>
    </author>
    

    <edition>10 May 2010 â€“ Document version 2.1</edition>
  </articleinfo>

  <section id="ubusetup-content">
    <title>Setting up Firebird on Ubuntu Linux</title>

    <para>This article describes the process of installing and running
    Firebird on Ubuntu Linux. Like the Debian GNU/Linux distribution it is
    based on, installing software with Ubuntu (or Kubuntu) is very
    straightforward and Firebird is no exception. This guide is based on
    Ubuntu 10.04 LTS <quote>Lucid Lynx</quote>.</para>

    <para>The version of Firebird packaged with Ubuntu<quote>Lucid Lynx</quote>
    is 2.1.3 and is included by default and is latest stable. For other ubuntu releases there is
    a firebird stable ppa repository from where you can install it</para>
     
    
    <para>With administrator privileges on the target machine, issue the
    following command:</para>

    <blockquote>
      <screen>
        $ sudo su 
	# apt-get install firebird2.1-super
      </screen>
    </blockquote>

    <para>Apt's dependency tracking will automatically propose all the
    packages required for a complete installation with the following
    output:</para>

    <blockquote>
      <screen>The following extra packages will be installed:
  firebird2.1-common firebird2.1-server-common libedit2 libfbclient2 libicu38
Suggested packages:
  firebird2.1-doc
The following NEW packages will be installed:
  firebird2.1-common firebird2.1-server-common firebird2.1-super libedit2 libfbclient2 libicu38
0 upgraded, 6 newly installed, 0 to remove and 1 not upgraded.
Need to get 11.7MB of archives.
After unpacking 28.4MB of additional disk space will be used.
Do you want to continue [Y/n]? y</screen>
    </blockquote>

    
    <para>The packages will then download and install on the target machine, a
    new user <quote><systemitem class="username">firebird</systemitem></quote>
    will be created to run the server, and the server will be started
    immediately:</para>

    <blockquote>
      <screen>
Selecting previously deselected package firebird2.1-super.
(Reading database ... 542436 files and directories currently installed.)
Unpacking firebird2.1-super (from .../firebird2.1-super_2.1.3.18185-0.ds1-6build1_i386.deb) ...
Processing triggers for ureadahead ...
Setting up firebird2.1-super (2.1.3.18185-0.ds1-6build1) ...
Created default security.fdb
 * Firebird 2.1 server manager not running.
 * Not starting Firebird 2.1 server manager
 * Use `dpkg-reconfigure firebird2.1-super' to enable.
      </screen>
    </blockquote>

    <para>You will need to configure the Firebird server if you want to start it automatically click Yes button 
     then you will be asked again for <database>SYSDBA</database> password</para>

    <blockquote>
      <screen># dpkg-reconfigure firebird2.1-super</screen>
    </blockquote>

    <para>If all is Ok Firebird Super server will be started</para>

    <blockquote>
      <screen>
 * Firebird 2.1 server manager not running.
 * Starting Firebird 2.1 server manager...                                                                 [ OK ] 
 * Firebird 2.1 server manager already running.
      </screen>
    </blockquote>

    <para>If you're a seasoned Unix person, but new to Ubuntu, you might be
    wondering where all the Firebird files are residing in the directory
    hierarchy. To see where all the files were installed by Apt, simply
    do:</para>

    <blockquote>
      <screen># dpkg -L firebird2.1-super

/.
/etc
/etc/init.d
/etc/init.d/firebird2.1-super
/etc/default
/etc/default/firebird2.1-super
/usr
/usr/share
/usr/share/doc
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/firebird2.1-super
/usr/bin
/usr/bin/nbackup
/usr/bin/qli
/usr/bin/gbak
/usr/bin/gfix
/usr/bin/gpre
/usr/bin/isql-fb
/usr/bin/gsec
/usr/bin/fbstat
/usr/bin/gdef
/usr/lib
/usr/lib/firebird
/usr/lib/firebird/2.1
/usr/lib/firebird/2.1/bin
/usr/lib/firebird/2.1/bin/fbmgr
/usr/lib/firebird/2.1/bin/fbmgr.bin
/usr/lib/firebird/2.1/bin/fb_lock_print
/usr/lib/firebird/2.1/bin/fbguard
/usr/lib/firebird/2.1/bin/fbserver
/usr/lib/firebird/2.1/UDF
/usr/lib/firebird/2.1/UDF/fbudf.so
/usr/lib/firebird/2.1/UDF/ib_udf.so
/usr/share/doc/firebird2.1-super</screen>
    </blockquote>

    <para>As mentioned, a new user <quote><systemitem
    class="username">firebird</systemitem></quote> is created on the target
    machine. With administrator access, set a password for this new
    user:</para>

    <blockquote>
      <screen># passwd firebird
Enter new UNIX password:
Retype new UNIX password:</screen>
    </blockquote>

    <para>Now you can switch to the firebird user with the
    <command>su</command> command if required.</para>

    <para>Install the examples and dev files</para>

    <blockquote>
      <screen># apt-get install firebird2.1-examples firebird2.1-dev </screen>
    </blockquote>

    <para>The employee.fdb archive will be under this dir /usr/share/doc/firebird2.1-examples/examples/empbuild/</para>

    <blockquote>
      <screen># cd /usr/share/doc/firebird2.1-examples/examples/empbuild/
sudo gunzip employee.fdb.gz
sudo chown firebird.firebird employee.fdb
sudo mv employee.fdb /var/lib/firebird/2.1/data/</screen>
    </blockquote>

    <para>connect to db</para>

    <blockquote>
      <screen>isql-fb

SQL> connect "/var/lib/firebird/2.1/data/employee.fdb " user 'SYSDBA' password 'SYSDBApassword';</screen>
    </blockquote>
    <para>Now you can check the server version and the tables</para>
    <blockquote>
    <screen>
    SQL> show tables;
       COUNTRY                                CUSTOMER
       DEPARTMENT                             EMPLOYEE
       EMPLOYEE_PROJECT                       JOB
       PROJECT                                PROJ_DEPT_BUDGET
       SALARY_HISTORY                         SALES

SQL> show version;
SQL> quit
CON>; 
    </screen>
	</blockquote>
    <para>For an GUI admin tool you might check the flamerobin administration 
    tool included in ubuntu repository can be installed by an simple</para>
    <blockquote>
      <screen># apt-get install flamerobin</screen>
    </blockquote>

    <para> While you're at it, install the utilities package:</para>

    <para>This will give you an interactive shell, and backup and reporting
    tools among others. Now you can test your Firebird installation by
    connecting to an example database. Decompress the example
    <quote><filename>employee.fdb</filename></quote> database:</para>

    <blockquote>
      <screen>cd /usr/share/doc/firebird2.1-examples/examples/empbuild/
sudo gunzip employee.fdb.gz
sudo chown firebird.firebird employee.fdb
sudo mv employee.fdb /var/lib/firebird/2.1/data/</screen>
    </blockquote>

    <para>Fire up the interactive shell.</para>

    <blockquote>
      <screen># isql-fb</screen>
    </blockquote>

    <para>At the SQL&gt; prompt, connect to the database with:</para>

    <blockquote>
      <screen>SQL&gt; connect "employee.fdb" user 'SYSDBA' password '<replaceable>SYSDBApassword</replaceable>';</screen>
    </blockquote>

    <para>If you get an error message like <quote>Statement failed, SQLCODE =
    -551 no permission for read-write access to database
    /usr/share/doc/firebird2-examples/examples/employee.fdb</quote>, then the
    server process doesn't have read or write access to the database file.
    Change the ownership of the database to the user <systemitem
    class="username">firebird</systemitem> with:</para>

    <blockquote>
      <screen># chown firebird:firebird employee.fdb</screen>
    </blockquote>

    <para>When you manage to successfully connect to the database you will see
    the message:</para>

    <blockquote>
      <screen>Database:  "employee.fdb", User: SYSDBA</screen>
    </blockquote>

    <para>Now, from the <prompt>SQL&gt;</prompt> prompt, feel free to browse
    around the employee database:</para>

    <blockquote>
      <screen>SQL&gt; show tables;
COUNTRY                    CUSTOMER
DEPARTMENT                 EMPLOYEE
EMPLOYEE_PROJECT           JOB
PHONE_LIST                 PROJECT
PROJ_DEPT_BUDGET           SALARY_HISTORY
SALES</screen>
    </blockquote>

    <para>If you've made it this far your Firebird installation on Ubuntu has
    been a success. Have a nice day!</para>
  </section>

  <appendix id="ubusetup-dochist">
    <title>Document history</title>

    <para>The exact file history is recorded in the <filename
    class="directory">manual</filename> module in our CVS tree; see <ulink
    url="http://sourceforge.net/cvs/?group_id=9028">http://sourceforge.net/cvs/?group_id=9028</ulink></para>

    <para><revhistory>
        <revision>
          <revnumber>1.0</revnumber>

          <date>18 Apr 2007</date>

          <authorinitials>RG</authorinitials>

          <revdescription>
            <para>First edition.</para>
          </revdescription>
        </revision>
      </revhistory></para>
  </appendix>

  <appendix id="ubusetup-license">
    <title>License notice</title>

    <para>The contents of this Documentation are subject to the Public
    Documentation License Version 1.0 (the <quote>License</quote>); you may
    only use this Documentation if you comply with the terms of this License.
    Copies of the License are available at <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) and <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML).</para>

    <para>The Original Documentation is titled <citetitle>Setting up Firebird
    on Ubuntu Linux</citetitle>.</para>

    <para>The Initial Writer of the Original Documentation is: Rodney
    Gedda.</para>

    <para>Copyright (C) 2007. All Rights Reserved. Initial Writer contact:
    rodney at gedda dot info.</para>
  </appendix>
</article>
