<?xml version="1.0" encoding="UTF-8"?>
<!--
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN"
"http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd">
    -->
<article id="fbmgr">
  <title>Firebird Superserver Manager</title>

  <articleinfo>
    <date>19 October 2009</date>

    <author>
      <firstname>Norman</firstname>

      <surname>Dunbar</surname>
    </author>

    <edition>11 October 2011 â€“ Document version 1.5</edition>
  </articleinfo>

  <section id="fbmgr-intro">
    <title>Introduction.</title>

    <para><application>Fbmgr</application> is used to start and stop your
    Firebird Superserver. This is different from starting and stopping a
    database - as explained in the <application>gfix</application> manual - as
    the running databases rely on the Firebird service/daemon. This daemon is
    the Firebird <emphasis>engine</emphasis> - without it, nothing will run
    under Superserver.</para>

    <note>
      <para>If you are using Firebird Classic, this chapter does not apply and
      it is entirely possible that the executables mentioned in this chapter
      may not even exist in your installation directory.</para>
    </note>

    <para>On Windows systems, the engine runs as a service and is slightly
    different. Windows will be discussed separately in this manual for that
    reason.</para>

    <para>In the remainder of this manual, we will discuss the
    following:</para>

    <itemizedlist spacing="compact">
      <listitem>
        <para>Differences between Windows and Linux systems.</para>
      </listitem>

      <listitem>
        <para>Command-line options for
        <application>fbmgr</application>.</para>
      </listitem>

      <listitem>
        <para><application>Fbmgr</application> commands and their
        parameters.</para>
      </listitem>

      <listitem>
        <para>Running <application>fbmgr</application> in interactive or batch
        modes.</para>
      </listitem>

      <listitem>
        <para>Some caveats, gotchas and foibles of
        <application>fbmgr</application>.</para>
      </listitem>
    </itemizedlist>
  </section>

  <section id="fbmgr-linux">
    <title>Linux Systems.</title>

    <para>On Linux, the Firebird engine is started whenever you carry out an
    install - from an RPM or via a script - and at system boot time. This
    means that Firebird is available whenever your system is running once you
    have Firebird installed.</para>

    <para>At boot time, the script /<filename>etc/init.d/firebird</filename>
    is executed to start up the Firebird engine on Suse servers, other Linux
    servers use the script <filename>/etc/rc.d/init.d/firebird</filename>
    instead. The same script is executed just before the server shuts down to
    stop the Firebird engine. The engine runs as the firebird user and not as
    root.</para>

    <para>The script is installed to the location described above, and a
    symbolic link is created to <filename>/usr/sbin/rcfirebird</filename> and
    the script can therefore be called in both ways, whichever you find
    easiest, but you must be the root user:</para>

    <para><screen>tux&gt; /etc/init.d/firebird &lt;parameter&gt;</screen>or</para>

    <screen>tux&gt; rcfirebird &lt;parameter&gt;</screen>

    <para>This script can take one of the following parameters:</para>

    <itemizedlist spacing="normal">
      <listitem>
        <para><userinput>start</userinput></para>

        <para>Starts the Firebird engine. If already running, does nothing.
        The engine is started under the watchful eye of the guardian process
        (<application>fbguard</application>) and is set to automatically
        restart if the engine fails for any reason. The engine runs under the
        firebird user even though you have to be root to run the
        <command>rcfirebird</command> script.</para>
      </listitem>

      <listitem>
        <para><userinput>stop</userinput></para>

        <para>Stops the Firebird engine. If already stopped, does nothing. It
        kills the process for the running engine by reading the pidfile (by
        default <filename>/var/run/firebird/firebird.pid</filename>). If the
        process is not running, no error is reported.</para>
      </listitem>

      <listitem>
        <para><userinput>status</userinput></para>

        <para>Checks the current status of the Firebird engine. This command
        can return a status code (in $?) as follows:</para>

        <screen>tux&gt; rcfirebird status ; echo $?</screen>

        <itemizedlist spacing="compact">
          <listitem>
            <para>0 - the engine is running.</para>
          </listitem>

          <listitem>
            <para>1 - the engine was not running but the pidfile was
            found.</para>
          </listitem>

          <listitem>
            <para>2 - the engine was not running but the lock file was
            found.</para>
          </listitem>

          <listitem>
            <para>3 - the engine was not running.</para>
          </listitem>
        </itemizedlist>

        <note>
          <para>The <userinput>status</userinput> parameter is not available
          on every Linux distribution. You can check if it is available on
          your installation by running the <command>rcfirebird</command>
          command with no parameters:</para>

          <screen>tux&gt; rcfirebird
Usage: /usr/sbin/rcfirebird {start|stop|status|try-restart|restart|
force-reload|reload}</screen>

          <para>The command will list all the options available for your
          particular installation.</para>
        </note>
      </listitem>

      <listitem>
        <para><userinput>try-restart</userinput></para>

        <para>Restarts the Firebird engine but only if it is currently
        running, otherwise, does nothing.</para>
      </listitem>

      <listitem>
        <para><userinput>restart</userinput></para>

        <para>Stops and restarts the Firebird engine, whether it was running
        or not.</para>
      </listitem>

      <listitem>
        <para><userinput>force-reload</userinput></para>

        <para>This is exactly the same as the <userinput>restart</userinput>
        command.</para>
      </listitem>

      <listitem>
        <para><userinput>reload</userinput></para>

        <para>Reload is not implemented.</para>
      </listitem>
    </itemizedlist>

    <para>It might be necessary for you to manually shut down the engine from
    time to time, and to restart it again afterwards. To do this, and assuming
    that either none of the options to <command>rcfirebird</command> are
    suitable or you do not have root privileges,
    <application>fbmgr</application> is your tool.
    <application>Fbmgr</application> is, by default, available to all users of
    the system to execute - however, in order to start and stop the Firebird
    engine, root or SYSDBA rights are required.</para>

    <caution>
      <para>It is noted that the default shell for the firebird user (at least
      of Suse systems) defaults to <filename>/bin/false</filename> and so, you
      cannot log in as the firebird user. This means that you must use
      <command>rcfirebird</command> to start and stop the engine because if
      you use <application>fbmgr</application> as root, then all databases
      created by the engine will be owned by root.</para>

      <para>In order to allow the firebird user the ability to start and stop
      the database engine, you need to alter the default shell from
      <filename>/bin/false</filename> to something like
      <filename>/bin/bash</filename> <emphasis>and</emphasis> set a password,
      while logged in as root, as follows:</para>

      <screen>tux&gt; usermod --shell /bin/bash firebird
tux&gt; passwd firebird</screen>
    </caution>

    <para><application>Fbmgr</application> is a very short shell script which
    currently - as of version 2.1.3 - exports the <envar>FIREBIRD</envar>
    environment variable and calls
    <filename><application>fmbgr.bin</application></filename> passing all
    supplied parameters over, so
    <application><filename>fbmgr.bin</filename></application> does all the
    hard work.</para>

    <para>As the two are interchangeable, I shall use the former (and
    shorter!) <application>fbmgr</application> in the remainder of this
    chapter.</para>

    <section>
      <title>Fbmgr Commands.</title>

      <para>Fbmgr can be run interactively or in batch mode. The commands are
      identical whichever mode you use and the following section describes the
      commands and shows examples of each, running in both modes.</para>

      <para>To enter interactive mode, simply log in as the firebird user and
      type the command <command>fbmgr</command>. If <filename
      class="directory">/opt/firebird/bin</filename> is not on your path, type
      the command <command>bin/fbmgr</command> instead.</para>

      <note>
        <para>When you log in as the firebird user, the home directory
        (<envar>$HOME</envar>) is set to be <filename class="directory"
        role="">/opt/firebird</filename>. The <filename
        class="directory">bin</filename> subdirectory, where all the firebird
        binaries live, is immediately beneath <envar>$HOME. </envar></para>
      </note>

      <section>
        <title>Getting Help.</title>

        <para>To see a list of all the commands - except, for some reason, the
        <userinput>start</userinput> command - run fbmgr and pass the
        <userinput>-help</userinput> command (in batch mode) or type
        <userinput>help</userinput> at the prompt in interactive mode. The
        resulting output is the same regardless, including the grammatical
        error "<emphasis>... also be used as an option switches
        ...</emphasis>":</para>

        <screen>tux&gt; fbmgr -help

Usage:          fbmgr -command [-option [parameter]]

or              fbmgr&lt;RETURN&gt;
                FBMGR&gt; command [-option [parameter]]

                shut  [-now]            shutdown server
                show                    show host and user
                user &lt;user_name&gt;        set user name
                password &lt;password&gt;     set DBA password
                pidfile &lt;filename&gt;      file to save fbserver's PID
                help                    prints help text
                quit                    quit prompt mode

Command switches 'user' and 'password' can also be used
as an option switches for commands like start or shut.
For example, to shutdown server you can:

fbmgr -shut -password &lt;password&gt;

or

fbmgr&lt;RETURN&gt;
FBMGR&gt; shut -password &lt;password&gt;

or

fbmgr&lt;RETURN&gt;
FBMGR&gt; password &lt;password&gt;
FBMGR&gt; shut
</screen>
      </section>

      <section>
        <title>Starting Up.</title>

        <para>When the Firebird engine is started, it normally runs under the
        watchful eyes of the guardian process. The guardian will restart the
        engine any time it determines that the engine has crashed and in doing
        so, will hopefully reduce the downtime that the users may suffer as a
        result of a crashed engine.</para>

        <para>It is possible, however, to force the engine to be started up
        and the guardian will allow it to stay down if it detects a crash.
        <application>Fbmgr</application> allows the DBA or System
        Administrator to decide which of the two startup methods will be
        used.</para>

        <section>
          <title>Start And Stay Running.</title>

          <para>At system boot time, the engine is started in the mode that
          allows the guardian to restart it in the event of a crash. To
          perform this task manually using <application>fbmgr</application>
          you would carry out one of the following:</para>

          <screen>tux&gt; fbmgr -start -forever
server has been successfully started
</screen>

          <para>Or, in interactive mode:</para>

          <screen>tux&gt; fbmgr
FBMGR&gt; start -forever
server has been successfully started
</screen>

          <para>If you are logged in as a <emphasis>privileged user</emphasis>
          then you don't need to specify a <userinput>-user</userinput> as
          these login accounts default to SYSDBA when
          <application>fbmgr</application> is run. If you log in as any other
          user, even supplying a user name will not be enough to allow you to
          restart a closed database engine.</para>

          <note>
            <para>A privileged user is one that the Firebird engine considers
            to be privileged enough to automatically be given SYSDBA rights.
            This means that it can start and stop the engine without being
            required to authenticate as SYSDBA. At present there are four
            login names that are assumed to be privileged, these are:</para>

            <itemizedlist spacing="compact">
              <listitem>
                <para>root</para>
              </listitem>

              <listitem>
                <para>firebird</para>
              </listitem>

              <listitem>
                <para>interbase</para>
              </listitem>

              <listitem>
                <para>interbas (without the 'e')</para>
              </listitem>
            </itemizedlist>
          </note>

          <para>The <userinput>start</userinput> command defaults to
          <userinput>-forever</userinput> if nothing is specified.</para>

          <screen>tux&gt; fbmgr -start
server has been successfully started
</screen>
        </section>

        <section>
          <title>Start And Stop Running.</title>

          <para>Under normal circumstances you would wish for the database
          engine to remain running as long as possible. At other times,
          however, you may wish for any crashes to be investigated prior to
          restarting the engine. This is possible using
          <application>fbmgr</application> as the following shows:</para>

          <screen>tux&gt; fbmgr -start -once
</screen>

          <para>Or, running interactively:</para>

          <screen>tux&gt; fbmgr
FBMGR&gt; start -once
</screen>
        </section>
      </section>

      <section>
        <title>Shutting Down.</title>

        <para>Shutting down the engine stops the guardian process from
        restarting it. If this was not the case, it would be very difficult to
        actually stop the Firebird engine!</para>

        <warning>
          <para>Any user who has logged on to the database server and who is
          armed with the SYSDBA password, can close the engine down. This is a
          slight inconsistency as only the privileged users can start the
          engine.</para>
        </warning>

        <para>If you are logged in as a privileged user, you do not need to
        supply a user name to shut down the engine, you are only required to
        supply the SYSDBA password.</para>

        <screen>tux&gt; fbmgr -shut -password secret
server shutdown completed
</screen>

        <para>You <emphasis>are</emphasis> required to supply a user name if
        you log in as your own account.</para>

        <screen>tux&gt; fbmgr -shut -password secret
no permissions to perform operation

tux&gt; fbmgr -shut -user sysdba -password secret
server shutdown completed
</screen>
      </section>

      <section>
        <title>Showing Details.</title>

        <para>The show command displays the name of the server that you are
        running on and details of the user you are currently using. If you are
        running <application>fbmgr</application> as a privileged user, then
        the user will be SYSDBA unless you specified a different one with the
        <userinput>-user</userinput> parameter.</para>

        <screen>tux&gt; fbmgr -show

Host:   localhost
User:   SYSDBA
</screen>

        <para>You can supply a different user name on the command line if
        desired:</para>

        <screen>tux&gt; fbmgr -show -username  norman

Host:   localhost
User:   NORMAN
</screen>

        <para>In interactive mode, the process is almost identical:</para>

        <screen>tux&gt; fbmgr
FBMGR&gt; show

Host:   localhost
User:   SYSDBA
</screen>

        <para>Or, using a different user name:</para>

        <screen>tux&gt; fbmgr -user norman
FBMGR&gt; show

Host:   localhost
User:   NORMAN
</screen>

        <para>It appears that the <userinput>show</userinput> command always
        displays the host name as localhost while you are logged onto that
        server. It is unfortunate that the <userinput>show</userinput> command
        doesn't show any details about the running (or otherwise) Firebird
        engine. You can find this out as follows:</para>

        <screen>tux&gt; ps -ef|grep -i fire[b]ird
firebird  3752     1  0 14:13 ?        00:00:00 /opt/firebird/bin/fbguard -o
firebird  3753  3752  0 14:13 ?        00:00:00 /opt/firebird/bin/fbserver
</screen>

        <para>Look closely at the process details for the guardian, you can
        see a <userinput>-o</userinput> parameter. This indicates that the
        engine is running and is in <userinput>-once</userinput> mode. If it
        crashes at any time, it will not be restarted by the guardian. In
        <userinput>-forever</userinput> mode, the parameter is
        <userinput>-f</userinput>.</para>

        <para>If you don't see either the guardian or the server processes,
        then you can assume that the (Superserver) engine is not
        running.</para>

        <tip>
          <para>When using <command>grep</command> to filter out the
          interesting processes from a call to <command>ps -ef</command>, for
          example, using a character class for one single character prevents
          the <command>grep</command> process itself from being listed. The
          following two grep commands produce identical results but using the
          character class in the first saves having to call <command>grep -v
          grep</command> to filter out the unwanted <command>grep</command>
          process.</para>

          <programlisting>ps -ef | grep -i fire[b]ird
ps -ef | grep -i firebird | grep -v grep</programlisting>
        </tip>
      </section>

      <section>
        <title>Exiting.</title>

        <para>The <userinput>quit</userinput> command gets you out of an
        interactive session. There is no quit command for batch mode.</para>
      </section>
    </section>
  </section>

  <section id="fbmgr-win">
    <title>Windows Systems.</title>

    <para>On Windows 2000/2003, Vista and NT systems as well as the non-home
    versions of XP, the Firebird engine runs as a service as does the Firebird
    Guardian. Both of these run under the local system user account. For best
    results and stability, you are advised to keep Firebird running as a
    service rather than as an application.</para>

    <para>After installation, these two services are defined to be started and
    stopped automatically on server boot and shutdown. If you wish to control
    when the services are started and stopped, use <application>Control
    Panel</application> to change their properties to manual.</para>

    <para>On Windows ME, 95, 98 and XP Home, the engine runs as an application
    as does the guardian. In this case, an icon will be seen in the system
    tray and you can carry out manual maintenance by right clicking on the
    icon.</para>

    <note>
      <para>The remainder of this section assumes that you have the Firebird
      engine and the guardian running as services. All the engine commands are
      accessed via a right-click on the guardian icon in the system tray when
      running as an application.</para>
    </note>

    <para>On Windows, the guardian process is the file
    <filename>fbguard.exe</filename> and the engine itself is the file
    <filename>fbserver.exe</filename>.</para>

    <para>Normally the <command>instsvc</command> command is used to install
    or remove services. It can also be used to start and stop services that
    already exist. When discussing the <command>instsvc</command> command
    below, it will be used only to start and stop services rather than
    installing and removing them.</para>

    <section>
      <title>Starting The Engine.</title>

      <para>When you start the guardian service on Windows, it will
      automatically bring up the database engine without you needing to
      physically start it too.</para>

      <section>
        <title>Using Net Start.</title>

        <para>Provided you know the exact service name, you can use the
        <command>net</command> commands to start (and stop) the guardian and
        database engine. Up until Firebird 2.0, the service name was simply
        "FirebirdServer". From Version 2.1 onwards, there can be many
        different services running. In this section, only the default services
        for Firebird 2.x will be discussed and these are "Firebird Guardian -
        DefaultInstance" and "Firebird Server - DefaultInstance". As there are
        spaces in the names, double quotes are required to prevent
        errors.</para>

        <screen>C:\&gt;net start "firebird guardian - defaultinstance"
The Firebird Guardian - DefaultInstance service is starting.
The Firebird Guardian - DefaultInstance service was started successfully.</screen>
      </section>

      <section>
        <title>Using Instsvc.</title>

        <para>As you can see from the above, under Firebird 2.x, the service
        names are a bit unwieldy. It is easier to use
        <command>instsvc</command> to start the services as you do not need to
        know the default service names.</para>

        <screen>C:\&gt;instsvc start
Service "Firebird Guardian - DefaultInstance" successfully started.</screen>
      </section>
    </section>

    <section>
      <title>Stopping The Engine.</title>

      <para>When you stop the guardian service on Windows, it will
      automatically bring down the database engine without you being required
      to stop it too.</para>

      <section>
        <title>Using Net Stop.</title>

        <para>As with starting the services, in order to use <command>net
        stop</command> to bring the guardian and engine down, you need to know
        the exact service name (for the guardian) and enclose it in quotes if
        there are spaces in the name.</para>

        <screen>C:\&gt;net stop "firebird guardian - defaultinstance"
The Firebird Guardian - DefaultInstance service is stopping.
The Firebird Guardian - DefaultInstance service was stopped successfully.</screen>
      </section>

      <section>
        <title>Using Instsvc.</title>

        <para>As with starting the default services, stopping them is far
        easier using <command>instsvc</command>.</para>

        <screen>C:\&gt;instsvc stop
Service "Firebird Guardian - DefaultInstance" successfully stopped.</screen>
      </section>
    </section>

    <section>
      <title>Querying The Engine.</title>

      <para>It is possible to query the services running on the server to
      check whether the Firebird services are running or not. Once again, the
      <command>instsvc</command> command is used:</para>

      <screen>C:\&gt;instsvc q

Firebird Guardian - DefaultInstance IS installed.
  Status  : stopped
  Path    : C:\Program Files\Firebird\Firebird_2_0\bin\fbguard.exe -s
  Startup : manual
  Run as  : LocalSystem

Firebird Server - DefaultInstance IS installed.
  Status  : stopped
  Path    : C:\Program Files\Firebird\Firebird_2_0\bin\fbserver.exe -s
  Startup : manual
  Run as  : LocalSystem</screen>

      <para>It can be seen from the above, that there are two services
      installed on this server, but none of them are currently running. Other
      details are displayed such as whether or not these services are started
      automatically on reboot - in the example above, this is not the case -
      and the user account (LocalSystem) under which the services will be run,
      when they are started.</para>

      <para>This command is very useful as it displays the two service names -
      once you have that information, you may use the <command>net
      stop</command> or <command>net start</command> commands to bring the
      database down and to restart it.</para>
    </section>
  </section>

  <section id="fbmgr-caveats">
    <title>Fbmgr Caveats</title>

    <para>The following caveats are all specific to the Linux (and by
    assumption, other Unix systems) and do not apply to Windows versions of
    Firebird. The reason is simple, Windows doesn't have an
    <application>fbmgr</application> application as it uses the
    <command>instsvc</command> command instead.</para>

    <section>
      <title>The Help Command.</title>

      <para>The <userinput>help</userinput> command, as described above,
      doesn't mention that fact that there is a <userinput>start</userinput>
      command. There is a very brief mention of the
      <userinput>start</userinput> command, but no text explains its use,
      unlike the other commands which are described.</para>
    </section>

    <section>
      <title>Who Owns The Databases?</title>

      <para>While not an error as such, this is something that you should be
      aware of. When the server boots, it starts the Firebird engine and runs
      it as the user firebird. By default, the firebird has no interactive
      shell - it defaults to <filename>/bin/false</filename> - and so you
      cannot log in to, or <command>su</command> to, the firebird user to
      manually run a command.</para>

      <para>This means that, unless you change the firebird user's default
      shell as described above, you will have to carry out any manual restarts
      etc of the engine as the root user - although you can shut it down as
      any user provided you have the SYSDBA password.</para>

      <para>If you do restart the engine as root, then it will now be running
      as root. While existing databases - owned by the firebird user - will
      happily be read from and written to by root, any new databases created
      will be owned by root. Everything will work fine for a while but after
      the server is next rebooted, these new databases will then fail to be
      accessible as the engine is now running as the firebird user again and
      that user has no permissions to access the databases owned by
      root.</para>

      <para>You are therefore advised to always start and stop the server
      either:</para>

      <itemizedlist spacing="compact">
        <listitem>
          <para>as root, using the <command>rcfirebird</command> command;
          or</para>
        </listitem>

        <listitem>
          <para>as firebird, using <application>fbmgr</application>.</para>
        </listitem>
      </itemizedlist>

      <para>but never, ever, as root using <application>fbmgr</application>.
      If you follow the above instructions, all your databases will be owned
      by the firebird user.</para>
    </section>

    <section>
      <title>What's That Defunct Guardian Process Doing?</title>

      <para>If you run <application>fbmgr</application> and shut down the
      database engine, the <filename>fbserver</filename> process vanishes from
      the list of processes running under the firebird user. However, a
      <command>ps -ef|grep -i fir[e]bird</command> command will show the
      following:</para>

      <screen>tux&gt; ps -ef|grep -i fir[e]bird
firebird 29978 29844  0 15:57 pts/0    00:00:00 /opt/firebird/bin/fbmgr.bin
firebird 29979 29978  0 15:57 ?        00:00:00 [fbguard] &lt;defunct&gt;
root     29992 29955  0 15:57 pts/1    00:00:00 grep -i fire
</screen>

      <para>The guardian process, <filename>fbguard</filename>, doesn't vanish
      until you exit from <application>fbmgr</application>. This again is not
      a major problem, but knowing that all you have to do is exit from
      <application>fbmgr</application> to make it vanish is helpful.</para>
    </section>

    <section>
      <title>I Can Shut Down But Not Start Up The Engine.</title>

      <para>If you log in to the server as a privileged user and have the
      SYSDBA's password, you can shut down and start up the engine with no
      problems. If, on the other hand, you log in as any other user and try to
      use <application>fbmgr</application> to stop and start the Firebird
      engine, you will find that you can stop it with no problems but you will
      not be allowed to restart it. Only privileged users can start the
      engine. The following shows the problem.</para>

      <para><screen>tux&gt; # Shutdown Firebird engine as user 'norman'.
tux&gt; fbmgr -shut -password secret
no permissions to perform operation

tux&gt; fbmgr -shut -user sysdba -password secret
server shutdown completed


tux&gt; # Try to restart the Firebird engine as user 'norman'.
tux&gt; fbmgr -start
no permissions to perform operation

tux&gt; fbmgr -start -password secret
no permissions to perform operation

tux&gt; fbmgr -start -user sysdba -password secret
no permissions to perform operation


tux&gt; # Give up and restart the engine as 'firebird'.
tux&gt; su - firebird
tux&gt; bin/fbmgr -start 
server has been successfully started
</screen>It can be seen from the above that a normal user armed with the
      SYSDBA user name and password can stop the Firebird engine but is
      completely unable to restart it afterwards.</para>

      <para>The reason why this is the case is quite simple. Until the
      firebird engine is started, there is no way to check that the password
      supplied for the SYSDBA user is actually correct. Because of this,
      logging in as a privileged user assumes SYSDBA privileges and allows you
      to start the engine.</para>
    </section>

    <section>
      <title>Shut with no parameters appears to be a bug.</title>

      <para>Running fbmgr's -shut command with no user or password gives the
      following cryptic output:</para>

      <screen>tux&gt; fbmgr -shut
Invalid clumplet buffer structure: buffer end before end of clumplet - 
no length component
can not attach to server
</screen>

      <para>The same result is obtained even with a user name supplied:</para>

      <screen>tux&gt; fbmgr -shut -user sysdba
Invalid clumplet buffer structure: buffer end before end of clumplet - 
no length component
can not attach to server
</screen>
    </section>
  </section>

  <appendix id="fbmgr-dochist">
    <title>Document history</title>

    <para>The exact file history is recorded in the <filename
    class="directory">manual</filename> module in our CVS tree; see <ulink
    url="http://sourceforge.net/cvs/?group_id=9028">http://sourceforge.net/cvs/?group_id=9028</ulink>.
    The full URL of the CVS log for this file can be found at <ulink
    url="http://firebird.cvs.sourceforge.net/viewvc/firebird/manual/src/docs/firebirddocs/fbutil_fbmgr.xml?view=log"
    userlevel="">http://firebird.cvs.sourceforge.net/viewvc/firebird/manual/src/docs/firebirddocs/fbutil_fbmgr.xml?view=log</ulink></para>

    <para><revhistory>
        <revision>
          <revnumber>1.0</revnumber>

          <date>29 September 2009</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>Created as a chapter in the Command Line Utilities
            manual.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.1</revnumber>

          <date>11 October 2009</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>Some screen output wrapped as it extended out of the page in
            the generated pdf.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.2</revnumber>

          <date>20 October 2009</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>Replaced all references to "root or firebird" account names
            with "privileged users" as there are more than just these two
            accounts. Converted to a stand alone manual.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.3</revnumber>

          <date>21 October 2009</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>A few spelling mistakes corrected.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.4</revnumber>

          <date>26 October 2009</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>The <userinput>status</userinput> option to the
            <command>rcfirebird</command> command is not available on all
            Linux distros. Text amended to warn the reader of this
            discrepancy.</para>
          </revdescription>
        </revision>

        <revision>
          <revnumber>1.5</revnumber>

          <date>11 October 20011</date>

          <authorinitials>ND</authorinitials>

          <revdescription>
            <para>Spelling corrections.</para>
          </revdescription>
        </revision>
      </revhistory></para>
  </appendix>

  <appendix id="fbmgr-license">
    <title>License notice</title>

    <para>The contents of this Documentation are subject to the Public
    Documentation License Version 1.0 (the <quote>License</quote>); you may
    only use this Documentation if you comply with the terms of this License.
    Copies of the License are available at <ulink
    url="http://www.firebirdsql.org/pdfmanual/pdl.pdf">http://www.firebirdsql.org/pdfmanual/pdl.pdf</ulink>
    (PDF) and <ulink
    url="http://www.firebirdsql.org/manual/pdl.html">http://www.firebirdsql.org/manual/pdl.html</ulink>
    (HTML).</para>

    <para>The Original Documentation is titled <citetitle>Firebird Superserver
    Manager</citetitle>.</para>

    <para>The Initial Writer of the Original Documentation is: Norman
    Dunbar.</para>

    <para>Copyright (C) 2004â€“2009. All Rights Reserved. Initial Writer
    contact: NormanDunbar at users dot sourceforge dot net.</para>
  </appendix>
</article>
