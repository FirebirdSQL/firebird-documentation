<chapter id="rnfbtwo-bug">
  <chapterinfo>
    <title>Bugs Fixed</title>
  </chapterinfo>

  <!-- Level 1 section, inserted in 201 -->

  <section id="bug-sub"  xreflabel="Bug Fixes in Sub-releases"><!-- inserted in 2.0.1 -->
    <title>By Sub-release</title>
    
    <section id="bug-203-bugsfixed" xreflabel="two significant bugs"><!-- inserted in 2.0.3 -->
      <title>Sub-release 2.0.3</title>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1434"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE STATEMENT had suffered a regression 
      between v.2.0.1 and v.2.0.2 whereby it was truncating VARCHAR variables.</para>
      <para>This was the bug that caused Release 2.0.2 to be recalled.  It was initially thought to have 
      been caused by some anomaly related to the UTF-8 character set implementation but it was found to 
      be a general fault affecting all varchars.)</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1418"><emphasis>(CORE-1418)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rapid starting and shutting down of multiple 
      blocking AST threads was causing race conditions.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-202-bugsfixed" xreflabel="fixes to bugs"><!-- inserted in 2.0.2 -->
      <title>Sub-release 2.0.2</title>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1405"><emphasis>(CORE-1405)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    vulnerability would be manifest in attach/create database when the file name 
    exceeded the MAX_PATH_LEN value.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1403"><emphasis>(CORE-1403)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    In a situation where several events were being registered simultaneously by a client
    using an XNET connection, the server could crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1400"><emphasis>(CORE-1400)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    GSTAT did not support the optional port number in the TCP/IP connection string.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1399"><emphasis>(CORE-1399)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was not considering the RemoteServicePort option in firebird.conf</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1398"><emphasis>(CORE-1398)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was treating 'localhost' as case-sensitive on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1397"><emphasis>(CORE-1397)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Large network packets with garbage could result in big memory consumption and hign 
    CPU load in a Superserver/TCP/IP environment, creating a vulnerability.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1380"><emphasis>(CORE-1380)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>I/O errors would occur after changing the 
      Forced Writes attribute of a database if there were other attachments to the databases.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1371"><emphasis>(CORE-1371)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An EXECUTE BLOCK statement within an EXECUTE 
      STATEMENT string would fail.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1349"><emphasis>(CORE-1349)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The remote interface was failing to check (in REM_receive and REM_fetch calls) the
    length of client-supplied messages against the formatted length of the messages. </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1347"><emphasis>(CORE-1347)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Certain conditions would cause unexpected <quote>cannot transliterate</quote> errors.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1331"><emphasis>(CORE-1331)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Character set transliterations were not working with EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1328"><emphasis>(CORE-1328)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    the gfix code for two-phase recovery operations with <firstterm>gfix -t</firstterm>
    was broken on POSIX, causing an unexpected end of input error.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1312"><emphasis>(CORE-1312)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    security vulnerability showed up, whereby a remote attacker could gain file access
    to a system running Firebird.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1303"><emphasis>(CORE-1303)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Superserver's remote listener could go into an infinite loop.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1302"><emphasis>(CORE-1302)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some race conditions could occur during service startup.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1300"><emphasis>(CORE-1300)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Lower level index pages were being omitted from the parent page.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1299"><emphasis>(CORE-1299)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Wrong ordering of index entries was occurring at non-leaf b-tree pages.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1298"><emphasis>(CORE-1298)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BTR\garbage_collect code could cause a deadlock in a page cache.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1292"><emphasis>(CORE-1292)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attempting to create a table, when the connection had been made using a long user
    name and UTF8 as the attachment character set, would cause an exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1286"><emphasis>(CORE-1286)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    bug with multi-byte characters was causing overflows and server crashes when a string
    value was applied to a COMPUTED BY field.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1279"><emphasis>(CORE-1279)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect initialization of the engine would occur when many clients were attempting 
    simultaneously to be the first to connect to Superserver. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1276"><emphasis>(CORE-1276)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Sometimes, INET errors were being reported in firebird.log with an error code of 0
    instead of the real error code.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1265"><emphasis>(CORE-1265)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Detaching from a database would deallocate the memory used by an active critical section.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1249"><emphasis>(CORE-1249)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Full shutdown mode would not work on Classic if there were other connections to the
    database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1248"><emphasis>(CORE-1248)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect timestamp arithmetic would be performed when one of the operands was negative.
    </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1247"><emphasis>(CORE-1247)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BLOB garbage collection would remove the wrong BLOB if the departing BLOB's 
    descriptor contained 0:0 ("Null value") but the field's NULL flag was not set.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1240"><emphasis>(CORE-1240)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    With Darwin on PPC, any task using libfbclient, would hang on exit.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1223"><emphasis>(CORE-1223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    On openSUSE Linux 10.2 a nonsensical message could appear in firebird.log:
        <quote>Open file limit increased from 1024 to 0</quote>.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1207"><emphasis>(CORE-1207)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Since V. 2.0.1, all kernel objects created by the Firebird
    engine had their names prefixed with 'Global\' to cause them to be created in
    the global namespace and be accessible to processes running in different sessions.
    It also prevents possible database corruption.</para>
    <para>On Windows 2003 and Vista, this requires SeCreateGlobalPrivilege, which is 
    fine for a stand-alone server and clients.  However, requiring for those extra 
    privileges was no good for applications deployed with the embedded engine. </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1205"><emphasis>(CORE-1205)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The v.
    2.1 Beta gbak would crash the v2.0.x server when attempting to backup a database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1203"><emphasis>(CORE-1203)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some performance issues were encountered with certain queries on 32-bit Linux.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1183"><emphasis>(CORE-1183)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    view could not be created if its WHERE clause contained an IN &lt;subquery&gt;
    expression referring to a procedure.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1156"><emphasis>(CORE-1156)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    PREPARE would fail when having an uncast parameter on the left side of a comparison 
    with a subquery expression.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1153"><emphasis>(CORE-1153)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    STARTING [WITH] used for a join condition gave different results depending on whether a
    certain index was active or inactive. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1149"><emphasis>(CORE-1149)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    There was a vulnerability whereby the Services API could be used to effect a
    Denial-of-Service attack.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1145"><emphasis>(CORE-1145)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The server would lock up while attempting to commit the deletion of an expression
    index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1142"><emphasis>(CORE-1142)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    A generator's COMMENT could not be altered to the same value.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-984"><emphasis>(CORE-984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On
    Windows, fbclient.dll would change the security descriptor of the calling process.</para>
    <para><emphasis>fixed by D. Yemanov, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-968"><emphasis>(CORE-968)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    condition could occur that caused the client to lose its connection with the
    Firebird server.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-900"><emphasis>(CORE-900)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attaching to a database simultaneously with the Services API and a standard API
    function could cause a deadlock.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-201-bugsfixed" xreflabel="fixes to bugs"><!-- inserted in 2.0.1 -->
      <title>Sub-release 2.0.1</title>

    <para><emphasis>(CORE-1140)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash
    when performing garbage collection during index creation.  The problem related to the existence of
    expression indices on the same table.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1139)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was failing to
    delete the delta file after a successful backup on Win32 Classic.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1136)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was not able to 
    back up a recently created database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1133)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The XNET (IPC) 
    communication protocol would not work across session boundaries.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1130)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad optimization was
    occurring when a procedure was left joined with a view or subquery.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1127)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Circular index
    references in a corrupt database would cause fbserver to go into an infinite loop. </para>
    <para><emphasis>fixed by D. Downie, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1126)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An arithmetic exception was
    being thrown when UNION sets involved UTF8 literals.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1124)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup would not work in
    interactive mode on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1121)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup exhibited a
    page-level deadlock (bugcheck 215) when attempting to lock/back up a database under load.</para>
    <para><emphasis>fixed by D. Yemanov, G. Sergeev</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1110)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The function
    isc_get_client_xxx_version() was not fully compatible with the InterBase version of the gds32.dll
    Windows client library.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1104)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Linux install would 
    fail if the x0rfbserver program was running.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1025)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash 
    at runtime when an explicit MERGE plan was specified over multiple JOIN elements.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1016)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Checking the configured 
    UdfAccess setting was not being performed until after the library had been loaded and its startup code had
    been executed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-943)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database shutdown was 
    being executed incorrectly when the database was in physical backup mode.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1094)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isc_dsql_sql_info() was
    returning unordered SQLVAR descriptors</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1080)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 167
    (invalid SEND request) occurring in Superserver </para>
    <para>This was a long-standing bug in Superserver:  when several parallel attachments began executing
    a trigger that had not yet been loaded into the metadata cache, the first of them would compile the
    trigger request's BLR but others would not wait until the request compilation finished. Hence,
    other attachments would execute a NULL request.</para>
    <para>Protection from such failures existed in MET_procedure using dbb_sp_rec_mutex for stored procedures,
    but not for triggers.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1012)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Since Firebird 1.5.3,
    neither the relation name nor the alias was being returned for columns participating in a GROUP BY
    aggregation with joins.</para>
    <para>This problem was reported to affect particularly applications using IB Objects, which maintains internal
    structures to support <quote>live</quote> searching of tables underlying joined and aggregated sets.</para>
    <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1068)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isql was not printing non-
    nullable blobs, due to incorrect checking of the XSQLVAR structure.</para>
     <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1064)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The backup order in gbak
    was wrong for character sets and collations.</para>
    <para>Character sets and collations were being backed up after tables and hence they were being restored
    after tables.  The problem became obvious when restoring with the -ONE_AT_A_TIME switch, where a table
    definition used non-system character sets or collations.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1063)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Server could hang, eating CPU and
    performing huge I/O copying different codepage fields.</para>
    <para>Under certain conditions, notably when multi-byte character sets were involved, an endless loop or a 
    transliteration exception could occur wherein BLOB segments of zero length were being created and 
    empty BLOB pages were being stored until resources were exhausted.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-944, CORE-982, CORE-1059)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>This set of bug fixes fixed cases reported in several crash 
    reports on POSIX platforms, involving execution of stored procedures where both BLOBs and external function 
    calls were involved.  </para>
    <para><emphasis>fixed A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1057)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSEC was exhibiting a bug
    where it was hiding errors on a call to CryptAcquireContext().</para>
    <para><emphasis>fixed by A. Peshkov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1055)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Parameter matching for
    self-referencing stored procedures was wrong.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1053)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A SELECT statement
    could return invalid results when an index was to evaluate a <quote>greater than</quote> predicate in
    a WHERE clause.  The erroneous logic would occur if the key value changed exactly at the beginning of the
    index block.</para>
    <para>For example, the statement</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt; Constant
    </screen>
    <para>would return fewer records than</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt;= Constant+1
    </screen>
    <para><emphasis>fixed by A. Peshkov, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1051)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was found
    in DFW\check_dependencies that could corrupt the stack.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1046)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a
    core dump in CVT_move.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1040)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong single-segment
    ascending index could occur on a character field if there were NULLs and empty string values in the
    column.</para>
    <para><emphasis>fixed by V. Horsun, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020, CORE-1037)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some
    inconsistencies of installation components could happen with command-line use of the Win32 Installer.  The
    problem areas were fixed.</para>
    <note>
      <para>Previously, the Guardian was installed by default, whether the Classic or Superserver installation was
      selected.  In Firebird 2.0 and higher, Guardian is not installed with Classic and should not be.  It is not
      necessary and, in some Classic environments, it has been considered a possible cause of <quote>ghost
      connections</quote> and, thus, resource leakage.</para>
    </note>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1033)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In some views, the
    LIKE clause would not work for computed values.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1029)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad plans could be
    generated for queries with outer joins having IS NULL clauses, depending on the order of the search
    predicates.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash at
    run-time when an explicit MERGE plan was specified to override one that would have used a few JOIN
    phrases instead.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1017)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Windows service
    attachments using the Xnet protocol would fail when Classic had been started with the -x -i (Xnet and TCP/IP)
    parameters set.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1011)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    an application tried to connect to it via an InterBase version of gds32.dll.</para>
    <para><emphasis>fixed by A. Peshkov, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1010)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash if
    an executing DDL statement raised an exception.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1006)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rollback or garbage
    collection would cause an access violation (segfault) if an updated table had an expression index defined by a
    subquery.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1005)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A DISTINCT query that
    specifed NULLS LAST in an ORDER BY clause would return NULLs in the wrong position.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1004)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conditions could occur
    where the error <quote>Context already in use (BLR error)</quote> would be wrongly thrown when accessing
    explicit cursors in PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-997)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An old bug with indices on a
    character column with a COLLATE attribute became more visible and made it impossible to upgrade the database
    from ODS 10.1 to ODS 11.  The restore would wrongly report the error <quote>internal gds software
    consistency check (index key too big (nnn))</quote>.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-988)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Linux, using the 32-bit
    Superserver with the old threading model, the server would repeatedly crash.</para>
    <para>Due to a bug in some versions of glibc, errno contained garbage after sem_timedwait().  Obviously, a
    clean fix is not in order.  However, considering that people often try to use Firebird with such buggy
    versions and tend to blame Firebird for the problem, and that upgrading glibc is not trivial operation
    for many, a hack has been done to the body of the class semaphore. It now works correctly with both
    the normal and the broken versions of glibc.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-984)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using the Windows client (
    fbclient.dll) to open a database connection was changing the security descriptor of the process that called
    the library functions, making it impossible for other processes to share handles with synchonization objects
    or with other handles.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-966)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Socket binding for events
    exhibited bugs whereby the <emphasis>setsockopt</emphasis> call in inet.cpp was using an uninitialised
    variable and did not handle errors properly. It resulted in <quote>INET/inet_error: bind errno = 10048</quote>
    errors reported in the log whenever clients bound to database events.</para>
    <para><emphasis>fixed by P. Beach</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-959)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gstat would not work using
    the localhost connection string.</para>
    <para>Since v1.5, it has been possible to run gstat using a pseudo-remote connection string
    (localhost:&lt;path&gt;) but it was broken in v2.0. </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-952)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using a BLOB in an
    expression index would cause an access violation (segfault).</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-888)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of people reported
    getting the <quote>Object in use</quote> when attempting to alter, recreate, replace or drop a stored procedure
    or trigger whilst the existing trigger or SP was in use.  It was not a bug, per se, but an intentional
    restriction.</para>
    <para>The restriction has been removed (reverted to 1.5 behaviour).  Thus it is again possible to perform
    these types of DDL operations on <quote>live</quote> objects, and incur the same <quote>window of
    unpredictable effect</quote> for Classic users as in previous versions.</para>
    <para><emphasis>Reversion done by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
    </section>
    <!-- Level 1 section, inserted in 201 -->
    <section id="bug-200">
    <title>Firebird 2.0</title>
    <para>The following bugs present in Firebird 1.5 were fixed in v.2.0.  Note that, in many cases,
    the bug-fixes were backported to Firebird 1.5.x sub-releases.</para>

      <section id="bug-engine">
      <title>General Engine Bugs</title>

     <para><emphasis>(CORE-911)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Leaving a Classic
     server process idle for a long period while a read-only, Read Committed transaction was active could
     cause segmentation faults/AVs.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>(CORE-902)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash
     intermittently during execution of DDL or DML statements.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Assignments to columns
     deleted by a concurrent transaction were being improperly allowed.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;invalid
     transaction handle&quot; would be thrown when calling isc_array_lookup_bounds() from multiple threads.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Heavy concurrent load
     could cause index data corruption.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1446987</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>BLOBs could appear to be
     damaged during operations in PSQL, causing a &quot;BLOB not found&quot; error.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1434147</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs with COUNT (DISTINCT
     XXXX) when XXXX was a high integer.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1435997</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a close
     database error -901 on the embedded server.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1436066</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Adding an index during
    database activity could cause logical errors in structure that GFIX would detect.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few types of
    subqueries were being wrongly treated as variant, causing performance issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Previously, the
    Transaction ID would silently (and dangerously) overflow.  Now it will throw a consistency check when it reaches
    the limit (which is still 2^31).</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Read committed
    transactions would block garbage collection unnecessarily.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The ALL predicate could
    return wrong results.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1404157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DFW was not ready for
    RECREATE TABLE/VIEW</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restored the code which
    replaces ROLLBACK with COMMIT if a transaction has not modified any data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some bugs
    producing wrong statistics:</para>
    <itemizedlist>
      <listitem>
        <para>with relation/index data longer than 2^32 bytes</para>
      </listitem>
      <listitem>
        <para>when the average index key length rounded to an integer value</para>
      </listitem>
    </itemizedlist>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Attaching with the
    isc_dpb_no_garbage_collect option was forcing a sweep.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The system transaction
    was being reported as dead.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would lock up
    after an unsuccessful attach to the security database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1076858</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Source of possible
    corruption in Classic server.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1116809</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect data type conversion.
    </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1111570</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem dropping a table
    having a check constraint referencing more than one column.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Usage of an invalid index
    in an explicit plan caused garbage to be shown in the error message instead of the rejected index name.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #543106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug with ALL keyword.  MORE
    INFO REQUIRED.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>System
    users &quot;AUTHENTICATOR&quot; and &quot;SWEEPER&quot; were lost, causing &quot;SQL SERVER&quot; to be reported
    instead.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Don't rollback prepared 2PC
    sub-transaction. (Description needs clarifying, Vlad!)</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory consumption became
    exorbitant when blobs were converted from strings during request processing. For example, the problem would
    appear when running a script with a series of statements like</para>
    <programlisting>
   insert into t(a,b)
      values(N, &lt;literal_string&gt;);
    </programlisting>
    <para>when b was blob and the engine was performing the conversion internally.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Materialization of BLOBs
    was not invalidating temporary BLOB IDs soon enough.</para>
    <para>A blob is created as an orphan. This blob has a blob id of {0,slot}. It is volatile, meaning that, if the
    connection terminates, it will become eligible for garbage collection. Once a blob is assigned to field in a
    table, it is said to be materialized. If the transaction that did the assignment commits, the blob has an
    anchor in the table and will be considered permanent. Its blob id is {relation_id,slot}.</para>
    <para>In situations where internal code is referencing the blob by its old, volatile blob id, the references
    are &quot;routed&quot; to the materialized blob, until the session is closed.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><emphasis>Solution</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Now, the references to a
    volatile blob are checked and, when there are no more references to it, it is invalidated.</para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conversion from string to
    blob had a memory leak.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750664</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Issues with read-only
    databases and transactions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When one classic process
    dropped a foreign key and another process was trying to delete master record, the error 'partner index not
    found' would be thrown.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various server bugs</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>eliminated redundant attempts to get an exclusive database lock during shutdown</para></listitem>
    <listitem><para>corrected inaccurate timeout counting</para></listitem>
    <listitem><para>database lock was not being released after bringing database online in the exclusive mode</para></listitem>
    <listitem><para>removed a 5 sec timeout when bringing database online in the shared mode</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1186607</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Foreign key relation
    VARCHAR &lt;-&gt; INT should not have caused an exception.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211325</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed problems with BLOBs in
    external tables.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After an attempt
    to &quot;create view v(c1) as select 1 from v&quot; all clones of the system request would remain active forever.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1191006</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Use of WHERE params in SUM
    would return incorrect results.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750662</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a bug involving
    multiple declaration of blob filters.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #743679</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FIRST / SKIP was not as well
    implemented as it could be.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CPU load would rise to
    100% when an I/O error caused a rollover to a non-existent shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>&quot;Cannot find record
     fragment&quot; bugcheck could occur during garbage collection on the system tables.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211328</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error reporting cited
    maximum BLOB size wrongly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292007</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicated field names in
    INSERT and UPDATE statements were getting through.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The SQL string was being
    stored truncated within the RDB$*_SOURCE columns in some cases</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Broken implementation of
    the MATCHES predicate in GDML</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1404215</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column dependencies were
    not being stored for views.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1191206</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few constraint issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #609538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Alter Index on a Foreign
    Key index should cause an exception and it did, but the error message was not appropriate.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1175157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An error in the thread
    scheduler was causing the server to lock up.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
      <listitem>
        <para>Improper thread data operations were occurring during the protocol port cleanup</para>
      </listitem>
      <listitem>
        <para>Transaction rollback and attachment cleanup for broken TCP connections was faulty</para>
      </listitem>
    </orderedlist>
    <para><emphasis>fixed by V. Horsun, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong error message was
    decoded when firebird.msg was missing or outdated.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Buffer overflows inside
    the BLR-&gt;ASCII blob filter were causing memory corruption and server crashes.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A successful status vector
    could be reported to the user after a failed DDL operation.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Threading issues in the
    DSQL metadata cache were causing unexpected <quote>invalid transaction handle</quote> errors under load.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong results would be
    returned by the division operation after DDL changes.</para>
    <para><emphasis>Example</emphasis></para>
    <programlisting>
  create table test(fld numeric(18, 2));
  insert into test (fld) values (1);
  commit;
  alter table test alter fld type numeric(18,3);
  select fld/3 from test; -- returns 0.033 instead of expected 0.333
    </programlisting>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1184099</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect padding was
    exhibited when using character set OCTETS.</para>
    <para><emphasis>fixed by C. Valderrama, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Unexpected errors were
    occurring because of improperly handled dead record versions created by the system transaction during DDL
    operations.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223060</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Processing of the GREATER-THAN
    operator was too slow.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CHECK constraints were not
    SQL-compliant with regard to the handling of NULL.  Until now, if NULL were to be allowed, it had to be
    specified explicitly in the constraint definition.  Under the standard, NULL is allowed unless explicitly
    constrained by NOT NULL or CHECK (.. IS NOT NULL).</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <para>The following definition now allows NULL in DEPTNO, where previously it did not:</para>
    <literallayout class="monospaced">
    CHECK (DEPTNO IN (10, 20, 30))
    </literallayout>
    <para><emphasis>fixed by P. Ruizendaal, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to create
    a primary key constraint on a column consisting of NULLs.</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <literallayout class="monospaced">
    create table bug (f1 int not null, f2 int not null);
    insert into bug (f1, f2) values (1, 1);
    commit;
    alter table bug add pk int not null primary key;
    </literallayout>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1334034</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>REVOKE was damaging the
    ACL (Access Control List).</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-se-mgr">
    <title>Services Manager</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect encryption of
    password when the Services Manager was invoked by the Embedded client.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gfix">
    <title>GFix Bugs</title>

    <para><emphasis>SF #1242106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Shutdown bugs:</para>
    <orderedlist>
    <listitem><para>Incorrect commit instead of rollback during shutdown</para></listitem>
    <listitem><para>Crash or bugcheck during SuperServer shutdown with active attachments</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis> Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash occurred in
    service gfix code when it tried to reattach to a currently unavailable database. Since a service cannot
    interact with the end-user,  an endless loop leads to overflowing the service buffer and causing a crash as
    a result.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-dsql">
    <title>DSQL Bugs</title>

    <para><emphasis>SF #1408079</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The parser was not
    validating string literal markers.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine would fail to
    parse the SQL ROLE keyword properly.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE PROCEDURE did not check SQL
    permissions at the prepare stage.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #217042</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Weird SQL constructions are not
    always properly validated.</para>
    <para><emphasis>Partly fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1108909</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>View could be created without
    rights on a table name like &quot;a b&quot;</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #512975</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clear embedded spaces and
    CR+LF before DEFAULT clauses when storing them in system tables</para>
    <para><emphasis>Implemented by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #910423</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Anomaly with ALTER TABLE
    altering a column's type to VARCHAR, when determining valid length of the string.</para>
    <programlisting>
  SQL&gt; CREATE TABLE tab ( i INTEGER );
  SQL&gt; INSERT INTO tab VALUES (2000000000);
  SQL&gt; COMMIT;

  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(5);
  Statement failed, SQLCODE = -607
  unsuccessful metadata update
  -New size specified for column I must be at least 11 characters.
    </programlisting>
    <para>i.e., it would need potentially 10 characters for the numerals and one for the negative sign.</para>
    <programlisting>
  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(9);
    </programlisting>
    <para>This command should fail with the same error, but it did not, which could later lead to unreadable
    data:</para>
    <programlisting>
  SQL&gt; SELECT * FROM tab;
  I
  =========
  Statement failed, SQLCODE = -413
  conversion error from string "2000000000"
    </programlisting>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some rounding
    problems in date/time arithmetic.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Line numbers in DSQL
    parser were being miscounted when multi-line literals and identifiers were used.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #784121</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some expressions in outer
    join conditions were causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some dialect-
    specific arithmetic bugs:</para>
    <para><emphasis>Dialect 1</emphasis></para>
    <orderedlist>
    <listitem><para>'1.5' / '0.5' did not work</para></listitem>
    <listitem><para>avg ('1.5') did not work</para></listitem>
    <listitem><para>5 * '1.5' produced an INT result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>sum ('1.5') produced a NUMERIC(15, 2) result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>- '1.5' did not work</para></listitem>
    </orderedlist>

    <para><emphasis>Dialect 3</emphasis></para>
    <itemizedlist>
    <listitem><para>'1.5' * '0.5' and '1.5' / '0.5' were not forbidden, but they should have been.</para></listitem>
    </itemizedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1250150</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a situation where a
    procedure could not be dropped.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1238104</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Internal sweep report was
    incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1371274</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The infamous <quote>Datatype
    unknown</quote> error when attempting some castings has been eliminated.  It is now possible to use CAST to
    advise the engine about the data type of a parameter.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ORDER BY with FOR UPDATE WITH
    LOCK would trash the index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1368741</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UPPER() was returning wrong
    results.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-psql">
    <title>PSQL Bugs</title>

    <para><emphasis>(CORE-921)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug in EXECUTE 
    STATEMENT implementation could cause a core dump during PSQL execution.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1422471</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory leak was exhibited
    in EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ROW_COUNT was getting
    cleared after SUSPEND execution.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1124720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem with &quot;FOR EXECUTE
    STATEMENT ... DO SUSPEND;&quot;</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory leakage was
    occurring when selectable stored procedures were called from PSQL or in subqueries.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The wrong error would be
    reported when non-active contexts were accessed in multi-action triggers.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An internal error was
    reported when attempting to pass/return blobs to/from string functions inside PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-crash">
    <title>Crash Conditions</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A crash could occur if 
    some bad client passed more than the supported number of remote protocol versions.</para>
    <para><emphasis>fixed by A. Karyakin, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An AV could occur when the
    server was configured to use TCP packets as large as 32 Kb.</para>
    <para><emphasis>fixed by C. Valderrama, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash if a
    positioned UPDATE/DELETE executed via DSQL was referencing a cursor that had already been released.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Certain DDL actions could
     crash the server.</para>
     <para><emphasis>Example of a problem action</emphasis></para>
     <literallayout class="monospaced">
    alter table rdb$relations
      add rdb$garbage varchar(30);
    </literallayout>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An overflow in the plan
    buffer would cause the server to crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible server
    lockup/crash when 'RELEASE SAVEPOINT xxx ONLY' syntax is used or when existing savepoint name is reused in
    transaction context</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rare client crashes caused by
    improperly cleaned XDR packets.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server crash during
    SuperServer shutdown</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1057538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    the output parameter of a UDF was not the last parameter.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of possible
    server crash conditions had been reported by Valgrind.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when a wrong
    type or domain name was specified when changing the data type for a column.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect accounting of
    attachment pointers used inside the lock structure was causing the server to crash.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, random crashes
    would occur during a restore.</para>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash/lock-up with
    multiple calls of isc_dsql_prepare for a single statement.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the system year was set too high or too low.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the stream number exceeded the limit.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when outer
    aggregation was performed and explicit plans were used in subqueries.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECLARE FILTER would
    cause the server to crash.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash when a
    PLAN for a VIEW was specified but no table alias was given.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash during
    the table metadata scan in some cases.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    too big a key was specified for an index retrieval.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    manipulating input DPB due to memory corruption in Parameter Blocks management.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    attempting to restore a database backup with corrupted VARCHAR data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-remote">
    <title>Remote Interface Bugs</title>
    
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP buffer size 
    larger than 32 Kb was not being processed correctly.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The NO_NAGLE option was 
    working improperly.</para>
    <para><emphasis>fixed by F. Polizo, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NO_NAGLE and KEEPALIVE socket options
    were not enabled for CS builds.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1385092</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP connection would
    appear to freeze the Superserver if it was disconnected abnormally while a large packet, e.g. a BLOB or a large
    SQL request, was being passed across the interface.</para>

    <para>This was a long-standing InterBase/Firebird bug in the implementation of the protocol layer for
    Superserver on Windows.  Borland invented two different thread management strategies:  one for TCP/IP and one
    for the other protocols that only Windows supports, i.e. Named Pipes (sometimes referred to
    as <quote>NetBEUI</quote>) and the IPServer local connection.  This bug occurred only with TCP/IP
    connections.</para>

    <para>For TCP/IP, a multiplexing loop (main server loop), which is common for all ports, receives API
    packets from clients, creates requests and sends them to threads for processing.  When it detects an incoming
    packet, it starts to receive it from the port.</para>

    <para>Before this fix, it needed the entire API packet to come at once.  However, in the course of converting
    a packet to a request (done by the XDR protocol), in cases where the size of the API packet happened to be
    greater than that of the network packet, the server had to wait for the next network packet from the port.</para>

    <para>At this point, ports were being scanned for incoming packets only by calculating (timeout - interval
    since last packet received) for each port in the loop.  If the next packet from a particular port did not come,
    for example because of an unplugged jack, the only way to interrupt this receive and allow the main server
    loop to carry on processing the other ports was to wait for the keepalive TCP timeout to elapse on the abandoned
    connection.  Given that the default keepalive value is two hours, it would appear that the Superserver
    was <quote>hung</quote>.</para>

    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1260310</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nessus vulnerability scanning
    could cause the server to drop connections.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #571026</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>INET/INET_connect:
    gethostbyname was not working properly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223058</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Multi-hop server capability
    was broken.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed memory leak from
    connection pool in isc_database_info.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database aliases were not
    working in WNET.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Client would crash while
    disconnecting with an active event listener.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would
    not react to environment variables being set via SetEnvironmentVariable().</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-index">
    <title>Indexing &amp; Optimization</title>

    <para><emphasis>SF #459059D</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Index breaks = ANY result.
    MORE INFO REQUIRED.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Ambiguous queries were still
    possible under some conditions.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #735720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SELECT ... STARTING WITH :v
    was wrong when :v = ''</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    negative dates, i.e. those below Julian date [zero], when stored in indices.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211354</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Redundant evaluations were
    occurring in COALESCE.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;index key too
    big&quot; would occur when creating a descending index.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242982</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug in compound index key
    mangling.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-vulnerabilities">
    <title>Vulnerabilities</title>

    <para><emphasis>SF #1466193</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Semaphore array`s
    permissions in fb_lock_mgr were 0666 - i.e., anyone could lock them and block all subsequent queries.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible buffer overflow
    in WNET.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Several buffer overflows
    were fixed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1155520</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a vulnerability that
    could make it possible for a user who was neither SYSDBA nor owner to create a database that would overwrite an
    existing database.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-isql">
    <title>ISQL Bugs</title>

    <para><emphasis>SF #781610</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comments in ISQL using '--'
    were causing problems.</para>
    <para><emphasis>fixed by J. Bellardo, B. Rodriguez Samoza</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL_disconnect_database
    was overwriting the Quiet flag permanently.</para>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1208932</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SHOW GRANT did not
    distinguish object types.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #494981</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad exception report.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #450404</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL would uppercase role in
    the command line.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various, not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Fix for the -b (Bail On Error) option when SQL commands are issued and no db connection
    exists yet.</para></listitem>
    <listitem><para>Applied Miroslav Penchev's patch for bug with -Q always returning 1 to the operating system,
    discovered by Ivan Prenosil.</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extraction for
    triggers, check constraints and views with check option was wrong.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-intl">
    <title>International Character Set Bugs</title>

    <para><emphasis>SF #1016040</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Missing external libraries
    would cause an engine exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Charset/collation issues for expression-based view columns</para></listitem>
    <listitem><para>Lost charset/collation for local PSQL variables</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comparisons between
    strings in NONE and another character set would cause an error.</para>
    <para><emphasis>fixed by D. Yemanov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1244126</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a problem updating
    some text BLOBs when connected with character set NONE.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242379</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Applying a collation could
    change a VARCHAR's length</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-sqlprivs">
    <title>SQL Privileges</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Permissions were not being
    checked for view columns.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Privileges granted to
    procedures/triggers/views were being preserved after the object had been dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column-level SQL privileges
    were being preserved after the affected column was dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223128</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SYSDBA could grant
    non-existent roles</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

     <section id="bug-udf">
    <title>UDF Bugs</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were thread safety
    issues in datetime functions of the FBUDF library.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The UDF AddMonth() in the UDF
    library FBUDF had a bug that displayed itself when the calculation rolled the month past the end of the year.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Diagnostics when a UDF
    module was  missing/unusable needed improvement. </para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some problems
    with the mapping of UDF arguments to parameters.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF arguments were being
    prepared/optimized twice.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #544132, #728839</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nulls handling in
    UDFs was causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF access checking was
    incorrect.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gbak">
    <title>gbak</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    restoring if indexes used in explicit plans inside PSQL code had been dropped.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> could not restore a
    database containing broken foreign keys.</para>
    <para>Now, the restore continues to run, the user gets a diagnostic indicating which FK caused the problem.  
    The affected index becomes inactive and, after restore, the database is left in shutdown state.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> would stall when
    used via the Services Manager and an invalid command line was passed.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A computed column of a
    blob or array type would zero values in the first column of the table being restored.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed some backup issues with
    stream BLOBs that caused them to be truncated under some conditions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Interdependent views
    caused problems during the restore process.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750659</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If you want to start a fresh
    db, you should be able to restore a backup done with the metadata-only option. Generator values were resisting
    metadata-only backup and retaining latest values from the live database, instead of resetting the generators to
    zero.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #908319</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, wrong error
    messages would appear when using <emphasis>gbak</emphasis> with service_mgr.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1122344</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak -kill</emphasis> option would drop
    an existing shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>
    gbak</emphasis> was adding garbage
    bytes to the SPB when called in the -se[rvice_mgr] mode.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, C. Valderrama, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gpre">
    <title>gpre</title>

    <para><emphasis>SF #504978</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre variable names were
    being truncated.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #527677</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre &quot;ANSI85 compatible
    COBOL&quot; switch was broken.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103666</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was using inconsistent
    lengths</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103670</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre would invalidate a
    quoted cursor name after it was opened.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103683</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was not checking the
    length of the DB alias.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103740</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre did not detect duplicate
    quoted cursor names</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre could not generate
    more than 32,000 identifiers.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    </section>

    <section id="bug-gstat">
    <title>gstat</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error output by 
    <emphasis>gstat</emphasis> on Windows 32 was incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-lockprint">
    <title>fb_lock_print</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>fb_lock_print could fail,
    with an exception message <quote><emphasis>the requested operation cannot be performed on a file with a
    user-mapped section open.</emphasis></quote></para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-linux-install">
    <title>Linux Installs</title>
    <para><emphasis>SF #1011401</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The start/stop script was
    breaking halt/reboot on Slackware.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-cleanup">
    <title>Code Clean-up</title>
    <para><emphasis>(Not a bug)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>-L[ocal] command-line switch
    for SS on Win32 is gone</para>
    <para><emphasis>by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Assorted clean-up</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <itemizedlist>
    <listitem><para>Extensive, ongoing code cleanup and style standardization</para></listitem>
    <listitem><para>Broken write-ahead logging (WAL) and journalling code is fully cleaned out</para></listitem>
    </itemizedlist>
    <para><emphasis>by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-platform">
    <title>Platform-specific</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(SuSE Linux) Service would not
    restart correctly on SuSE Linux.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    
    <para><emphasis>(CORE-839)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(Windows) 
    Instclient.exe failed to install gds32.dll over an existing version from V1.5.1 or later.</para>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>
    <!-- End Level 1 section, inserted in 201 -->
    </section>
  </chapter>