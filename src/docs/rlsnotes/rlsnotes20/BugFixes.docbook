<chapter id="rnfbtwo-bug">
  <chapterinfo>
    <title>Bugs Fixed</title>
  </chapterinfo>

  <!-- Level 1 section, inserted in 201 -->

  <section id="bug-sub"  xreflabel="Bug Fixes in Sub-releases"><!-- inserted in 2.0.1 -->
    <title>By Sub-release</title>
    
    <section id="bug-207-bugsfixed" xreflabel="bugs fixed in V.2.0.7"><!-- inserted in 2.0.7 -->
      <title>Sub-release 2.0.7</title>
   <!-- ======================================================================================= -->
      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3736"><emphasis>(CORE-3736)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The WITH LOCK clause was allowed for users with
      read-only rights on a table, which would block others from updating it.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3730"><emphasis>(CORE-3730)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The API function <emphasis>isc_dsql_exec_immed2()</emphasis>
      would lose the value of an input parameter value when the request had a RETURNING clause.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3631"><emphasis>(CORE-3631)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicate records with NULLs were being checked incorrectly.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3557"><emphasis>(CORE-3557)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash while preparing a query against 
      a table that was being dropped.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3440"><emphasis>(CORE-3440)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash if <emphasis>isc_que_events()</emphasis>
      had queued events totalling zero.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3397"><emphasis>(CORE-3397)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The INTL library had some unresolved symbols.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3374"><emphasis>(CORE-3374)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash or corrupt data if SELECT WITH LOCK 
      was issued against records not in the latest format.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3351"><emphasis>(CORE-3351)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Windows client could write 10054 error messages into 
      <filename>firebird.log</filename> at connection time.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3283"><emphasis>(CORE-3283)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad plans were generated when LEFT OUTER JOIN was used
      in a subquery.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3220"><emphasis>(CORE-3220)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>isc_info_svc_get_users</emphasis> was
      returning error messages in the result cluster.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3205"><emphasis>(CORE-3205)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>isc_dsql_exec_immed2()</emphasis> was 
      not returning the error codes <command>isc_stream_eof</command> 
      and <command>isc_sing_select_err</command>.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3202"><emphasis>(CORE-3202)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>execute_immediate</emphasis> API 
      call family could crash the remote server.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3148"><emphasis>(CORE-3148)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><command>SQZ_apply_differences</command> contained
      some dangerous code.</para>
      <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3137"><emphasis>(CORE-3137)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Partial rollback was possible for a selectable 
      procedure modifying data.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3115"><emphasis>(CORE-3115)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs were discovered in the internal record 
      compression routines.</para>
      <para><emphasis>fixed by A. Peshkov, D. Kovalenko</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3097"><emphasis>(CORE-3097)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Updating a BLOB field could cause the server to crash 
      with an ACCESS_VIOLATION exception.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3067"><emphasis>(CORE-3067)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Objects were not being unmapped when the 
      shared memory region was closed.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3064"><emphasis>(CORE-3064)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using both the name of a procedure name and its alias 
      inside an explicit plan would crash the server.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3050"><emphasis>(CORE-3050)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A race condition in <emphasis>LocksCache::get()</emphasis>
       could lead to an engine crash.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3022"><emphasis>(CORE-3022)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GPRE was throwing C++ compiler warnings with 
      GCC 4.4.1.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3019"><emphasis>(CORE-3019)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver failed to start on Linux Gentoo.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3001"><emphasis>(CORE-3001)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>POSIX install was failing to create 
      the <quote>firebird</quote> user and group.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2977"><emphasis>(CORE-2977)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FB 2.1 and below handled indexed columns of type
      DATE incorrectly in old databases having on-disk structure lower than 10.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2900"><emphasis>(CORE-2900)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash due to an access violation
      when the DISTINCT aggregate was used.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>
    <section id="bug-206-bugsfixed" xreflabel="bugs fixed in V.2.0.6"><!-- inserted in 2.0.6 -->
      <title>Sub-release 2.0.6</title>
   <!-- ======================================================================================= -->
      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2936"><emphasis>(CORE-2936)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong page type (expected 7 found N) error.</para>
      <para>If two consecutive leaf index pages were removed from an index (garbage collected) by two 
      different connections at the same time, the linked list of sibling pages could become broken and the 
      sibling pointer at another index page could point to the freed index page. When the freed page was 
      again allocated, this index corruption would be reported.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2928"><emphasis>(CORE-2928)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Buffer overflow in <emphasis>gsec</emphasis>.</para>
      <para>For reasons unknown, the <emphasis>gsec</emphasis> code copies the value of the password
      hash to an internal user data structure during a display operation. Since V.2.0, when the newer hash
      algorithm made the hash longer than previously, the buffer used for storing it could be too short.</para>
      <para>This does not create a vulnerability because the hash value does not travel anywhere. It is harmless,
      anyway:  the buffer overflow cannot be exploited because the first, middle and last names are filled 
      immediately after the password. It is fixed now, thus avoiding having newer versions 
      of <emphasis>glibc</emphasis> detecting this overflow.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2919"><emphasis>(CORE-2919)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Linux installation script was ignoring 
      non-standard ports.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2871"><emphasis>(CORE-2871)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If a derived table or a view contained both a
      left/right join and an ORDER BY clause and the outer query also contained an ORDER BY clause, the 
      outer ORDER BY clause would have no effect.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2856"><emphasis>(CORE-2856)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-NULL key in a unique index could not 
      be found when the key was removed</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2846"><emphasis>(CORE-2846)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When gfix -shut &lt;mode&gt; -attach 
      &lt;timeout&gt; failed after the specified timeout due to connections being still active, it became
      impossible to connect to the database.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2831">CORE-2831</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database and user name should not be
      in the output when a script is extracted.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2822">CORE-2822</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>no current row for fetch operation</quote>
      was being thrown when a subquery included a non-trivial derived table.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2820">CORE-2820</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Queries with PLAN ORDER were exhibiting
      small memory leaks as a side effect of an earlier, major fix.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2741">CORE-2741</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extract would misinterpret the DDL of
      a CHECK constraint if the CHECK keyword was in any character mix other than all lower case or all
      upper case.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2720"><emphasis>(CORE-2720)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Division involving a divisor consisting of unary
      addition or subtraction expressions was being evaluated wrongly, often producing an incorrect 
      result.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2698"><emphasis>(CORE-2698)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If a new cached lock is needed and the permitted 
      number of cached locks is already used up, the least recently used lock should be released and its key 
      should be reset to a new value.  When the least recently used lock could not be unlocked because it was 
      being held by some code for too long, the call to LocksCache::get would wait indefinitely.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2684"><emphasis>(CORE-2684)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>Error page NNN is of wrong type (expected 
      7, found N)</quote> error would occur (wrongly) sometimes, due to a logic bug in garbage collection.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2648">CORE-2648</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup's delta file was not respecting the
      <quote>Forced Writes</quote> database setting.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2640">CORE-2640</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under some conditions, the lock manager
      could fail to detect a regular deadlock and cause the server to hang.</para>
      <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2635">CORE-2635</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A unique index could be corrupted at level 1
      if it contained a lot of NULL keys.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2616">CORE-2616</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>page &lt;N&gt; is of wrong
      type (expected 7, found 5)</quote> could occur under load, giving the impression that something
      had corrupted the database.  On restart, there would be no evidence of corruption.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2591">CORE-2591</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>High mutex wait ratio and degraded performance
      would start to show up after a period of normal performance.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2563">CORE-2563</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to shut down the
      Superserver's main port (3050 by default) by sending a malformed packet of some special format,
      that would lead to a Denial of Service condition for new incoming connections. This exploit
      could be used by an unauthenticated client.</para>
      <para>Reported 15-Jul-2009 by Core Security Technologies.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2507"><emphasis>(CORE-2507)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A flagging issue on Windows server platforms 
      was causing CreateFile() failures intermittently.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2449">CORE-2449</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unexpected <quote>lock conflict</quote> error
      could be thrown in lieu of the expected exception.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2444">CORE-2444</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine could hang when multiple
      attachments registered their interest in events simultaneously and free space in the events table
      became exhausted.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2437"><emphasis>(CORE-2437)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overflow could occur on a client 
      when events were being delivered.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2415"><emphasis>(CORE-2415)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird could crash when the system ran out of 
      temporary space</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2411">CORE-2411</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer in v.2.0.5 would choose a 
      slower PLAN for certain types of query than it would in version 2.0.4.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2395"><emphasis>(CORE-2395)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem in the API with handling UTF-8 4-byte 
      characters for Japanese collations.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2368"><emphasis>(CORE-2368)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An isc_cancel_events() call would be succeeded by
      an access violation if the event was not found.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2355">CORE-2355</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect handling of LOWER/UPPER when
      result string shrinks in terms of byte length.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2354">CORE-2354</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>fb_lock_print -ia</quote> output
      was not being flushed to the file between iterations.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2326"><emphasis>(CORE-2326)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Committing a new user object (a view, for
      example) caused an access violation if a user-defined trigger had been applied to the system table
      RDB$RELATIONS.</para>
      <para>It should be noted that no Firebird server version either supports, or retains after a backup
      and restore, any user-defined trigger on a system table.  The strong recommendation against defining
      such triggers remains.  The fix recognises one way that user interference with system tables can
      compromise internal operations and disarms it.</para>
      <para>The ability to define <quote>DDL triggers</quote> through the regular DDL mechanisms is on
      the drawing board for V.3.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2306">CORE-2306</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver could terminate abnormally
      when some worker thread failed to start.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2291">CORE-2291</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <emphasis>Bugcheck 284 (cannot
      restore singleton select data)</emphasis> would be thrown on bad trigger code involving [FOR]
      SELECT, when the engine should have been detecting the error and throwing the proper exception.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2282">CORE-2282</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Truncating UDFs were broken for negative
      numbers below -1.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2281">CORE-2281</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rounding UDFs were broken for negative
      numbers.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2272">CORE-2272</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would start returning garbage
      when killing an events connection attempt.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2271"><emphasis>(CORE-2271)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>gfix</emphasis> utility had a
      legacy bug that exhibited itself during the database validation/repair routines on large databases.
      The privilege level of the user running these routines was being checked too late in the operation,
      thus allowing a non-privileged user (i.e., not SYSDBA or Owner) to start a validation operation.
      Once the privilege check occurred, the database validation could halt in mid-operation and thus
      be left unfinished, resulting in logical corruption that might not have been there otherwise.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2270">CORE-2270</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When run in a <emphasis>zlogin</emphasis>
      console, <emphasis>isql</emphasis> would consume all memory and crash.</para>
      <para><emphasis>fixed by J. Swierczynski, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2247">CORE-2247</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In the QLI utility, message and
      descriptor buffers were not properly aligned.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2245">CORE-2245</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database with long exception messages
      defined would exhibit errors when being restored from a backup.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2173"><emphasis>(CORE-2173)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash after an abnormal 
      disconnection if there  was an open ExecuteStatement call.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2157"><emphasis>(CORE-2157)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Known issue:  a bug in gcc 3.2.x, the compiler
      used to build the official x86 Linux packages, can cause problems when people try to build binaries 
      that depend on the Firebird client without using the -pthread switch.  Setting the -pthread switch 
      removes the dependency of the output binary on libpthread.</para>
      <para><emphasis>Reported by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1961">CORE-1961</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <emphasis>Bugcheck 210 (page in use
      during flush)</emphasis> consistency check error would be thrown during database validation.</para>
      <para><emphasis>fixed by D. Yemanov, R. Simakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1923">CORE-1923</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Windows, successful execution of 
      <command>instsvc.exe remove</command> was returning 1 as its completion code, instead of 0.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1089"><emphasis>(CORE-1089)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting from a view that used DISTINCT and 
      LEFT JOIN returned records in the wrong order if the ORDER BY clause did not include columns from 
      the right-side (non-mandatory) table.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-195"><emphasis>(CORE-195)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression of an old bug, previously fixed 
      in v.1.5.1, whereby a <emphasis>bugcheck 291 (cannnot find back record version)</emphasis> would
      occur when updating the same record that had already fired an action in a BEFORE UPDATE trigger.
      The regression that was reintroduced in v.2.0 was less destructive, insofar as it affected only 
      the record that was physically first in the table.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-205-bugsfixed" xreflabel="bugs fixed in V.2.0.5"><!-- inserted in 2.0.5 -->
      <title>Sub-release 2.0.5</title>
   <!-- ======================================================================================= -->
      <para><emphasis>Unregistered bug</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When Firebird is configured to run in some specific directory (/usr/local/firebird, /opt/firebird or any other) the @prefix@ macro should be substituted with that directory path. On MacOS it was not done and caused exceptions to be thrown when the engine tried to locate some of its components.
</para>
      <para><emphasis>fixed by P. Beach</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2223"><emphasis>(CORE-2223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gbak was encountering several bugs when operating on the access control lists (ACLs) that store SQL privileges.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2221"><emphasis>(CORE-2221)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, any attachment to any database would fail after the access rights for security2.fdb were modified from 0660 to 0666.</para>
      <para><emphasis>fixed by P. Beach, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2108"><emphasis>(CORE-2108)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When using the new implementation of Windows local protocol (XNET), the next available map number was calculated incorrectly, thus allowing the server to try to reuse a map number that already existed. If the <quote>new</quote> map's timestamp was equal to the timestamp of the pre-existing map, it would cause the <function>get_free_slot()</function> function to fail.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2078"><emphasis>(CORE-2078)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer always had some trivial heuristics to estimate the effective stream selectivity, even if no indices could be used for the retrieval. This code missed being migrated into the ODS11 optimizer logic.  The effect was that join orders chosen for cases involving non-indexed predicates were likely to be ineffective.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2077"><emphasis>(CORE-2077)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, the Classic server in embedded mode, i.e., loaded into the user's application space, would handle the TERM signal but would fail to call any other signal handlers in the queue.  The effect was that signal handlers set by the application were not executed and the application would keep working after the termination.  It was a bad idea to invoke <function>ISC_signal_cancel()</function> from the signal handler and the mechanism has been reworked.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2073"><emphasis>(CORE-2073)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The implementation of expression indexes exhibited a bug whereby an incorrect result was returned when an inverted Boolean predicate was applied to test an indexed expression.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2065"><emphasis>(CORE-2065)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The MacOSX installation package was in violation of platform rules by not including the client library in the dynamic loader search paths.</para>
      <para><emphasis>fixed by P. Beach</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2055"><emphasis>(CORE-2055)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Backported a fix for a known buffer overflow in the Firebird client library.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2050"><emphasis>(CORE-2050)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>semop()</function> system calls.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2049"><emphasis>(CORE-2049)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>sigprocmask()</function> system calls.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2000"><emphasis>(CORE-2000)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under high load conditions, the lock manager could report false deadlocks.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1984"><emphasis>(CORE-1984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Lock manager would report false deadlocks if one of the deadlock participants was in WAIT with a permitted timeout.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1983"><emphasis>(CORE-1983)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In any POSIX environment except Solaris, the engine was mishandling the <quote>out of memory</quote> condition, causing the server to crash.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1982"><emphasis>(CORE-1982)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Simultaneous backups or restores using the Services API under Superserver could interfere with one another.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1972"><emphasis>(CORE-1972)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-SYSDBA user was able to change the Forced Writes mode of any database, along with several other database characteristics that should be restricted to the SYSDBA. This long-standing, legacy loophole in the handling of DPB parameters could lead to database corruptions or give ordinary users access to SYSDBA-only operations.  The changes could affect several existing applications, database tools and connectivity layers (drivers, components).  Details are in Chapter 3, in <link linkend="apiods-api-dpb205">Changes to the Firebird API and ODS</link>.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1970"><emphasis>(CORE-1970)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <quote>Lock conversion denied (bugcheck 215)</quote> error could occur.  This fix is related to CORE-1984 and CORE-2000 (above).</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1958"><emphasis>(CORE-1958)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When attempting to update the same record multiple times, a <quote>Bugcheck 179 (decompression overran buffer)</quote> failure could occur.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1957"><emphasis>(CORE-1957)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Because of a change done in the conversion to C++ at v.1.5, ACLs (Access Control Lists) longer than about 20 characters were being truncated.  This has caused particular problems for applications that construct access privileges in run-time and has also given rise to privileges <quote>going missing</quote> when there are more than about 2000 privileges (for a report of the latter, see <ulink url="http://tracker.firebirdsql.org/browse/CORE-216">Tracker issue CORE-216)</ulink>.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1930"><emphasis>(CORE-1930)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In a situation where a stored procedure was altered to remove output parameters and dependent procedures are not recompiled, the engine should properly track the dependencies and return an exception when the altered procedure is called.  Instead, it was crashing.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1919"><emphasis>(CORE-1919)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory corruptions in EXECUTE STATEMENT could crash the server.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1909"><emphasis>(CORE-1909)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Garbage text was being printed to firebird.log on AMD64 Linux.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1887"><emphasis>(CORE-1887)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Newly created databases were being created on POSIX platforms with the wrong access rights.  Now, access rights are set properly, by an explicit <function>chmod</function> call immediately after creation of the file.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1886"><emphasis>(CORE-1886)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Windows Vista, the server would refuse to start as an application under a restricted user account.</para>
      <!-- REMOVE NEXT PARA WHEN VERIFIED -->
      <para>This fix is a backport from the v.2.1 code that will need to be field-tested during RC.</para>
      <para><emphasis>fixed by N. Samofatov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1884"><emphasis>(CORE-1884)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using expressions as the default values of input parameters for stored procedures could cause random server crashes.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1854"><emphasis>(CORE-1854)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When using Unix native OS user authentication, the engine would return CURRENT_USER in the native (case-sensitive) form instead of the upper-cased form that Firebird user names should be resolved to.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1844"><emphasis>(CORE-1844)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Valgrind often reports <quote>Conditional jump or move depends on uninitialised value(s)</quote> in <function>check_status_vector()</function>, caused by poor data type matching which had the potential to corrupt the error status vector when there were multiple errors.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1841"><emphasis>(CORE-1841)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A view that used derived tables and long names for the tables or aliases could cause an overflow in RDB$VIEW_RELATIONS.RDB$CONTEXT_NAME.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1840"><emphasis>(CORE-1840)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Every DDL request executed would leave a small memory leak.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1830"><emphasis>(CORE-1830)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Multiple updates of the same record in the same transaction, using savepoints, could corrupt indexes.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1826"><emphasis>(CORE-1826)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>changeRunUser.sh</function> and <function>restoreRootRunUser.sh</function> scripts on POSIX platforms were not changing the run user in the <function>init.d</function> scripts.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1817"><emphasis>(CORE-1817)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>RelaxedAliasChecking</function> parameter was having no effect on RDB$DB_KEY.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1810"><emphasis>(CORE-1810)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were problems with user names containing the '.' character.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1807"><emphasis>(CORE-1807)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After an abnormal termination of Superserver on Linux, under a hard-to-reproduce situation where the <quote>dead</quote> <function>fbserver</function> process continued to listen on port 3050, the Guardian would retry port 3050 several times before giving up and assigning the new process to a non-canonical port.  Meanwhile, client requests would go to port 3050 and hang indefinitely.  Guardian needed to be restrained from such madness.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1506"><emphasis>(CORE-1506)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash with <function>isc_dsql_execute_immediate</function> and a zero-length string.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1451"><emphasis>(CORE-1451)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using RDB$DB_KEY in a search argument when calling a selectable procedure would crash the server.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1439"><emphasis>(CORE-1439)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Killing a Classic server process on a POSIX platform could corrupt databases.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1357"><emphasis>(CORE-1357)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>DummyPacketInterval</function> mechanism was broken on all platforms.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1313"><emphasis>(CORE-1313)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Derived tables and the MERGE statement were failing to recognise RDB$DB_KEY.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1889"><emphasis>(CORE-1889)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The security database was being created with Forced Writes off, risking corruption under some conditions.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
  <!-- ======================================================================================= -->

    </section>

    <section id="bug-204-bugsfixed" xreflabel="bugs fixed in V.2.0.4"><!-- inserted in 2.0.4 -->
      <title>Sub-release 2.0.4</title>


      <para id="nbackupbugs" xreflabel="unregistered nbackup bugs"><emphasis>(Unregistered
      nbackup Bugs)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs in nBackup could corrupt databases in some
      environments. The fixes relate to issues noted in heavy load conditions.</para>
      <itemizedlist>
        <listitem>
          <para>The logic to merge the 'delta' file, which contains the pages which were changed since
          the nbackup was started, sometimes left the database in a corrupted state.</para>
        </listitem>
        <listitem>
          <para>The logic to merge the 'delta' file sometimes did not mark the database
          as <quote>unlocked</quote>, thus setting the database into an unreconcilable state.</para>
        </listitem>
        <listitem>
          <para>The logic to track which file to write the changed pages to had issues that could result
          in deadlocks when the backup/merge process was active.</para>
        </listitem>
      </itemizedlist>
      <para><emphasis>fixed by N. Samofatov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1820"><emphasis>(CORE-1820)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Windows installer would not correctly detect a running
      2.0.x server if it was running without Guardian.</para>
      <para><emphasis>fixed by D. Yemanov, P. Reeves</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1775"><emphasis>(CORE-1775)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Security checking during a prepare was 
      performing badly.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1774"><emphasis>(CORE-1774)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The case-insenstive Spanish language collation 
      ES_ES_CI_AI was exhibiting some problems.</para>
      <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1746"><emphasis>(CORE-1746)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible (but damaging) to create an 
      expression index while inserts into the table were under way.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1731"><emphasis>(CORE-1731)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under some conditions, the engine 
      could <quote>hang</quote> for several minutes, using 100% of CPU resources without any input/output 
      activity.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1726"><emphasis>(CORE-1726)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Failure could occur during 
      <filename>isc_service_start()</filename>.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1702"><emphasis>(CORE-1702)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong record number calculation in garbage
      collector thread.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1681"><emphasis>(CORE-1681)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An incoming remote packet containing garbage 
      data could crash the server.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1680"><emphasis>(CORE-1680)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <filename>gsec display</filename> command 
      was returning only the first few users from a security database that had more than 50 users installed in
      it.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1679"><emphasis>(CORE-1679)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Output from 
      <filename>isc_service_query()</filename> could contain garbage bytes.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1674"><emphasis>(CORE-1674)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The /doc/ sub-directory on Linux installations 
      was being installed without the appropriate access rights.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1657"><emphasis>(CORE-1657)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Leaving a read-only, read-committed transaction 
      idle for a long time could cause a memory access violation.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1644"><emphasis>(CORE-1644)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Compilation error on GCC 4.1.1</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1610"><emphasis>(CORE-1610)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A Full server shutdown of Superserver would 
      cause database corruption if it happened while a query modifying data was running.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1603"><emphasis>(CORE-1603)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A long user name had the potential to cause a 
      buffer overflow.</para>
      <para><emphasis>A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1579"><emphasis>(CORE-1579)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In the 64-bit builds, incorrect memory
      allocation for BLOB parameters in UDFs was causing the BLOB, if it was NULL and was followed by 
      another parameter, to be overwritten by the value of the next parameter.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1572"><emphasis>(CORE-1572)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>multiple rows in singleton 
      select</quote> was not being reported when it occurred in a view.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1549"><emphasis>(CORE-1549)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Subquery-based predicates were are not being 
      evaluated early enough in the join order.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1533"><emphasis>(CORE-1533)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A JOIN on an ordered derived table was 
      returning the wrong first record.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1501"><emphasis>(CORE-1501)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><filename>SLONG</filename> data in
      <filename>dsql_nod</filename> was not being accessed correctly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1500"><emphasis>(CORE-1500)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data in the internal buffer for 
      <filename>EXECUTE STATEMENT</filename> was aligned incorrectly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1499"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data used in INTL converters was aligned 
      incorrectly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1484"><emphasis>(CORE-1484)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory access violation could occur in 
      <filename>fbintl</filename>.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1481"><emphasis>(CORE-1481)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GFIX could report false errors when using
      in-memory metadata.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1476"><emphasis>(CORE-1476)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Forced writes did not work on Linux at all.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1470"><emphasis>(CORE-1470)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>With a multi-file database, the server would 
      crash when a secondary file name exceeded 127 characters.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1462"><emphasis>(CORE-1462)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overrun would occur in the optimizer 
      when more than 255 relation references existed in the query, causing the server to crash.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para id="knownissue203fixed" xreflabel="issue with events over WNet protocol">
      <ulink url="http://tracker.firebirdsql.org/browse/CORE-1460"><emphasis>(CORE-1460)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A client registering its interest in events 
      would crash the server on being connected via the Named Pipes (WNet) protocol.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1457"><emphasis>(CORE-1457)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash on attempting to 
      deliver events to a client session that had just disconnected.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1456"><emphasis>(CORE-1456)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong events delivery was exhibited where there 
      were multiple concurrent XNET connections.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1455"><emphasis>(CORE-1455)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unsuccessful user management API call would 
      cause the client library to crash.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1452"><emphasis>(CORE-1452)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would crash when attempting 
      to process an event notification received just prior to disconnection.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1447"><emphasis>(CORE-1447)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overrun could occur when querying for 
      database info through and <filename>isc_database_info()</filename> API call if the database path was 
      very long.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1442"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library was misinterpreting the 
      error condition created when isc_attach_database() was called to attach to a read-only database 
      with a read-write transaction:  it would return error code 0 instead of 335544727 
      (<filename>net_write_err</filename>).</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1421"><emphasis>(CORE-1421)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SuperServer was unable to shut down immediately 
      upon a shutdown request if a failed login attempt had preceded the request.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1419"><emphasis>(CORE-1419)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CURRENT_TIMESTAMP evaluation was being 
      performed incorrectly for selectable procedures.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1199"><emphasis>(CORE-1199)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver could be brought down by an 
      internal gds software consistency check (CCH_precedence: block marked (212), file: cch.cpp line: 
      3640).</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1194"><emphasis>(CORE-1194)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An access violation could occur in the client 
      library when a shutdown of Superserver was being handled.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-881"><emphasis>(CORE-881)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Singleton requirement was not being respected 
      in COMPUTED BY expressions.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-100"><emphasis>(CORE-100)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An old bug in the Windows client library, 
      dating back to v.1.5.3, could cause a memory access violation on disconnecting.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-203-bugsfixed" xreflabel="two significant bugs"><!-- inserted in 2.0.3 -->
      <title>Sub-release 2.0.3</title>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1434"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE STATEMENT had suffered a regression 
      between v.2.0.1 and v.2.0.2 whereby it was truncating VARCHAR variables.</para>
      <para>This was the bug that caused Release 2.0.2 to be recalled.  It was initially thought to have 
      been caused by some anomaly related to the UTF-8 character set implementation but it was found to 
      be a general fault affecting all varchars.)</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1418"><emphasis>(CORE-1418)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rapid starting and shutting down of multiple 
      blocking AST threads was causing race conditions.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-202-bugsfixed" xreflabel="fixes to bugs"><!-- inserted in 2.0.2 -->
      <title>Sub-release 2.0.2</title>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1405"><emphasis>(CORE-1405)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    vulnerability would be manifest in attach/create database when the file name 
    exceeded the MAX_PATH_LEN value.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1403"><emphasis>(CORE-1403)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    In a situation where several events were being registered simultaneously by a client
    using an XNET connection, the server could crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1400"><emphasis>(CORE-1400)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    GSTAT did not support the optional port number in the TCP/IP connection string.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1399"><emphasis>(CORE-1399)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was not considering the RemoteServicePort option in firebird.conf</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1398"><emphasis>(CORE-1398)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was treating 'localhost' as case-sensitive on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1397"><emphasis>(CORE-1397)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Large network packets with garbage could result in big memory consumption and hign 
    CPU load in a Superserver/TCP/IP environment, creating a vulnerability.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1380"><emphasis>(CORE-1380)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>I/O errors would occur after changing the 
      Forced Writes attribute of a database if there were other attachments to the databases.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1371"><emphasis>(CORE-1371)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An EXECUTE BLOCK statement within an EXECUTE 
      STATEMENT string would fail.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1349"><emphasis>(CORE-1349)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The remote interface was failing to check (in REM_receive and REM_fetch calls) the
    length of client-supplied messages against the formatted length of the messages. </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1347"><emphasis>(CORE-1347)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Certain conditions would cause unexpected <quote>cannot transliterate</quote> errors.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1331"><emphasis>(CORE-1331)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Character set transliterations were not working with EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1328"><emphasis>(CORE-1328)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    the gfix code for two-phase recovery operations with <firstterm>gfix -t</firstterm>
    was broken on POSIX, causing an unexpected end of input error.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1312"><emphasis>(CORE-1312)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    security vulnerability showed up, whereby a remote attacker could gain file access
    to a system running Firebird.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1303"><emphasis>(CORE-1303)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Superserver's remote listener could go into an infinite loop.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1302"><emphasis>(CORE-1302)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some race conditions could occur during service startup.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1300"><emphasis>(CORE-1300)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Lower level index pages were being omitted from the parent page.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1299"><emphasis>(CORE-1299)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Wrong ordering of index entries was occurring at non-leaf b-tree pages.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1298"><emphasis>(CORE-1298)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BTR\garbage_collect code could cause a deadlock in a page cache.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1292"><emphasis>(CORE-1292)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attempting to create a table, when the connection had been made using a long user
    name and UTF8 as the attachment character set, would cause an exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1286"><emphasis>(CORE-1286)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    bug with multi-byte characters was causing overflows and server crashes when a string
    value was applied to a COMPUTED BY field.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1279"><emphasis>(CORE-1279)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect initialization of the engine would occur when many clients were attempting 
    simultaneously to be the first to connect to Superserver. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1276"><emphasis>(CORE-1276)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Sometimes, INET errors were being reported in firebird.log with an error code of 0
    instead of the real error code.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1265"><emphasis>(CORE-1265)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Detaching from a database would deallocate the memory used by an active critical section.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1249"><emphasis>(CORE-1249)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Full shutdown mode would not work on Classic if there were other connections to the
    database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1248"><emphasis>(CORE-1248)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect timestamp arithmetic would be performed when one of the operands was negative.
    </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1247"><emphasis>(CORE-1247)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BLOB garbage collection would remove the wrong BLOB if the departing BLOB's 
    descriptor contained 0:0 ("Null value") but the field's NULL flag was not set.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1240"><emphasis>(CORE-1240)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    With Darwin on PPC, any task using libfbclient, would hang on exit.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1223"><emphasis>(CORE-1223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    On openSUSE Linux 10.2 a nonsensical message could appear in firebird.log:
        <quote>Open file limit increased from 1024 to 0</quote>.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1207"><emphasis>(CORE-1207)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Since V. 2.0.1, all kernel objects created by the Firebird
    engine had their names prefixed with 'Global\' to cause them to be created in
    the global namespace and be accessible to processes running in different sessions.
    It also prevents possible database corruption.</para>
    <para>On Windows 2003 and Vista, this requires SeCreateGlobalPrivilege, which is 
    fine for a stand-alone server and clients.  However, requiring for those extra 
    privileges was no good for applications deployed with the embedded engine. </para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1205"><emphasis>(CORE-1205)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The v.
    2.1 Beta gbak would crash the v2.0.x server when attempting to backup a database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1203"><emphasis>(CORE-1203)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some performance issues were encountered with certain queries on 32-bit Linux.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1183"><emphasis>(CORE-1183)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    view could not be created if its WHERE clause contained an IN &lt;subquery&gt;
    expression referring to a procedure.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1156"><emphasis>(CORE-1156)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    PREPARE would fail when having an uncast parameter on the left side of a comparison 
    with a subquery expression.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1153"><emphasis>(CORE-1153)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    STARTING [WITH] used for a join condition gave different results depending on whether a
    certain index was active or inactive. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1149"><emphasis>(CORE-1149)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    There was a vulnerability whereby the Services API could be used to effect a
    Denial-of-Service attack.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1145"><emphasis>(CORE-1145)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The server would lock up while attempting to commit the deletion of an expression
    index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1142"><emphasis>(CORE-1142)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    A generator's COMMENT could not be altered to the same value.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-984"><emphasis>(CORE-984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On
    Windows, fbclient.dll would change the security descriptor of the calling process.</para>
    <para><emphasis>fixed by D. Yemanov, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-968"><emphasis>(CORE-968)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    condition could occur that caused the client to lose its connection with the
    Firebird server.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-900"><emphasis>(CORE-900)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attaching to a database simultaneously with the Services API and a standard API
    function could cause a deadlock.</para>
    <para><emphasis>fixed by A. Peshkoff</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-201-bugsfixed" xreflabel="fixes to bugs"><!-- inserted in 2.0.1 -->
      <title>Sub-release 2.0.1</title>

    <para><emphasis>(CORE-1140)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash
    when performing garbage collection during index creation.  The problem related to the existence of
    expression indices on the same table.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1139)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was failing to
    delete the delta file after a successful backup on Win32 Classic.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1136)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was not able to 
    back up a recently created database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1133)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The XNET (IPC) 
    communication protocol would not work across session boundaries.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1130)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad optimization was
    occurring when a procedure was left joined with a view or subquery.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1127)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Circular index
    references in a corrupt database would cause fbserver to go into an infinite loop. </para>
    <para><emphasis>fixed by D. Downie, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1126)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An arithmetic exception was
    being thrown when UNION sets involved UTF8 literals.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1124)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup would not work in
    interactive mode on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1121)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup exhibited a
    page-level deadlock (bugcheck 215) when attempting to lock/back up a database under load.</para>
    <para><emphasis>fixed by D. Yemanov, G. Sergeev</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1110)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The function
    isc_get_client_xxx_version() was not fully compatible with the InterBase version of the gds32.dll
    Windows client library.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1104)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Linux install would 
    fail if the x0rfbserver program was running.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1025)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash 
    at runtime when an explicit MERGE plan was specified over multiple JOIN elements.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1016)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Checking the configured 
    UdfAccess setting was not being performed until after the library had been loaded and its startup code had
    been executed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-943)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database shutdown was 
    being executed incorrectly when the database was in physical backup mode.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1094)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isc_dsql_sql_info() was
    returning unordered SQLVAR descriptors</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1080)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 167
    (invalid SEND request) occurring in Superserver </para>
    <para>This was a long-standing bug in Superserver:  when several parallel attachments began executing
    a trigger that had not yet been loaded into the metadata cache, the first of them would compile the
    trigger request's BLR but others would not wait until the request compilation finished. Hence,
    other attachments would execute a NULL request.</para>
    <para>Protection from such failures existed in MET_procedure using dbb_sp_rec_mutex for stored procedures,
    but not for triggers.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1012)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Since Firebird 1.5.3,
    neither the relation name nor the alias was being returned for columns participating in a GROUP BY
    aggregation with joins.</para>
    <para>This problem was reported to affect particularly applications using IB Objects, which maintains internal
    structures to support <quote>live</quote> searching of tables underlying joined and aggregated sets.</para>
    <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1068)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isql was not printing non-
    nullable blobs, due to incorrect checking of the XSQLVAR structure.</para>
     <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1064)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The backup order in gbak
    was wrong for character sets and collations.</para>
    <para>Character sets and collations were being backed up after tables and hence they were being restored
    after tables.  The problem became obvious when restoring with the -ONE_AT_A_TIME switch, where a table
    definition used non-system character sets or collations.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1063)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Server could hang, eating CPU and
    performing huge I/O copying different codepage fields.</para>
    <para>Under certain conditions, notably when multi-byte character sets were involved, an endless loop or a 
    transliteration exception could occur wherein BLOB segments of zero length were being created and 
    empty BLOB pages were being stored until resources were exhausted.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-944, CORE-982, CORE-1059)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>This set of bug fixes fixed cases reported in several crash 
    reports on POSIX platforms, involving execution of stored procedures where both BLOBs and external function 
    calls were involved.  </para>
    <para><emphasis>fixed A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1057)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSEC was exhibiting a bug
    where it was hiding errors on a call to CryptAcquireContext().</para>
    <para><emphasis>fixed by A. Peshkov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1055)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Parameter matching for
    self-referencing stored procedures was wrong.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1053)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A SELECT statement
    could return invalid results when an index was to evaluate a <quote>greater than</quote> predicate in
    a WHERE clause.  The erroneous logic would occur if the key value changed exactly at the beginning of the
    index block.</para>
    <para>For example, the statement</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt; Constant
    </screen>
    <para>would return fewer records than</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt;= Constant+1
    </screen>
    <para><emphasis>fixed by A. Peshkov, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1051)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was found
    in DFW\check_dependencies that could corrupt the stack.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1046)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a
    core dump in CVT_move.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1040)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong single-segment
    ascending index could occur on a character field if there were NULLs and empty string values in the
    column.</para>
    <para><emphasis>fixed by V. Horsun, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020, CORE-1037)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some
    inconsistencies of installation components could happen with command-line use of the Win32 Installer.  The
    problem areas were fixed.</para>
    <note>
      <para>Previously, the Guardian was installed by default, whether the Classic or Superserver installation was
      selected.  In Firebird 2.0 and higher, Guardian is not installed with Classic and should not be.  It is not
      necessary and, in some Classic environments, it has been considered a possible cause of <quote>ghost
      connections</quote> and, thus, resource leakage.</para>
    </note>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1033)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In some views, the
    LIKE clause would not work for computed values.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1029)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad plans could be
    generated for queries with outer joins having IS NULL clauses, depending on the order of the search
    predicates.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash at
    run-time when an explicit MERGE plan was specified to override one that would have used a few JOIN
    phrases instead.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1017)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Windows service
    attachments using the Xnet protocol would fail when Classic had been started with the -x -i (Xnet and TCP/IP)
    parameters set.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1011)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    an application tried to connect to it via an InterBase version of gds32.dll.</para>
    <para><emphasis>fixed by A. Peshkov, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1010)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash if
    an executing DDL statement raised an exception.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1006)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rollback or garbage
    collection would cause an access violation (segfault) if an updated table had an expression index defined by a
    subquery.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1005)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A DISTINCT query that
    specifed NULLS LAST in an ORDER BY clause would return NULLs in the wrong position.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1004)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conditions could occur
    where the error <quote>Context already in use (BLR error)</quote> would be wrongly thrown when accessing
    explicit cursors in PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-997)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An old bug with indices on a
    character column with a COLLATE attribute became more visible and made it impossible to upgrade the database
    from ODS 10.1 to ODS 11.  The restore would wrongly report the error <quote>internal gds software
    consistency check (index key too big (nnn))</quote>.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-988)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Linux, using the 32-bit
    Superserver with the old threading model, the server would repeatedly crash.</para>
    <para>Due to a bug in some versions of glibc, errno contained garbage after sem_timedwait().  Obviously, a
    clean fix is not in order.  However, considering that people often try to use Firebird with such buggy
    versions and tend to blame Firebird for the problem, and that upgrading glibc is not trivial operation
    for many, a hack has been done to the body of the class semaphore. It now works correctly with both
    the normal and the broken versions of glibc.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-984)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using the Windows client (
    fbclient.dll) to open a database connection was changing the security descriptor of the process that called
    the library functions, making it impossible for other processes to share handles with synchonization objects
    or with other handles.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-966)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Socket binding for events
    exhibited bugs whereby the <emphasis>setsockopt</emphasis> call in inet.cpp was using an uninitialised
    variable and did not handle errors properly. It resulted in <quote>INET/inet_error: bind errno = 10048</quote>
    errors reported in the log whenever clients bound to database events.</para>
    <para><emphasis>fixed by P. Beach</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-959)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gstat would not work using
    the localhost connection string.</para>
    <para>Since v1.5, it has been possible to run gstat using a pseudo-remote connection string
    (localhost:&lt;path&gt;) but it was broken in v2.0. </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-952)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using a BLOB in an
    expression index would cause an access violation (segfault).</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-888)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of people reported
    getting the <quote>Object in use</quote> when attempting to alter, recreate, replace or drop a stored procedure
    or trigger whilst the existing trigger or SP was in use.  It was not a bug, per se, but an intentional
    restriction.</para>
    <para>The restriction has been removed (reverted to 1.5 behaviour).  Thus it is again possible to perform
    these types of DDL operations on <quote>live</quote> objects, and incur the same <quote>window of
    unpredictable effect</quote> for Classic users as in previous versions.</para>
    <para><emphasis>Reversion done by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
    </section>
    <!-- Level 1 section, inserted in 201 -->
    <section id="bug-200">
    <title>Firebird 2.0</title>
    <para>The following bugs present in Firebird 1.5 were fixed in v.2.0.  Note that, in many cases,
    the bug-fixes were backported to Firebird 1.5.x sub-releases.</para>

      <section id="bug-engine">
      <title>General Engine Bugs</title>

     <para><emphasis>(CORE-911)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Leaving a Classic
     server process idle for a long period while a read-only, Read Committed transaction was active could
     cause segmentation faults/AVs.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>(CORE-902)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash
     intermittently during execution of DDL or DML statements.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Assignments to columns
     deleted by a concurrent transaction were being improperly allowed.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;invalid
     transaction handle&quot; would be thrown when calling isc_array_lookup_bounds() from multiple threads.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Heavy concurrent load
     could cause index data corruption.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1446987</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>BLOBs could appear to be
     damaged during operations in PSQL, causing a &quot;BLOB not found&quot; error.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1434147</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs with COUNT (DISTINCT
     XXXX) when XXXX was a high integer.</para>
     <para><emphasis>fixed by V. Horsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1435997</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a close
     database error -901 on the embedded server.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1436066</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Adding an index during
    database activity could cause logical errors in structure that GFIX would detect.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few types of
    subqueries were being wrongly treated as variant, causing performance issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Previously, the
    Transaction ID would silently (and dangerously) overflow.  Now it will throw a consistency check when it reaches
    the limit (which is still 2^31).</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Read committed
    transactions would block garbage collection unnecessarily.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The ALL predicate could
    return wrong results.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1404157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DFW was not ready for
    RECREATE TABLE/VIEW</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restored the code which
    replaces ROLLBACK with COMMIT if a transaction has not modified any data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some bugs
    producing wrong statistics:</para>
    <itemizedlist>
      <listitem>
        <para>with relation/index data longer than 2^32 bytes</para>
      </listitem>
      <listitem>
        <para>when the average index key length rounded to an integer value</para>
      </listitem>
    </itemizedlist>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Attaching with the
    isc_dpb_no_garbage_collect option was forcing a sweep.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The system transaction
    was being reported as dead.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would lock up
    after an unsuccessful attach to the security database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1076858</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Source of possible
    corruption in Classic server.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1116809</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect data type conversion.
    </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1111570</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem dropping a table
    having a check constraint referencing more than one column.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Usage of an invalid index
    in an explicit plan caused garbage to be shown in the error message instead of the rejected index name.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #543106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug with ALL keyword.  MORE
    INFO REQUIRED.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>System
    users &quot;AUTHENTICATOR&quot; and &quot;SWEEPER&quot; were lost, causing &quot;SQL SERVER&quot; to be reported
    instead.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Don't rollback prepared 2PC
    sub-transaction. (Description needs clarifying, Vlad!)</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory consumption became
    exorbitant when blobs were converted from strings during request processing. For example, the problem would
    appear when running a script with a series of statements like</para>
    <programlisting>
   insert into t(a,b)
      values(N, &lt;literal_string&gt;);
    </programlisting>
    <para>when b was blob and the engine was performing the conversion internally.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Materialization of BLOBs
    was not invalidating temporary BLOB IDs soon enough.</para>
    <para>A blob is created as an orphan. This blob has a blob id of {0,slot}. It is volatile, meaning that, if the
    connection terminates, it will become eligible for garbage collection. Once a blob is assigned to field in a
    table, it is said to be materialized. If the transaction that did the assignment commits, the blob has an
    anchor in the table and will be considered permanent. Its blob id is {relation_id,slot}.</para>
    <para>In situations where internal code is referencing the blob by its old, volatile blob id, the references
    are &quot;routed&quot; to the materialized blob, until the session is closed.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><emphasis>Solution</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Now, the references to a
    volatile blob are checked and, when there are no more references to it, it is invalidated.</para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conversion from string to
    blob had a memory leak.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750664</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Issues with read-only
    databases and transactions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When one classic process
    dropped a foreign key and another process was trying to delete master record, the error 'partner index not
    found' would be thrown.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various server bugs</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>eliminated redundant attempts to get an exclusive database lock during shutdown</para></listitem>
    <listitem><para>corrected inaccurate timeout counting</para></listitem>
    <listitem><para>database lock was not being released after bringing database online in the exclusive mode</para></listitem>
    <listitem><para>removed a 5 sec timeout when bringing database online in the shared mode</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1186607</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Foreign key relation
    VARCHAR &lt;-&gt; INT should not have caused an exception.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211325</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed problems with BLOBs in
    external tables.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After an attempt
    to &quot;create view v(c1) as select 1 from v&quot; all clones of the system request would remain active forever.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1191006</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Use of WHERE params in SUM
    would return incorrect results.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750662</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a bug involving
    multiple declaration of blob filters.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #743679</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FIRST / SKIP was not as well
    implemented as it could be.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CPU load would rise to
    100% when an I/O error caused a rollover to a non-existent shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>&quot;Cannot find record
     fragment&quot; bugcheck could occur during garbage collection on the system tables.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211328</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error reporting cited
    maximum BLOB size wrongly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292007</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicated field names in
    INSERT and UPDATE statements were getting through.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The SQL string was being
    stored truncated within the RDB$*_SOURCE columns in some cases</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Broken implementation of
    the MATCHES predicate in GDML</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1404215</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column dependencies were
    not being stored for views.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1191206</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few constraint issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #609538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Alter Index on a Foreign
    Key index should cause an exception and it did, but the error message was not appropriate.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1175157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An error in the thread
    scheduler was causing the server to lock up.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
      <listitem>
        <para>Improper thread data operations were occurring during the protocol port cleanup</para>
      </listitem>
      <listitem>
        <para>Transaction rollback and attachment cleanup for broken TCP connections was faulty</para>
      </listitem>
    </orderedlist>
    <para><emphasis>fixed by V. Horsun, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong error message was
    decoded when firebird.msg was missing or outdated.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Buffer overflows inside
    the BLR-&gt;ASCII blob filter were causing memory corruption and server crashes.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A successful status vector
    could be reported to the user after a failed DDL operation.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Threading issues in the
    DSQL metadata cache were causing unexpected <quote>invalid transaction handle</quote> errors under load.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong results would be
    returned by the division operation after DDL changes.</para>
    <para><emphasis>Example</emphasis></para>
    <programlisting>
  create table test(fld numeric(18, 2));
  insert into test (fld) values (1);
  commit;
  alter table test alter fld type numeric(18,3);
  select fld/3 from test; -- returns 0.033 instead of expected 0.333
    </programlisting>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1184099</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect padding was
    exhibited when using character set OCTETS.</para>
    <para><emphasis>fixed by C. Valderrama, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Unexpected errors were
    occurring because of improperly handled dead record versions created by the system transaction during DDL
    operations.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223060</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Processing of the GREATER-THAN
    operator was too slow.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CHECK constraints were not
    SQL-compliant with regard to the handling of NULL.  Until now, if NULL were to be allowed, it had to be
    specified explicitly in the constraint definition.  Under the standard, NULL is allowed unless explicitly
    constrained by NOT NULL or CHECK (.. IS NOT NULL).</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <para>The following definition now allows NULL in DEPTNO, where previously it did not:</para>
    <literallayout class="monospaced">
    CHECK (DEPTNO IN (10, 20, 30))
    </literallayout>
    <para><emphasis>fixed by P. Ruizendaal, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to create
    a primary key constraint on a column consisting of NULLs.</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <literallayout class="monospaced">
    create table bug (f1 int not null, f2 int not null);
    insert into bug (f1, f2) values (1, 1);
    commit;
    alter table bug add pk int not null primary key;
    </literallayout>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1334034</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>REVOKE was damaging the
    ACL (Access Control List).</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-se-mgr">
    <title>Services Manager</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect encryption of
    password when the Services Manager was invoked by the Embedded client.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gfix">
    <title>GFix Bugs</title>

    <para><emphasis>SF #1242106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Shutdown bugs:</para>
    <orderedlist>
    <listitem><para>Incorrect commit instead of rollback during shutdown</para></listitem>
    <listitem><para>Crash or bugcheck during SuperServer shutdown with active attachments</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis> Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash occurred in
    service gfix code when it tried to reattach to a currently unavailable database. Since a service cannot
    interact with the end-user,  an endless loop leads to overflowing the service buffer and causing a crash as
    a result.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-dsql">
    <title>DSQL Bugs</title>

    <para><emphasis>SF #1408079</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The parser was not
    validating string literal markers.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine would fail to
    parse the SQL ROLE keyword properly.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE PROCEDURE did not check SQL
    permissions at the prepare stage.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #217042</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Weird SQL constructions are not
    always properly validated.</para>
    <para><emphasis>Partly fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1108909</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>View could be created without
    rights on a table name like &quot;a b&quot;</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #512975</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clear embedded spaces and
    CR+LF before DEFAULT clauses when storing them in system tables</para>
    <para><emphasis>Implemented by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #910423</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Anomaly with ALTER TABLE
    altering a column's type to VARCHAR, when determining valid length of the string.</para>
    <programlisting>
  SQL&gt; CREATE TABLE tab ( i INTEGER );
  SQL&gt; INSERT INTO tab VALUES (2000000000);
  SQL&gt; COMMIT;

  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(5);
  Statement failed, SQLCODE = -607
  unsuccessful metadata update
  -New size specified for column I must be at least 11 characters.
    </programlisting>
    <para>i.e., it would need potentially 10 characters for the numerals and one for the negative sign.</para>
    <programlisting>
  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(9);
    </programlisting>
    <para>This command should fail with the same error, but it did not, which could later lead to unreadable
    data:</para>
    <programlisting>
  SQL&gt; SELECT * FROM tab;
  I
  =========
  Statement failed, SQLCODE = -413
  conversion error from string "2000000000"
    </programlisting>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some rounding
    problems in date/time arithmetic.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Line numbers in DSQL
    parser were being miscounted when multi-line literals and identifiers were used.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #784121</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some expressions in outer
    join conditions were causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some dialect-
    specific arithmetic bugs:</para>
    <para><emphasis>Dialect 1</emphasis></para>
    <orderedlist>
    <listitem><para>'1.5' / '0.5' did not work</para></listitem>
    <listitem><para>avg ('1.5') did not work</para></listitem>
    <listitem><para>5 * '1.5' produced an INT result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>sum ('1.5') produced a NUMERIC(15, 2) result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>- '1.5' did not work</para></listitem>
    </orderedlist>

    <para><emphasis>Dialect 3</emphasis></para>
    <itemizedlist>
    <listitem><para>'1.5' * '0.5' and '1.5' / '0.5' were not forbidden, but they should have been.</para></listitem>
    </itemizedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1250150</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a situation where a
    procedure could not be dropped.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1238104</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Internal sweep report was
    incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1371274</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The infamous <quote>Datatype
    unknown</quote> error when attempting some castings has been eliminated.  It is now possible to use CAST to
    advise the engine about the data type of a parameter.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ORDER BY with FOR UPDATE WITH
    LOCK would trash the index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1368741</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UPPER() was returning wrong
    results.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-psql">
    <title>PSQL Bugs</title>

    <para><emphasis>(CORE-921)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug in EXECUTE 
    STATEMENT implementation could cause a core dump during PSQL execution.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1422471</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory leak was exhibited
    in EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ROW_COUNT was getting
    cleared after SUSPEND execution.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1124720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem with &quot;FOR EXECUTE
    STATEMENT ... DO SUSPEND;&quot;</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory leakage was
    occurring when selectable stored procedures were called from PSQL or in subqueries.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The wrong error would be
    reported when non-active contexts were accessed in multi-action triggers.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An internal error was
    reported when attempting to pass/return blobs to/from string functions inside PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-crash">
    <title>Crash Conditions</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A crash could occur if 
    some bad client passed more than the supported number of remote protocol versions.</para>
    <para><emphasis>fixed by A. Karyakin, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An AV could occur when the
    server was configured to use TCP packets as large as 32 Kb.</para>
    <para><emphasis>fixed by C. Valderrama, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash if a
    positioned UPDATE/DELETE executed via DSQL was referencing a cursor that had already been released.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Certain DDL actions could
     crash the server.</para>
     <para><emphasis>Example of a problem action</emphasis></para>
     <literallayout class="monospaced">
    alter table rdb$relations
      add rdb$garbage varchar(30);
    </literallayout>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An overflow in the plan
    buffer would cause the server to crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible server
    lockup/crash when 'RELEASE SAVEPOINT xxx ONLY' syntax is used or when existing savepoint name is reused in
    transaction context</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rare client crashes caused by
    improperly cleaned XDR packets.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server crash during
    SuperServer shutdown</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1057538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    the output parameter of a UDF was not the last parameter.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of possible
    server crash conditions had been reported by Valgrind.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when a wrong
    type or domain name was specified when changing the data type for a column.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect accounting of
    attachment pointers used inside the lock structure was causing the server to crash.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, random crashes
    would occur during a restore.</para>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash/lock-up with
    multiple calls of isc_dsql_prepare for a single statement.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the system year was set too high or too low.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the stream number exceeded the limit.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when outer
    aggregation was performed and explicit plans were used in subqueries.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECLARE FILTER would
    cause the server to crash.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash when a
    PLAN for a VIEW was specified but no table alias was given.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash during
    the table metadata scan in some cases.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    too big a key was specified for an index retrieval.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    manipulating input DPB due to memory corruption in Parameter Blocks management.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    attempting to restore a database backup with corrupted VARCHAR data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-remote">
    <title>Remote Interface Bugs</title>
    
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP buffer size 
    larger than 32 Kb was not being processed correctly.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The NO_NAGLE option was 
    working improperly.</para>
    <para><emphasis>fixed by F. Polizo, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NO_NAGLE and KEEPALIVE socket options
    were not enabled for CS builds.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1385092</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP connection would
    appear to freeze the Superserver if it was disconnected abnormally while a large packet, e.g. a BLOB or a large
    SQL request, was being passed across the interface.</para>

    <para>This was a long-standing InterBase/Firebird bug in the implementation of the protocol layer for
    Superserver on Windows.  Borland invented two different thread management strategies:  one for TCP/IP and one
    for the other protocols that only Windows supports, i.e. Named Pipes (sometimes referred to
    as <quote>NetBEUI</quote>) and the IPServer local connection.  This bug occurred only with TCP/IP
    connections.</para>

    <para>For TCP/IP, a multiplexing loop (main server loop), which is common for all ports, receives API
    packets from clients, creates requests and sends them to threads for processing.  When it detects an incoming
    packet, it starts to receive it from the port.</para>

    <para>Before this fix, it needed the entire API packet to come at once.  However, in the course of converting
    a packet to a request (done by the XDR protocol), in cases where the size of the API packet happened to be
    greater than that of the network packet, the server had to wait for the next network packet from the port.</para>

    <para>At this point, ports were being scanned for incoming packets only by calculating (timeout - interval
    since last packet received) for each port in the loop.  If the next packet from a particular port did not come,
    for example because of an unplugged jack, the only way to interrupt this receive and allow the main server
    loop to carry on processing the other ports was to wait for the keepalive TCP timeout to elapse on the abandoned
    connection.  Given that the default keepalive value is two hours, it would appear that the Superserver
    was <quote>hung</quote>.</para>

    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1260310</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nessus vulnerability scanning
    could cause the server to drop connections.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #571026</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>INET/INET_connect:
    gethostbyname was not working properly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223058</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Multi-hop server capability
    was broken.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed memory leak from
    connection pool in isc_database_info.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database aliases were not
    working in WNET.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Client would crash while
    disconnecting with an active event listener.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would
    not react to environment variables being set via SetEnvironmentVariable().</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-index">
    <title>Indexing &amp; Optimization</title>

    <para><emphasis>SF #459059D</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Index breaks = ANY result.
    MORE INFO REQUIRED.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Ambiguous queries were still
    possible under some conditions.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #735720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SELECT ... STARTING WITH :v
    was wrong when :v = ''</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    negative dates, i.e. those below Julian date [zero], when stored in indices.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211354</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Redundant evaluations were
    occurring in COALESCE.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;index key too
    big&quot; would occur when creating a descending index.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242982</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug in compound index key
    mangling.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-vulnerabilities">
    <title>Vulnerabilities</title>

    <para><emphasis>SF #1466193</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Semaphore array`s
    permissions in fb_lock_mgr were 0666 - i.e., anyone could lock them and block all subsequent queries.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible buffer overflow
    in WNET.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Several buffer overflows
    were fixed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1155520</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a vulnerability that
    could make it possible for a user who was neither SYSDBA nor owner to create a database that would overwrite an
    existing database.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-isql">
    <title>ISQL Bugs</title>

    <para><emphasis>SF #781610</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comments in ISQL using '--'
    were causing problems.</para>
    <para><emphasis>fixed by J. Bellardo, B. Rodriguez Samoza</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL_disconnect_database
    was overwriting the Quiet flag permanently.</para>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1208932</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SHOW GRANT did not
    distinguish object types.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #494981</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad exception report.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #450404</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL would uppercase role in
    the command line.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various, not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Fix for the -b (Bail On Error) option when SQL commands are issued and no db connection
    exists yet.</para></listitem>
    <listitem><para>Applied Miroslav Penchev's patch for bug with -Q always returning 1 to the operating system,
    discovered by Ivan Prenosil.</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extraction for
    triggers, check constraints and views with check option was wrong.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-intl">
    <title>International Character Set Bugs</title>

    <para><emphasis>SF #1016040</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Missing external libraries
    would cause an engine exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Charset/collation issues for expression-based view columns</para></listitem>
    <listitem><para>Lost charset/collation for local PSQL variables</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comparisons between
    strings in NONE and another character set would cause an error.</para>
    <para><emphasis>fixed by D. Yemanov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1244126</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a problem updating
    some text BLOBs when connected with character set NONE.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242379</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Applying a collation could
    change a VARCHAR's length</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-sqlprivs">
    <title>SQL Privileges</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Permissions were not being
    checked for view columns.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Privileges granted to
    procedures/triggers/views were being preserved after the object had been dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column-level SQL privileges
    were being preserved after the affected column was dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223128</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SYSDBA could grant
    non-existent roles</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

     <section id="bug-udf">
    <title>UDF Bugs</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were thread safety
    issues in datetime functions of the FBUDF library.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The UDF AddMonth() in the UDF
    library FBUDF had a bug that displayed itself when the calculation rolled the month past the end of the year.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Diagnostics when a UDF
    module was  missing/unusable needed improvement. </para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some problems
    with the mapping of UDF arguments to parameters.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF arguments were being
    prepared/optimized twice.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #544132, #728839</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nulls handling in
    UDFs was causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF access checking was
    incorrect.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gbak">
    <title>gbak</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    restoring if indexes used in explicit plans inside PSQL code had been dropped.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> could not restore a
    database containing broken foreign keys.</para>
    <para>Now, the restore continues to run, the user gets a diagnostic indicating which FK caused the problem.  
    The affected index becomes inactive and, after restore, the database is left in shutdown state.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> would stall when
    used via the Services Manager and an invalid command line was passed.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A computed column of a
    blob or array type would zero values in the first column of the table being restored.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed some backup issues with
    stream BLOBs that caused them to be truncated under some conditions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Interdependent views
    caused problems during the restore process.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750659</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If you want to start a fresh
    db, you should be able to restore a backup done with the metadata-only option. Generator values were resisting
    metadata-only backup and retaining latest values from the live database, instead of resetting the generators to
    zero.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #908319</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, wrong error
    messages would appear when using <emphasis>gbak</emphasis> with service_mgr.</para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1122344</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak -kill</emphasis> option would drop
    an existing shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>
    gbak</emphasis> was adding garbage
    bytes to the SPB when called in the -se[rvice_mgr] mode.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, C. Valderrama, V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-gpre">
    <title>gpre</title>

    <para><emphasis>SF #504978</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre variable names were
    being truncated.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #527677</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre &quot;ANSI85 compatible
    COBOL&quot; switch was broken.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103666</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was using inconsistent
    lengths</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103670</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre would invalidate a
    quoted cursor name after it was opened.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103683</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was not checking the
    length of the DB alias.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103740</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre did not detect duplicate
    quoted cursor names</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre could not generate
    more than 32,000 identifiers.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    </section>

    <section id="bug-gstat">
    <title>gstat</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error output by 
    <emphasis>gstat</emphasis> on Windows 32 was incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-lockprint">
    <title>fb_lock_print</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>fb_lock_print could fail,
    with an exception message <quote><emphasis>the requested operation cannot be performed on a file with a
    user-mapped section open.</emphasis></quote></para>
    <para><emphasis>fixed by V. Horsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-linux-install">
    <title>Linux Installs</title>
    <para><emphasis>SF #1011401</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The start/stop script was
    breaking halt/reboot on Slackware.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-cleanup">
    <title>Code Clean-up</title>
    <para><emphasis>(Not a bug)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>-L[ocal] command-line switch
    for SS on Win32 is gone</para>
    <para><emphasis>by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Assorted clean-up</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <itemizedlist>
    <listitem><para>Extensive, ongoing code cleanup and style standardization</para></listitem>
    <listitem><para>Broken write-ahead logging (WAL) and journalling code is fully cleaned out</para></listitem>
    </itemizedlist>
    <para><emphasis>by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-platform">
    <title>Platform-specific</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(SuSE Linux) Service would not
    restart correctly on SuSE Linux.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    
    <para><emphasis>(CORE-839)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(Windows) 
    Instclient.exe failed to install gds32.dll over an existing version from V1.5.1 or later.</para>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>
    <!-- End Level 1 section, inserted in 201 -->
    </section>
  </chapter>