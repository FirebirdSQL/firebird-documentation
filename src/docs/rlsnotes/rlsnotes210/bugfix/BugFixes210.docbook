<!--
<chapter id="rnfb21-bug">
  <chapterinfo>
    <title>Bugs Fixed During Firebird 2 Development</title>
  </chapterinfo>
-->

  <section id="bug210" xreflabel="Firebird 2.1"><!-- Level 1 -->
    <title>Firebird 2.1.x</title>

    <!-- ===================================== -->
    <!-- Firebird 2.1.6 -->
    <!-- ===================================== -->
    <section id="bug-216" xreflabel="Firebird 2.1.6 Bugfixes"><!-- Level 2 -->
      <title>Firebird 2.1.6</title>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1.5 (Update 1):</para>

      <section id="bug-216-engine"><!-- Level 3 -->
        <title>Core Engine</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4302">(CORE-4302)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Lookup (or scan) in a descending index could be very
        inefficient for some keys.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4214">(CORE-4214)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Global temporary tables (GTTs) were able to
        make references to permanent relations, which they must not.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4144">(CORE-4144)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>context already in use (BLR error)</quote>
        could occur when preparing a query with UNION.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4117">(CORE-4117)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A COMPUTED BY field was being evaluated as NULL
        if used as an exception parameter directly.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4051">(CORE-4051)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine was exhibiting a memory leak
        when sorting records larger than 32 KB.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4036">(CORE-4036)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bugcheck, or even database corruption,
        could occur when attempting to store long, uncompressible data into a table.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4002">(CORE-4002)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error message <quote>index unexpectedly
        deleted</quote> could occur in a database trigger ON COMMIT TRANSACTION.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3940">(CORE-3940)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An I/O error could occur during a
        <function>GetFileSize</function> operation.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3895">(CORE-3895)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>High memory usage was exhibited when PSQL
        code was selecting from a stored procedure that modified some data.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3855">(CORE-3855)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Blobs, inserted into GLOBAL TEMPORARY TABLE
        ON COMMIT DELETE ROWS, could be placed into newly allocated pages even if there was enough free
        space on some existing data page.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3360">(CORE-3860)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UPDATE ... RETURNING ... would raise error -551
        (no permission to update) for a column present only in the RETURNING clause.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2966">(CORE-2966)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong results or unexpected errors could
        occur while sorting a large data set.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2165">(CORE-2165)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unnecessary index read could occur 
        when using a strict inequality condition.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-216-crash"><!-- Level 3 -->
        <title>Server Crashes</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4127">(CORE-4127)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash instead of reporting the error
        <quote>key size exceeds implementation restriction.</quote>.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4123">(CORE-4123)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash when executing a stored procedure
        called by a trigger.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4093">(CORE-4093)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash while converting an
        overscaled numeric to a string.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3859">(CORE-3859)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Too many different dynamic events could crash
        the server.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-216-remote"><!-- Level 3 -->
        <title>Remote Interface/DSQL</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4058">(CORE-4058)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A remote stack buffer overflow could occur.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2349">(CORE-2349)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A false <quote>Invalid SQLDA</quote> error
        could occur.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-216-intl"><!-- Level 3 -->
        <title>International Language Support</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2912">(CORE-2912)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An exception would occur when uppercasing a
        string with lowercase y trema (code 0xFF in ISO8859_1).</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-216-posxspecific"><!-- Level 3 -->
        <title>POSIX-Specific</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4011">(CORE-4011)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Start/stop status was not being detected for
        SuperClassic and SuperServer running under Red Hat and Mageia.</para>
        <para><emphasis>fixed by P. Makowski</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-216-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>

        <section id="bug-216-utils-qli"><!-- Level 4 -->
          <title>qli</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4327">(CORE-4327)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>QLI would throw an exception when copying
          NULL blobs between databases.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section>

        <section id="bug-216-utils-fbsvcmgr"><!-- Level 4 -->
          <title>fbsvcmgr</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4298">(CORE-4298)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>fbsvcmgr would not recognise <emphasis>sts_record_versions</emphasis>
          and other <emphasis>sts</emphasis> switches.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-216-utils-gbak"><!-- Level 4 -->
          <title>gbak</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3875">(CORE-3875)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> was not checking parameters
          correctly and could back up a random database with -B <quote>:</quote> argument.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-216-utils-nbackup"><!-- Level 4 -->
          <title>nBackup</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2648">(CORE-2648)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Foreced Writes setting of the database was
          being ignored when writing to the delta file.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

      </section>

      <section id="bug-216-installers"><!-- Level 3 -->
        <title>Installers</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4323">(CORE-4323)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The V.2.1.5 64-bit Windows zip kit
        was missing <filename>fbsvcmgr.exe</filename>.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

    </section>

    <!-- ===================================== -->
    <!-- Firebird 2.1.5 with Security Update 1 -->
    <!-- ===================================== -->
    <section id="bug-215_su1" xreflabel="Firebird 2.1.5 Security Update 1 Bugfix"><!-- Level 2 -->
      <title>Firebird 2.1.5 Security Update 1</title>
      <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-4058">(CORE-4058)</ulink>
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A remote stack buffer overflow was discovered
      in the Firebird Server during March, 2013.  It allows an unauthenticated user to crash the server and
      opens a gate for remote code execution.</para>
      <para>All Firebird 2.1.x binaries released with build numbers 18946 or lower and all snapshot builds
      before 2013.03.08 have this vulnerability.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <!-- ============== -->
    <!-- Firebird 2.1.5 -->
    <!-- ============== -->
    <section id="bug-215" xreflabel="Firebird 2.1.5 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1.5</title>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1.4:</para>

      <section id="bug-215-engine"><!-- Level 3 -->
        <title>Core Engine</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3844">(CORE-3844)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Validation was failing to detect one specific
        case of index corruption.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3841">(CORE-3841)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database could become corrupted after
        inserting rows.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3834">(CORE-3834)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using a NATURAL JOIN with a derived table
        could crash the server.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3807">(CORE-3807)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>Invalid expression in the
        select list</quote> could be raised unexpectedly if a string literal was used inside a GROUP BY
        clause in a multi-byte connection.</para>
        <para><emphasis>fixed by D. Yemanov, A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3791">(CORE-3791)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Performance would degrade when actively working with
        databases bigger than the available amount of RAM.</para>
        <para><emphasis>fixed by N. Samofatov, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3761">(CORE-3761)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A conversion error would occur when using a blob
        as an argument for the EXCEPTION statement.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3736">(CORE-3736)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The WITH LOCK clause was being allowed for users
        with read-only rights on some table, causing others to be blocked from updating that table.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3730">(CORE-3730)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><command>isc_dsql_exec_immed2()</command>
        would lose input parameter values when they had been specified for a RETURNING clause.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3722">(CORE-3722)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>IS NOT DISTINCT FROM NULL was not
        using an index.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3697">(CORE-3697)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A string truncation error could occur
        when selecting from a VIEW containing a UNION.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3691">(CORE-3691)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The foreign key error message was missing
        the constraint name in Firebird 2.1.4.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3690">(CORE-3690)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Ambiguous queries were throwing the wrong
        warning message.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3677">(CORE-3677)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird's executables were exporting
        entry points, causing bugs when used in combination with some UDFs in embedded mode. The only
        exception is the Superserver binary, which must export the ISC API functions.</para>
        <para><emphasis>stopped by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3658">(CORE-3658)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>fbsvcmgr</emphasis> utility
        was connecting to the server under the operating system user name, rather than value of the
        <command>ISC_USER</command> environment variable.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3631">(CORE-3631)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicate records with NULLs were being
        checked incorrectly.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3579">(CORE-3579)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Dropping a table was blocked when
        a computed field depended on another column that was created after it.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3569">(CORE-3569)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CHAR(32767) was presenting in the XSQLVAR
        structure with a length of 32765.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3553">(CORE-3553)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A nested loop plan would be chosen
        instead of the <emphasis>sort merge</emphasis> for joining independent streams using keys of
        different types.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3549">(CORE-3549)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database corruption could occur after the
        end of a session, reporting the error <quote>page xxx is of wrong type expected 4 found 7</quote>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3515">(CORE-3515)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When validation detected index corruption, it
        was putting a <quote>missing entries</quote> message in the firebird log.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3510">(CORE-3510)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <command>gds_drop</command>
        utility would print an error when trying to shut down a missing lock manager process.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3479">(CORE-3479)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The internal function ASCII_VAL() would
        raise an exception when the argument was an empty string, instead of returning 0 as it should.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3464">(CORE-3464)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A dirty page could be written without
        releasing (or downgrading) its page lock. The result would be a bugcheck indicating either <quote>lock
        denied</quote> or <quote>lock conversion denied</quote>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3418">(CORE-3418)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database trigger created as INACTIVE
        would actually be created active.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3409">(CORE-3409)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A segmentation fault could occur
        after upgrading from v.2.1.3 to v.2.1.4.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3397">(CORE-3397)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>intl</emphasis> and
        <emphasis>trace</emphasis> libraries had unresolved symbols.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3394">(CORE-3394)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A failed attempt to violate a unique
        constraint could leave a superfluous <quote>lock conflict</quote> error in the status vector.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3355">(CORE-3355)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DATE and TIMESTAMP would be compared
        wrongly if an index was used.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3353">(CORE-3353)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A predicate (blob_field LIKE ?) would describe
        the parameter as VARCHAR(30) rather than as BLOB.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3335">(CORE-3335)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Internal wrapping was occurring
        for the multi-byte blob SUBSTRING function and its boundary arguments, producing wrong results.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3296">(CORE-3296)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <quote>context already in use</quote> error
        would occur when the simple CASE function had an operand that was a subquery.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3245">(CORE-3245)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A SUBSTRING operation on a long BLOB
        would truncate the result to 32767 if the optional third argument was not present.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3233">(CORE-3233)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LIKE, STARTING and CONTAINING predicates
        would fail if the second operand was 32KB or larger.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3231">(CORE-3231)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The OVERLAY() function would fail when used
        on text BLOBs containing multi-byte characters.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3092">(CORE-3092)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ROW_COUNT was not being cleared before
        a singleton INSERT statement.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2422">(CORE-2422)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server was failing to switch between
        multiple locations configured in <emphasis>TempDirectories</emphasis> when the first one ran out
        of free space.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-1992">(CORE-1992)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A valid but complex UNION query could fail
        with the error <quote>Bad BLR -- invalid stream for union select</quote>.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-215-crash"><!-- Level 3 -->
        <title>Server Crashes</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3557">(CORE-3557)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash while preparing a
        query against a table that was in the process of being dropped.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3554">(CORE-3554)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash during prepare, or
        throw an incorrect parsing error, if the remotely passed SQL query was empty.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3524">(CORE-3524)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash while compiling
        a stored procedure that was in use.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3517">(CORE-3517)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The built-in function <command>LPAD()</command>
        would crash the server with a string passed as the second parameter.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3440">(CORE-3440)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
        <command>isc_que_events()</command> had no events queued.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3374">(CORE-3374)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash or corrupt data if
        SELECT WITH LOCK was issued against records not in the latest format.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3320">(CORE-3320)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some forms of the MERGE syntax could cause
        the server to crash.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-215-dbmon"><!-- Level 3 -->
        <title>Database Monitoring</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3625">(CORE-3625)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>MON$IO_STATS was not reporting page writes
        performed asynchronously (at the AST level).</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3138">(CORE-3138)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An internal error or a crash would occur when
        accessing any MON$ table after altering its structure.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2286">(CORE-2286)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting from MON$CALL_STACK from within
        a PSQL module could return no rows in some cases.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-215-remote"><!-- Level 3 -->
        <title>Remote Interface/DSQL</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3724">(CORE-3724)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could hang when working
        with events.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3351">(CORE-3351)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A Windows client could put 10054 network error
        messages into the firebird log at connection time.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-215-posxspecific"><!-- Level 3 -->
        <title>POSIX-Specific</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3721">(CORE-3721)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The multi-user server startup script
        <filename>(/etc/init.d)</filename> was picking up the <emphasis>ISC_</emphasis> variables if
        they were set.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3447">(CORE-3447)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Code changes in the Linux ICU libraries
        beyond ICU v.4.2 were preventing the installation of collations.</para>
        <note>
          <para>The Tracker report makes interesting reading.</para>
         </note>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3388">(CORE-3388)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird would not build on Fedora Core.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-215-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>

        <section id="bug-215-utils-gbak"><!-- Level 4 -->
          <title>gbak</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3733">(CORE-3733)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> was failing to fix
          system generators while restoring.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-215-utils-isql"><!-- Level 4 -->
          <title>isql</title>

          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3461">(CORE-3461)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DDL operations could fail after
          backup/restore.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-1782">(CORE-1782)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>isql</emphasis> utility would
          crash when fetching data for a column having an alias longer than 30 characters.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section>

        <section id="bug-215-utils-nbackup"><!-- Level 4 -->
          <title>nBackup</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3521">(CORE-3521)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The contents of the Delta file were not
          being flushed to disk.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3468">(CORE-3468)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Read beyond the end of file was being
          attempted when <emphasis>nbackup</emphasis> state was stalled.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>



      </section>



    </section><!-- end of v.2.1.5 section -->

    <!-- ============== -->
    <!-- Firebird 2.1.4 -->
    <!-- ============== -->
    <section id="bug-214" xreflabel="Firebird 2.1.4 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1.4</title>
      <tip>
        <para>If some of the descriptions are too brief for you, you might find more detail on the 
        same bug by searching the description provided in the
        <link linkend="bug-206-bugsfixed">Firebird 2.0.6 section</link> (below).</para>
      </tip>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1.3:</para>

      <section id="bug-214-engine"><!-- Level 3 -->
        <title>Core Engine</title>
        
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3285">(CORE-3285)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>100% CPU usage (endless loop) inside the 
        lock manager.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3262">(CORE-3262)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The LIST function would truncate the last 
        part of the result sometimes.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3244">(CORE-3244)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The POSITION function would give a wrong result 
        with an empty string, if the optional third argument was present.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3228">(CORE-3228)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The RIGHT() function would fail with multibyte text 
        blobs longer than 1024 characters.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3227">(CORE-3227)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The ASCII_VAL() function would fail if the argument 
        contained a multi-byte character anywhere.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3208">(CORE-3208)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Recursive queries were prone to significant memory 
        leaks.</para>
        <para><emphasis>fixed by D. Yemanov, V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3188">(CORE-3188)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The exception <quote>Page 0 is of wrong
        type (expected 6, found 1)</quote> was occurring when the exception condition did not really 
        exist.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3148">(CORE-3148)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Dangerous code was discovered in 
        <emphasis>SQZ_apply_differences</emphasis>.</para>
        <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3137">(CORE-3137)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Partial rollback was possible for a 
        selectable procedure that was also modifying data.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3115">(CORE-3115)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs were found in the internal record 
        compression routines.</para>
        <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3091">(CORE-3091)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The built-in function POWER(X, Y)
        would not work when the X argument was negative and the Y value was a scaled numeric with 
        scale 0.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3079">(CORE-3079)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A transaction that involved events would 
        slow down inserts in the same transaction markedly. </para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3067">(CORE-3067)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Objects were not being unmapped when 
        shared memory was closed.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3064">(CORE-3064)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using both the procedure name and an alias 
        for it inside an explicit plan would crash the server.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3041">(CORE-3041)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine could hang when working with 
        a read-only database.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3034">(CORE-3034)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unhandled exception condition could 
        throw <quote>Bugcheck 300 (can't find shared latch)</quote>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3016">(CORE-3016)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On disconnect, the engine could erroneously 
        report <quote>Fatal lock manager error: invalid lock id (0), errno: 0</quote> in firebird.log.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3015">(CORE-3015)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Various occurrences of <quote>Cannot 
        initialize the shared memory region</quote> errors were being reported.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2999">(CORE-2999)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The message <quote>SCH_validate --
        not entered</quote> was being logged in firebird.log when a Classic server connection that had
        used events was finished.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2995">(CORE-2995)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The same error was being reported twice
        in the status vector.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2977">(CORE-2977)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server worked incorrectly with
        indexed fields of type DATE in ODS 9.x and older databases.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2969">(CORE-2969)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>RDB$SET_CONTEXT would not allow any 
        variables to be overwritten once the number of variables had reached the 1000 limit.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2956">(CORE-2956)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some problems were occurring with requests
        involving procedure parameters.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2943">(CORE-2943)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Errors could occur while parsing a recursive
        query with more than one recursive part.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2936">(CORE-2936)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>Wrong page type
        (expected 7 found N)</quote> was being reported when it should not have been.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2916">(CORE-2916)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error handling was found to be broken for 
        the condition where a conversion error happened during index creation.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2879">(CORE-2879)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A sweep could raise the error  <quote>Page 0
        is of wrong type (expected 6, found 1)</quote>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2871">(CORE-2871)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An outer ORDER BY clause would have
        no effect.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2858">(CORE-2858)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory could be trashed when raising some
        exceptions to signal failed security checks.</para>
        <para><emphasis>fixed by C. Valderrama C.</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

       <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2856">CORE-2856</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-NULL key in a unique index could not
        be found when the key was removed</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2833">CORE-2833</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Changing data that affected an expression
        index would fail if that data contained references to null date fields.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2827">(CORE-2827)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Prepare for complex interrelated
        metadata, where many triggers were indirectly involved in the operation being prepared, was very
        slow.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2826">CORE-2826</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Join condition would fail for
        UTF-8 databases.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2822">CORE-2822</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>no current row for fetch operation</quote>
        was being thrown when a subquery included a non-trivial derived table.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2820">CORE-2820</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Queries with PLAN ORDER were exhibiting
        small memory leaks as a side effect of an earlier, major fix.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2815">CORE-2815</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Tidy-up of a logic condition that could cause
        the page inventory page to be marked for change after it was already changed.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2785">CORE-2785</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An improperly handled BLOB transliteration problem
        showed up under specific conditions, viz., where an input argument string in single-byte Cyrillic text,
        for storing as COMMENT with an object definition, overstepped the maximum 64 KB size of a non-initial BLOB
        segment when transliterated.  Its surplus bytes were causing an immediate transliteration error instead of
        being deferred for inclusion in the subsequent chunk, as they should have been.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2783">CORE-2783</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An access violation would occur when a
        recursive query was used as a subquery in the SELECT list and its result was specified as an
        ORDER BY criterion.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2720">(CORE-2720)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Divide and unary plus\minus operations were
        being performed with the wrong evaluation result.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2698">(CORE-2698)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Infinite wait was occurring
        in <emphasis>LocksCache::get</emphasis>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2684">(CORE-2684)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>Page NNN is of wrong type
        (expected 7, found N)</quote> was being reported erroneously.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2679">(CORE-2679)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Applications using the embedded server
        could hang while exiting.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2675">(CORE-2675)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Every blob transliteration would cause
        a small memory leak.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2640">CORE-2640</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under some conditions, the lock manager
        could fail to detect a regular deadlock and cause the server to hang.</para>
        <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2635">CORE-2635</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A unique index could be corrupted at level 1
        if it contained a lot of NULL keys.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2616">CORE-2616</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>page &lt;N&gt; is of wrong
        type (expected 7, found 5)</quote> could occur under load, giving the impression that something
        had corrupted the database.  On restart, there would be no evidence of corruption.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2591">CORE-2591</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>High mutex wait ratio and degraded performance
        would start to show up after a period of normal performance.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2578">CORE-2578</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting RDB$DBKEY from a view
        with more than one table joined would return a conversion error.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes, A Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2532">CORE-2532</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Volume sizes in a multi-volume
        database were being assigned incorrectly.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2507">(CORE-2507)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CreateFile could fail
        intermittently.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2301">(CORE-2301)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A query such as <function>select list(xxx, ';')
        from table into :xxx</function> could cause a memory leak.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2289">CORE-2289</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The wrong name was being reported
        for the referenced primary key when a foreign key violation occurred during foreign
        key creation.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2215">(CORE-2215)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A GROUP BY expression involving
        concatenation with an empty string could cause problems.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-1752">(CORE-1752)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Results of a join with different collations
        varied depending on the execution plan.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1346">CORE-1346</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LPAD() and RPAD() functions hit
        implementation restrictions when applied to more than one column in a statement.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-1274">(CORE-1274)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When PLAN MERGE was chosen and the data
        types of the equality predicate arguments were different, the query produced wrong results.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1089">CORE-1089</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting from a view that used DISTINCT
        and LEFT JOIN returned records in the wrong order if the ORDER BY clause did not include columns
        from the right-side (non-mandatory) table.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-195">CORE-195</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression of an old bug, previously
        fixed in v.1.5.1, whereby a bugcheck 291 (cannnot find back record version) would occur when
        updating the same record that had already fired an action in a BEFORE UPDATE trigger. The
        regression that was reintroduced in v.2.0 was less destructive, insofar as it affected only
        the record that was physically first in the table.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-214-crash"><!-- Level 3 -->
        <title>Server Crashes</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3050">(CORE-3050)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A race condition in
        <emphasis>LocksCache::get()</emphasis> could lead to an AV in the engine.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2914">(CORE-2914)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash while restoring
        a database having an expression index that referred to a non-existent UDF.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2908">(CORE-2908)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine could crash or raise unexpected
        errors working with ODS 8.x database.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2900">(CORE-2900)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash while evaluating
        the DISTINCT aggregate.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2888">(CORE-2888)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory corruption could occur that
        caused incorrect query evaluation and could crash the server.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-214-dbmon"><!-- Level 3 -->
        <title>Database Monitoring</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3218">(CORE-3218)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A statement cancellation request could be silently
        ignored by the currently running SQL code.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3011">(CORE-3011)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could hang or crash while monitoring
        connections that were repeatedly attaching and detaching.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2993">(CORE-2993)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The fatal lock manager error <quote>Invalid
        lock id (NNN)</quote> could occur while working with monitoring tables on a highly loaded system.</para>
        <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2632">CORE-2632</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Unexpected <quote>Invalid BLOB ID</quote> errors
        could occur when working with the monitoring tables.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-214-remote"><!-- Level 3 -->
        <title>Remote Interface/DSQL</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3220">(CORE-3220)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The service function call
        <emphasis>isc_info_svc_get_users</emphasis> was returning the error message in the result cluster.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3205">(CORE-3205)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The DSQL function call <emphasis>isc_dsql_exec_immed2()</emphasis>
        was not returning the error codes for <emphasis>isc_stream_eof</emphasis> nor
        <emphasis>isc_sing_select_err</emphasis>.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3202">(CORE-3202)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>execute_immediate</emphasis> family
        of API calls family could crash the remote server.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3119">(CORE-3199)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The remote protocol code related to events
        processing could go into an endless loop, causing CPU usage to go to 100 per cent and
        stay there.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2084">(CORE-2084)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A security problem was discovered in
        the Services API.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-214-intl"><!-- Level 3 -->
        <title>International Language Support</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3131">(CORE-3131)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The WIN1257_LV (Latvian) collation for four
        letters (A, E, I and U) was incorrect.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2122">CORE-2122</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Translation of large text blobs between
        UNICODE_FSS / UTF8 and other charsets had bugs.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes, D. Kovalenko</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-214-winspecific"><!-- Level 3 -->
        <title>Windows-Specific</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2356">(CORE-2356)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Windows, the <quote>listener</quote>
        process of Classic server could not create the necessary resources after restart if any worker
        process was present.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2107">CORE-2107</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Establishing a TCP\IP connection to the
        Windows Classic Server could fail under high load.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-214-posxspecific"><!-- Level 3 -->
        <title>POSIX-Specific</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3019">(CORE-3019)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver startup was failing on
        Linux Gentoo.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3001">(CORE-3001)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The POSIX installation routine was
        failing to create the <quote>firebird</quote> user and group.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2919">(CORE-2919)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The POSIX installation script
        was ignoring non-standard ports.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2865">(CORE-2865)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A segmentation fault would occur when
        the Superserver binary on POSIX was restarted.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2845">CORE-2845</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The build process on Solaris would stop
        with the message: <quote>need to use SFIO</quote>. On the whole, Solaris 10 no longer requires
        SFIO - the 64-bit builds do not suffer the issue with the maximum 255 file descriptors and there
        are simple work-arounds for 32-bit builds.
        See <ulink url="http://developers.sun.com/solaris/articles/stdio_256.html">this article</ulink> for
        details.</para>
        <para>However, the issue still affects Solaris 10 3/05 through Solaris 10 11/06.
        <ulink url="http://paulbeachsblog.blogspot.com/2008/07/solaris-and-256-file-descriptor-problem.html">Some
        patches</ulink> are needed to correct the problem.</para>
        <para>For the time being, the easiest solution is to leave the <emphasis>define</emphasis> in the code,
        but comment it with the relevant information for Solaris 10. The <emphasis>define</emphasis> can be
        removed if the patches have been applied or the user is running an unaffected version of Solaris 10.</para>
        <para>Updated information concerning this issue has been inserted into <emphasis>common.h</emphasis>.
        Anyone building 32-bit Firebird on Solaris 10 will have to make an informed decision according to the
        version and build/patch level of Solaris before uncommenting the SFIO define.</para>
        <para><emphasis>fixed by P. Beach</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2814">CORE-2814</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On SPARC, the server was crashing in the
        routine <function>map_sort_data</function> with a bus error.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2572">CORE-2572</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Locks of type LCK_page_space were being
        processed incorrectly on big-endian machines.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-214-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>

        <section id="bug-214-utils-gbak"><!-- Level 4 -->
          <title>gbak</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3003">(CORE-3003)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <quote>suspend check</quote> on a
          stored procedure could cause a <emphasis>gbak</emphasis> restore to fail.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2793">CORE-2793</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The binary representation of a backup file
          was demonstrated to be not consistent from one backup to another, when tested over multiple
          backup/restore cycles of the same data.  It was reported as applicable to all <emphasis>gbak</emphasis>
          versions since v.1.5.4.  To date, it has been fixed here, in v.2.5.0 and in the v.3.0 alpha.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2634">CORE-2634</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A regression had arisen whereby performance
          dropped when restoring a database with a large amount of metadata.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-214-utils-nbackup"><!-- Level 4 -->
          <title>nBackup</title>
          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2648">CORE-2648</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup's delta file was not respecting the
          <quote>Forced Writes</quote> database setting.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>

          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2539">(CORE-2539)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>nBackup</emphasis> was not
          deleting the Delta file after a backup completed.</para>
          <para><emphasis>fixed by R. Simakov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-214-utils-isql"><!-- Level 4 -->
          <title>isql</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2741">CORE-2741</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extract would misinterpret the
          DDL of a CHECK constraint if the CHECK keyword was in any character mix other than all lower
          case or all upper case.</para>
          <para><emphasis>fixed by C. Valderrama C.</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2831">CORE-2831</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database and user name should not be
          in the output when a script is extracted.</para>
          <para><emphasis>fixed by C. Valderrama</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>

        <section id="bug-214-utils-gfix"><!-- Level 4 -->
          <title>gfix</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2846">CORE-2846</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If <command>gfix -shut &lt;mode&gt; -attach &lt;timeout&gt;</command>
          failed after the specified timeout due to connections being still active, connection to the
          database would become impossible.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
        </section>

        <section id="bug-214-utils-gpre"><!-- Level 4 -->
          <title>gpre</title>
          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-3022">(CORE-3022)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gpre</emphasis> was not giving
          C++ compiler warnings with GCC 4.4.1.</para>
          <para><emphasis>fixed by D. Dodson</emphasis></para>
        </section>

        <section id="bug-214-utils-gstat"><!-- Level 4 -->
          <title>gstat</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2519">CORE-2519</ulink>)
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Output from gstat was incorrect for tables
          with more than 2 billion records.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section>
 
        <section id="bug-214-utils-gsec"><!-- Level 4 -->
          <title>gsec</title>

          <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2928">(CORE-2928)</ulink>
          </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overflow was discovered
          in <emphasis>gsec</emphasis>.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>

        </section>
      </section>

      <section id="bug-214-udf"><!-- Level 3 -->
        <title>User-defined Functions</title>

      </section>

    </section>
    <!-- ============== -->
    <!-- Firebird 2.1.3 -->
    <!-- ============== -->
    <section id="bug-213" xreflabel="Firebird 2.1.3 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1.3</title>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1.2:</para>

      <section id="bug-213-engine"><!-- Level 3 -->
        <title>Core Engine</title>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2564">(CORE-2564)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bus errors would be thrown when
        working with the monitoring tables on RISC machines.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2550">(CORE-2550)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bus errors would be thrown when working
        with DB_KEY on big-Endian machines.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2475"><emphasis>(CORE-2475)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In Classic, external table data was visible only
      to the session that had operated on it. </para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2449"><emphasis>(CORE-2449)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unexpected <quote>lock conflict</quote> error
      could be thrown instead of the appropriate exception.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2444"><emphasis>(CORE-2444)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine could hang when too many attachments
      were registering their interest in events simultaneously and exhausting free space in the events
      table.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2441"><emphasis>(CORE-2441)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash on executing an
      'UPDATE OR INSERT' statement.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

         <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2416"><emphasis>(CORE-2416)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Preparing a query with aggregation over a
          derived table could cause an access violation.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

         <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2415"><emphasis>(CORE-2415)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird would crash when temporary space was
          exhausted.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2397"><emphasis>(CORE-2397)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database corruption could occur if two different
      indexes on a table were dropped within the same transaction.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2355"><emphasis>(CORE-2355)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LOWER() and UPPER() functions would misbehave when
         the byte length of the result was smaller than the input string.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2348"><emphasis>(CORE-2348)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problems with transaction numbers overflowing 32-bit
        signed integer and corrupting databases were appearing again.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2340"><emphasis>(CORE-2340)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 258 (page slot not empty) could occur
        under high concurrent load.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2320"><emphasis>(CORE-2320)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Complex recursive queries might not produce all
        rows.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2313"><emphasis>(CORE-2313)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A boundary condition could cause INF_* functions
        to invalidate the whole output buffer with <emphasis>isc_info_truncated</emphasis> at the
        beginning.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2311"><emphasis>(CORE-2311)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory leak was possible in a WITH RECURSIVE
        query.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2306"><emphasis>(CORE-2306)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver would terminate abnormally when a
        thread start failed.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2291"><emphasis>(CORE-2291)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 284 (cannot restore singleton select
        data) would occur in PSQL code involving some subqueries.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1961"><emphasis>(CORE-1961)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 210 (page in use during flush) was being
        thrown during database validation.</para>
        <para><emphasis>fixed by D. Yemanov, R. Simakov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1690"><emphasis>(CORE-1690)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Arithmetic exception, numeric overflow, or string
        truncation in UTF8 tables.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1647"><emphasis>(CORE-1647)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The file associated with an external table needed to
        be closed after use, even if it was still apparently in use by some cached (inactive) requests.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

      </section><!-- level 3 -->

      <section id="bug-213-optmzr"><!-- Level 3 -->
        <title>Optimizer</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2411"><emphasis>(CORE-2411)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer was choosing slower plans
      in v.2.0.5 and v2.1.2 than it would for the same queries in v.2.0.4 and v.2.1.1.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1607"><emphasis>(CORE-1607)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A correlated subquery that depended on the UNION
        stream would be optimized poorly.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
      </section>

      <section id="bug-213-dbmon"><!-- Level 3 -->
        <title>Database Monitoring</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2531">CORE-2531</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The famous <quote>cannot transliterate</quote>
         error could be thrown when selecting data from the monitoring tables.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2483"><emphasis>(CORE-2483)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The database permanent pool could get corrupted
      when working with monitoring tables.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2482"><emphasis>(CORE-2482)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Monitoring tables data collection could become
      unstable when attaching to or detaching from database.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
      </section>

      <section id="bug-213-remote"><!-- Level 3 -->
        <title>Remote Interface</title>
        <para><emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-2563">(CORE-2563)</ulink>
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to shut down the
        Superserver's main port (3050 by default) by sending a malformed packet of some special format, 
        that would lead to a Denial of Service condition for new incoming connections. This exploit 
        could be used by an unauthenticated client.</para>
        <para>Reported 15-Jul-2009 by Core Security Technologies.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2368"><emphasis>(CORE-2368)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An isc_cancel_events() call would be succeeded by
      an access violation if the event was not found.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>

         <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2437"><emphasis>(CORE-2437)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overflow could occur on a client during
      delivery of events.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2272"><emphasis>(CORE-2272)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would start returning garbage when
        killing an attempt by an event to connect.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

      </section>

      <section id="bug-213-winspecific"><!-- Level 3 -->
        <title>Windows-Specific</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1923"><emphasis>(CORE-1923)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>instsvc remove</quote> would return 1 (failure),
        even when execution was successful.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>

      </section>

      <section id="bug-213-posxspecific"><!-- Level 3 -->
        <title>POSIX-Specific</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2249"><emphasis>(CORE-2249)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error while building Firebird 2.1 on FreeBSD 7.0.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2247"><emphasis>(CORE-2247)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On RISC platforms, message and descriptor buffers
        were not aligned properly.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
      </section>

      <section id="bug-213-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>

        <section id="bug-213-utils-gbak"><!-- Level 4 -->
          <title>gbak</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2245"><emphasis>(CORE-2245)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error on restoring a database with long exception
          texts from backup.</para>
          <para><emphasis>fixed by C. Valderrama</emphasis></para>
        </section>

        <section id="bug-213-utils-isql"><!-- Level 4 -->
          <title>isql</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2270"><emphasis>(CORE-2270)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL consumes all memory and crashes when running
          in zlogin console.</para>
          <para><emphasis>fixed by J. Swierczynski, A. Peshkov</emphasis></para>
        </section>

        <section id="bug-213-utils-lckprt"><!-- Level 4 -->
          <title>fb_lock_print</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2354"><emphasis>(CORE-2354)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>fb_lock_print -ia</quote> output was not
          being flushed to a file between iterations.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
        </section>
      </section>

      <section id="bug-213-udf"><!-- Level 3 -->
        <title>User-defined Functions</title>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2282"><emphasis>(CORE-2282)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>*truncate</emphasis> UDFs were broken
        for numbers smaller than -1.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2281"><emphasis>(CORE-2281)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>*round</emphasis> UDFs were broken for
        negative numbers.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>
      </section>


    </section><!-- level 2 -->

    <!-- ============== -->
    <!-- Firebird 2.1.2 -->
    <!-- ============== -->
    <section id="bug-212" xreflabel="Firebird 2.1.2 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1.2</title>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1.1:</para>

      <section id="bug-212-engine"><!-- Level 3 -->
        <title>Core Engine</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2329"><emphasis>(CORE-2329)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Discovered a significant source of performance
        degradation in comparison with V.1.5.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2326"><emphasis>(CORE-2326)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Committing a new user object (a view, for
        example) caused an access violation if a user-defined trigger had been applied to the system table
        RDB$RELATIONS.</para>
        <para>It should be noted that no Firebird server version either supports, or retains after a backup 
        and restore, any user-defined trigger on a system table.  The strong recommendation against defining
        such triggers remains.  The fix recognises one way that user interference with system tables can 
        compromise internal operations and disarms it.</para>
        <para>The ability to define <quote>DDL triggers</quote> through the regular DDL mechanisms is on
        the drawing board for V.3.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2242"><emphasis>(CORE-2242)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine was incorrectly populating integer containers in the blob parameter buffer (BPB) with integers in machine-local format, causing errors on Big Endian platforms.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2241"><emphasis>(CORE-2241)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If an ALTER TABLE ALTER COLUMN.. operation was performed on a table in the course of a bulk insert operation, minor index corruption could occur causing subsequent queries to return the wrong number of records.  The bug was traced to legacy code in BTR\compress_root().</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2227"><emphasis>(CORE-2227)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problems were occurring in some environments when creating triggers that referred to column names with accented characters.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2222"><emphasis>(CORE-2222)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Storing a text blob with a transliteration blob filter could cause an access violation in the engine.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2184"><emphasis>(CORE-2184)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver could hang when multiple clients were creating tables simultaneously.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2182"><emphasis>(CORE-2182)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was not possible to drop an existing UDF whose name was duplicated by the name of a new built-in function. </para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2173"><emphasis>(CORE-2173)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash after an abnormal disconnection if there was an open ExecuteStatement call.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2151"><emphasis>(CORE-2151)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When a temporary directory path had spaces within it, it was (wrongly) being truncated at the rightmost space.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2137"><emphasis>(CORE-2137)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database restore could crash the server when the configuration parameter <emphasis>DummyPacketInterval</emphasis> was set explicitly.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2098"><emphasis>(CORE-2098)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug in the implementation of Global Temporary Tables (GTT) allowed a GTT to be referred to in COMPUTED BY field expression.  Since GTTs do not store global <emphasis>data</emphasis>, such an attempt should have been before the engine could attempt to store dependency records for the expression. </para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2045"><emphasis>(CORE-2045)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A regression occurred at v.2.1, whereby references to non-existent system fields with <filename>blr_field</filename> were not being resolved to NULL, whereas a parallel change involving <filename>blr_fld</filename> was exhibiting the proper corrective behaviour.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2039"><emphasis>(CORE-2039)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Domain-level CHECK constraints were (wrongly) processing NULLs as <quote>zero values</quote>, i.e. null dates as <quote>date zero</quote> (1858-11-17), null numerics as zero, null strings as empty strings, etc.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2031"><emphasis>(CORE-2031)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The first record output from a query with a search condition on RDB$DB_KEY was being returned with NULL in the first column.</para>
        <para><emphasis>fixed by A. A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2026"><emphasis>(CORE-2026)</emphasis></ulink>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Temporary BLOBs (including implicit ones created when transliterating text from the BLOB character set to the connection one) could not be created while accessing a read-only database.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2008"><emphasis>(CORE-2008)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Procedure parameters that were declared NOT NULL were nevertheless being stored as nullable in RDB$PROCEDURE_PARAMETERS.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2000"><emphasis>(CORE-2000)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under high load conditions, the lock manager could report false deadlocks.</para>
        <para><emphasis>fixed by V. Horsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1984"><emphasis>(CORE-1984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Lock manager would report false deadlocks if one of the deadlock participants was in WAIT with a permitted timeout.</para>
        <para><emphasis>fixed by V. Horsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1970"><emphasis>(CORE-1970)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <quote>Lock conversion denied (bugcheck 215)</quote> error could occur.  This fix is related to CORE-1984 and CORE-2000 (above).</para>
        <para><emphasis>fixed by V. Horsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1963"><emphasis>(CORE-1963)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A server could crash on commit when privileges were being granted or revoked simultaneously from multiple connections. </para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1958"><emphasis>(CORE-1958)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When attempting to update the same record multiple times, a <quote>Bugcheck 179 (decompression overran buffer)</quote> failure could occur.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1930"><emphasis>(CORE-1930)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In a situation where a stored procedure was altered to remove output parameters and dependent procedures are not recompiled, the engine should properly track the dependencies and return an exception when the altered procedure is called.  Instead, it was crashing.</para>
        <para><emphasis>fixed by V. Horsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1506"><emphasis>(CORE-1506)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash with <function>isc_dsql_execute_immediate</function> and a zero-length string.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1596"><emphasis>(CORE-1596)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a length-related bug in CsConvert::convert that had to be revisited.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-svcs"><!-- Level 3 -->
        <title>Services API</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1982"><emphasis>(CORE-1982)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Simultaneous backups or restores using the Services API under Superserver could interfere with one another.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-dbmon"><!-- Level 3 -->
        <title>Database Monitoring</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2209"><emphasis>(CORE-2209)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Monitoring requests in high load conditions could become very slow and even block other activity during that time.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2171"><emphasis>(CORE-2171)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The column MON$CALLER_ID of table MON$CALL_STACK was reporting invalid IDs.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2017"><emphasis>(CORE-2017)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Monitoring tables were not keeping account of I/O statistics for stored procedures.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1944"><emphasis>(CORE-1944)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Monitoring tables contained wrong data on big-endian machines.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1926"><emphasis>(CORE-1926)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>MON$DATABASE was returning outdated transaction counters.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-optmzr"><!-- Level 3 -->
        <title>Optimizer</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2078"><emphasis>(CORE-2078)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer always had some trivial heuristics to estimate the effective stream selectivity, even if no indices could be used for the retrieval. This code missed being migrated into the ODS11 optimizer logic.  The effect was that join orders chosen for cases involving non-indexed predicates were likely to be ineffective.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2053"><emphasis>(CORE-2053)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Computed expressions may be optimized badly if used
        inside the RETURNING clause of the INSERT statement</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-212-dml"><!-- Level 3 -->
        <title>Database Manipulation Language (DML)</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2073"><emphasis>(CORE-2073)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The implementation of expression indexes exhibited a bug whereby an incorrect result was returned when an inverted Boolean predicate was applied to test an indexed expression.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2118"><emphasis>(CORE-2118)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>With an UPDATE OR INSERT statement, an insert would fail silently if the MATCHING operand was a subquery. </para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1962"><emphasis>(CORE-1962)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect extraction of MILLISECONDs:</para>
        <programlisting>
select extract(millisecond from time '01:00:10.1234')
from rdb$database
        </programlisting>
      would return 10123 instead of 123.4.
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-psql"><!-- Level 3 -->
        <title>Procedural Language (PSQL)</title>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2117"><emphasis>(CORE-2117)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect ROW_COUNT values were being returned with indexed retrieval and subqueries.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1919"><emphasis>(CORE-1919)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory corruptions in EXECUTE STATEMENT could crash the server.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-secur"><!-- Level 3 -->
        <title>Security</title>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2087"><emphasis>(CORE-2087)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When the configuration parameter <emphasis>RemoteBindAddress</emphasis> specified a hostname instead of an IP address, or specified a non-existent IP address, it would be silently ignored and the server would bind to all interfaces, without any notification in firebird.log or the system log.  This was considered a potential security risk if the system had ports open to the Internet.  Now, an invalid or unavailable IP address will be resolved to localhost (127.0.0.1).</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2084"><emphasis>(CORE-2084)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Services API security problem, specific to Firebird 2.1:  services would ignore the setting of the <emphasis>Authentication</emphasis> parameter in firebird.conf. Once a user was logged, any server-level operations not requiring a further login, such as viewing the firebird.log file or getting information about the server, etc., were accessible by any valid domain user.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2055"><emphasis>(CORE-2055)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Backported a fix for a known buffer overflow in the Firebird client library.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1972"><emphasis>(CORE-1972)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-SYSDBA user was able to change the Forced Writes mode of any database, along with several other database characteristics that should be restricted to the SYSDBA. This long-standing, legacy loophole in the handling of DPB parameters could lead to database corruptions or give ordinary users access to SYSDBA-only operations.  The changes could affect several existing applications, database tools and connectivity layers (drivers, components).  Details are in Chapter 3 of the V.2.1.2 Release Notes, in <emphasis>Changes to the Firebird API and ODS</emphasis>.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1957"><emphasis>(CORE-1957)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Because of a change done in the conversion to C++ at v.1.5, ACLs (Access Control Lists) longer than about 20 characters were being truncated.  This has caused particular problems for applications that construct access privileges in run-time and has also given rise to privileges <quote>going missing</quote> when there are more than about 2000 privileges (for a report of the latter, see <ulink url="http://tracker.firebirdsql.org/browse/CORE-216">Tracker issue CORE-216)</ulink>.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1922"><emphasis>(CORE-1922)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Trusted authentication would not work with the Services API.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-212-util">
        <title>Utilities</title>

        <section id="bug-212-util-gfix">
          <title>gfix Houskeeping Toolset</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2271"><emphasis>(CORE-2271)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>gfix</emphasis> utility had a legacy bug that exhibited itself during the database validation/repair routines on large databases. The privilege level of the user running these routines was being checked too late in the operation, thus allowing a non-privileged user (i.e., not SYSDBA or Owner) to start a validation operation.  Once the privilege check occurred, the database validation could halt in mid-operation and thus be left unfinished, resulting in logical corruption that might not have been there otherwise.</para>
         <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section>

        <section id="bug-212-util-nbackup">
          <title>nBackup Incremental Backup Utility</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2266"><emphasis>(CORE-2266)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>nBackup's database locking was not working correctly, causing database file growth to continue when database writes should have been in suspension.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section>

        <section id="bug-212-util-gbak"><!-- Level 4 -->
          <title>gbak Backup and Restore Utility</title>
          <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2223"><emphasis>(CORE-2223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gbak was encountering several bugs when operating on the access control lists (ACLs) that store SQL privileges.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1843"><emphasis>(CORE-1843)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Paths with spaces were being refused by gbak when it was called with the -se[rvice_mgr] switch. </para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section>
      </section>

      <section id="bug-212-posix"><!-- Level 3 -->
        <title>POSIX-specific</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2221"><emphasis>(CORE-2221)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, any attachment to any database would fail after the access rights for security2.fdb were modified from 0660 to 0666.</para>
        <para><emphasis>fixed by P. Beach, A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2157"><emphasis>(CORE-2157)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Known issue:  a bug in gcc 3.2.x, the compiler used to build the official x86 Linux packages, can cause problems when people try to build binaries that depend on the Firebird client without using the -pthread switch.  Setting the -pthread switch removes the dependency of the output binary on libpthread.</para>
        <para><emphasis>Reported by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2077"><emphasis>(CORE-2077)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, the Classic server in embedded mode, i.e., loaded into the user's application space, would handle the TERM signal but would fail to call any other signal handlers in the queue.  The effect was that signal handlers set by the application were not executed and the application would keep working after the termination.  It was a bad idea to invoke <function>ISC_signal_cancel()</function> from the signal handler and the mechanism has been reworked.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2050"><emphasis>(CORE-2050)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>semop()</function> system calls.</para>
        <para><emphasis>fixed by V. Horsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2049"><emphasis>(CORE-2049)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>sigprocmask()</function> system calls.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2033"><emphasis>(CORE-2033)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The symbol _Unwind_GetIP in the client library was being left unresolved due to a missing static library linkage.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1983"><emphasis>(CORE-1983)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In any POSIX environment except Solaris, the engine was mishandling the <quote>out of memory</quote> condition, causing the server to crash.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1909"><emphasis>(CORE-1909)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Garbage text was being printed to firebird.log on AMD64 Linux.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2093"><emphasis>(CORE-2093)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver startup was failing on Solaris 64-bit.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-212-win"><!-- Level 3 -->
        <title>Windows-specific</title>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2234"><emphasis>(CORE-2234)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Sometimes, terminated worker processes in Classic on Windows were still considered to be alive after termination, due to improper checks on the Firebird server's part.  The same bug could cause the Firebird server to misbehave with prolonged deadlocks when under load.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2108"><emphasis>(CORE-2108)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When using the new implementation of Windows local 
      protocol (XNET), the next available map number was calculated incorrectly, thus allowing the server to 
      try to reuse a map number that already existed. If the <quote>new</quote> map's timestamp was equal to 
      the timestamp of the pre-existing map, it would cause the <function>get_free_slot()</function> function 
      to fail.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-212-macosx"><!-- Level 3 -->
        <title>MacOSX-specific</title>
        <para><emphasis>Unregistered bug</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When Firebird is configured to run in some specific directory (/usr/local/firebird, /opt/firebird or any other) the @prefix@ macro should be substituted with that directory path. On MacOS it was not done and caused exceptions to be thrown when the engine tried to locate some of its components.
        </para>
        <para><emphasis>fixed by P. Beach</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2065"><emphasis>(CORE-2065)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The MacOSX installation package was in violation of platform rules by not including the client library in the dynamic loader search paths.</para>
        <para><emphasis>fixed by P. Beach</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

    </section>
    <!-- ============== -->
    <!-- Firebird 2.1.1 -->
    <!-- ============== -->
    <section id="bug-211" xreflabel="Firebird 2.1.1 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1.1</title>
      <para>The following bug fixes/reversions have been applied since the release of v.2.1:</para>

      <section id="bug-211-dbmon"><!-- Level 3 -->
        <title>Database Monitoring</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1890">CORE-1890</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The database monitoring process could hang under high
        load.</para>
        <para><emphasis>fixed by D. Yemanov, V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1881">CORE-1881</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database monitoring could crash the server or mess up
        its page-locking logic.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
      
      <section id="bug-211-instll"><!-- Level 3 -->
        <title>Build/Installer Issues</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1889">CORE-1889</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Builds were creating the security database with Forced 
        Writes OFF in all Firebird versions, allowing the possibility of corruption in unstable environments.  From 2.1.
        1 onward, builds will create security2.fdb with FW ON.</para>
        <para><emphasis>Improvement implemented by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1826">CORE-1826</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>changeRunUser.sh</emphasis> and
        <emphasis>restoreRootRunUser.sh</emphasis> scripts were not changing the run user in <emphasis>init.d</emphasis>
        scripts.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-211-sec"><!-- Level 3 -->
        <title>Security Issues</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1887">CORE-1887</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>New databases were being created with the wrong access
        privileges.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1854">CORE-1854</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The value of CURRENT_USER was not always being converted
        to upper case when using operating system authentication on POSIX.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1845">CORE-1845</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some standard calls would show the server installation
        directory to regular users.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-211-charsets"><!-- Level 3 -->
        <title>Character Set/Collation Issues</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1885">CORE-1885</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Processing a CREATE COLLATION statement on POSIX 64-bit
        versions would cause the server to crash.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes, A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1802">CORE-1802</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong maximum key size was being calculated when the
        collation used was PXW_CSY.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-211-psql"><!-- Level 3 -->
        <title>Procedural Language (PSQL)</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1884">CORE-1884</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Random crashes could occur when using stored procedures
        that were defined with input parameters having expressions as the default value.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-211-utils"><!-- Level 3 -->
        <title>Utility Programs</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1876">CORE-1876</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        <para><emphasis>fixed by N. Samofatov</emphasis>The nbackup incremental backup utility was broken.</para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1875">CORE-1875</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An isql script that accessed CURRENT_DATE could throw an
        error or crash the server.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1864">CORE-1864</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In isql on big-endian hosts, the SELECT operator did not
        work.</para>
        <para><emphasis>fixed by A. Peshkoff, P. Beach</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-211-dsql"><!-- Level 3 -->
        <title>Dynamic SQL (DSQL)</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1868">CORE-1868</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash in
        <emphasis>isc_dsql_free_statement().</emphasis></para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1859">CORE-1859</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>Arithmetic overflow or division by zero</quote>
        errors were occurring while processing calls to the MAX() function.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1839">CORE-1839</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash when sorting on a field that was
        calculated using a recursive common table expression (CTE).</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1798">CORE-1798</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>RDB$DB_KEY was evaluated as NULL in INSERT ...
        RETURNING</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1793">CORE-1793</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On preparing a parameterised CTE with unused parameters,
        the server would crash.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1781">CORE-1781</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LIKE, STARTING WITH and CONTAINING could return false
        positives.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-211-engn"><!-- Level 3 -->
        <title>Engine Issues</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1851">CORE-1851</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Windows applications using
        <emphasis>fbembed.dll</emphasis> could hang during the process termination if there were open connections.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1844">CORE-1844</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Valgrind tools were frequently reporting the error
        <quote>Conditional jump or move depends on uninitialised value(s)</quote> in the function
        <emphasis>check_status_vector()</emphasis>.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1841">CORE-1841</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A view using derived table names or aliases
        that were too long could cause RDB$VIEW_RELATIONS.RDB$CONTEXT_NAME to overflow.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1840">CORE-1840</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Each DDL execution was producing a small memory
        leak.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1838">CORE-1838</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SET STATISTICS <emphasis>INDEX</emphasis> on an index of
        a global temporary table (GTT) could wrongly change the index ID by an amount equivalent to the maximum
        available number for the database page size.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1830">CORE-1830</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Index corruption was possible when multiple updates of
        the same record were performed in the same transaction with savepoints in use.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1819">CORE-1819</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A more efficient solution was implemented for a bug that
        had caused lower-level index pages to be missed in indirection from the parent page (replacing the original fix
        for <ulink url="http://tracker.firebirdsql.org/browse/CORE-1300">CORE-1300)</ulink>.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1812">CORE-1812</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Indexes were being overlooked for some date/time
        expressions in dialect 1.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1807">CORE-1807</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX, the fbserver process was getting assigned to a
        random, non-canonical port after an abnormal termination.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1731">CORE-1731</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine would sometimes engine hang for several
        minutes, using 100% CPU load, with no sign of I/O activity.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1421">CORE-1421</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver failed to shut down immediately after
        a shutdown request if the request was preceded by a failed login attempt.</para>
        <para><emphasis>fixed by A. Peshkoff</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-211-misc"><!-- Level 3 -->
        <title>Miscellaneous</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1817">CORE-1817</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>RelaxedAliasChecking</emphasis> parameter
        was having no effect on the RDB$DB_KEY field</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1810">CORE-1810</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        <para><emphasis>fixed by A. Peshkoff</emphasis>There was an issue with user names containing the '.' character.</para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1775">CORE-1775</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The performance of security class checking during 
        prepares was poor compared with v.1.5.x.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1357">CORE-1357</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The DummyPacketInterval mechanism was broken.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
    </section>
    
    <section id="bug-210afterrc2" xreflabel="Firebird 2.1 Bug Fix after RC2"><!-- Level 2 -->
      <title>Firebird 2.1 Post-RC2 Fix</title>
      <para>The following bug in the Windows builds was detected during field-testing of release candidate 2 and was
      fixed before QA of the final release build.  The same bug affects Firebird 2.0.3 and all of the Firebird 1.5.x 
      series:</para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1820">CORE-1820</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Windows server executables failed to return a
        meaningful response when the Windows installer script queried to detect a running server.  Thus, if an install 
        was actually being performed while an existing server was running, the query would return a false negative and 
        the install would continue instead of aborting, causing the potential for either installation to be corrupted 
        or inconsistent.</para>
        <tip>
          <para>It is always advisable to shut down a running server before attempting an install, in any event!</para>
        </tip>
        <para>The Windows server program now delivers the correct signal in response to the installer's query.</para>
        <para><emphasis>fixed by D. Yemanov, P. Reeves</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>
    <!-- RC 2 -->
    <section id="bug-210rc2" xreflabel="Firebird 2.1 RC 2 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1 Release Candidate 2</title>
      <para>The following bug fixes/reversions have been applied since RC 1:</para>

      <section id="bug-210rc2-dml"><!-- Level 3 -->
        <title>Data Manipulation Language (DML)</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1713">CORE-1713</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Legacy behaviour of SELECT DISTINCT * on a table
        structure containing BLOB columns has been reverted and, along with it, the legacy behaviours when UNION, GROUP
        BY and ORDER BY operations refer to BLOB columns.</para>
        <warning>
          <para>Be aware that the result sets produced may be incorrect, due to ordering and distinction being performed
          on the BLOB_ID, not on contents of the BLOB.</para>
        </warning>
        <para>Earlier changes <ulink url="http://tracker.firebirdsql.org/browse/CORE-859">CORE-859</ulink>
        and <ulink url="http://tracker.firebirdsql.org/browse/CORE-1530">CORE-1530</ulink> are thus also implicitly
        rolled back.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1724">CORE-1724</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Common table expressions could not be used in
        computed columns and quantified predicates (IN / ANY / ALL).   Now the behaviour of CTEs in SELECTS is aligned
        with that of other virtual table types.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1716">CORE-1716</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Variable initialization in recursive procedures was
        being performed wrongly.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-210rc2-crash"><!-- Level 3 -->
        <title>Server Crashes</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1729">CORE-1729</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server process would terminate when
        selecting the MON$ data was attempted in a system with a heavy load of concurrent connections.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-210rc2-linux"><!-- Level 3 -->
        <title>POSIX-specific</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1818">CORE-1818</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Temporary files used for temporary page spaces were not 
        being deleted after use on POSIX platforms. </para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1728">CORE-1728</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After a fresh Linux install, monitoring tables would be
        found to be not working. </para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-210rc2-srvcs"><!-- Level 3 -->
        <title>Services Manager</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1726">CORE-1726</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Failure was exhibited in
        <emphasis>isc_service_start().</emphasis></para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>

      <section id="bug-210rc2-ddl"><!-- Level 3 -->
        <title>Data Definition Language (DDL)</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1746">CORE-1746</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was (wrongly) possible to create an expression
        index while inserts into the table were under way.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1715">CORE-1715</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <quote>key size exceeds implementation
        restriction for index</quote> exception was being wrongly returned under some conditions.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1694">CORE-1694</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was exhibited in creating or altering database
        triggers, related to attempts to include comment statements using a Russian character set.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

    </section><!-- level 2 -->

    <!-- RC 1 -->
    <section id="bug-210rc1" xreflabel="Firebird 2.1 RC 1 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1 Release Candidate 1</title>
      <para>A number of internal optimizations were done by Alex Peshkov between Beta 2 and this
      release to reduce some areas of degradation in performance that had materialised as a side-
      effects of new feature implementations.  Besides these, the following bug fixes/improvements have
      been applied since Beta 2:</para>

      <section id="bug-210rc1-core"><!-- Level 3 -->
        <title>Core Engine/DSQL</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1657">CORE-1657</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory access violations (segfaults)
        could occur where read-only read committed transactions were left idle for a long time in a
        system under heavy load.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1648">CORE-1648</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>RDB$TYPES was failing to list the types for
        database triggers.</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1644">CORE-1644</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Compiling on GCC 4.1.1 was throwing a compilation
        error.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1641">CORE-1641</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CREATE TRIGGER was causing two copies of the
        trigger object to exist in the metadata cache simultaneously.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1624">CORE-1624</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>MERGE worked incorrectly when there were
        parameters in a MATCHING clause</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1610">CORE-1610</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A full shutdown could cause database corruption.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1597">CORE-1597</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was (erroneously) possible to create global
        temporary tables in a database with an ODS lower than 11.1.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1579">CORE-1579</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On 64-bit builds, a UDF that carried a BLOB as an
        argument could corrupt the BLOB on the stack by partly overwriting it if another argument was a
        string.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1574">CORE-1574</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of problems appeared concerning multi-file
        databases.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1562">CORE-1562</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Shutdown would fail to kill high-load query
        connections.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1549">CORE-1549</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A performance-killer regression dating back to
        v.1.5 meant subquery-based predicates (IN, EXISTS, etc.) were not evaluated early enough in
        the join order to enable efficient filtering.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1539">CORE-1539</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A transliteration error could occur in a SELECT
        statement on a system table, where the wildcard ('%') element of the search argument for 'LIKE'
        substituted metadata elements containing non-ASCII characters, e.g., in a CHECK constraint.</para>
        <para><emphasis>fixed by Adriano Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1533">CORE-1533</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A JOIN on the first record of an ordered derived
        table would return the wrong record.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1509">CORE-1509</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Extraneous trailing spaces were being inserted
        when casting DOUBLE PRECISION numbers to VARCHAR().</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1501">CORE-1501</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SLONG data in dsql_nod was being accessed wrongly.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1500">CORE-1500</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data in the internal buffer of EXECUTE STATEMENT
        was not being aligned correctly.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1492">CORE-1492</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Compatibility between a text BLOB and a CHAR or
        VARCHAR was not working for COALESCE().</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-crash"><!-- Level 3 -->
      
        <title>Server Crashes</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1681">CORE-1681</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Garbage data in the incoming remote packet could crash the
        server</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1649">CORE-1649</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Access violations could occur when a recursive
        query used the MERGE JOIN method in its execution plan.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1601">CORE-1601</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash inside the page validation
        routine.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1519">CORE-1519</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory access violations were occuring in
        isc_dsql_fetch().</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1199">CORE-1199</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Internal GDS software consistency check
        (CCH_precedence: block marked (212))</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-linux"><!-- Level 3 -->
        <title>Linux-specific</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1589">CORE-1589</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The start-stop script for SuperServer on Linux
        sometimes failed to stop the service.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-win"><!-- Level 3 -->
        <title>Windows-specific</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1602">CORE-1602</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Trusted authentication was not mapping domain
        administrators to the SYSDBA login.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1593">CORE-1593</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Windows rules for full domain user names allow
        names longer than the 31 characters allowed by Firebird.  Firebird was accepting such names
        via trusted authentication and failure was messy.  Now, the 31-character limit is enforced and
        logins passing longer names are disabled.  (This will remain the situation until the mapping
        of OS objects to database objects is implemented in a later Firebird version.)</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1543">CORE-1543</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug in the remote interface checking for trusted
        authentication was enabling any OS user to log in as SYSDBA.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-dml"><!-- Level 3 -->
        <title>Data Manipulation Language</title>
        <section id="bug-210rc1-dml-funcs"><!-- Level 4 -->
          <title>Inbuilt Functions</title>
          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1677">CORE-1677</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Inbuilt functions FLOOR and CEILING returned wrong results with 
          exact numeric arguments.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>Improvement (<ulink url="http://tracker.firebirdsql.org/browse/CORE-1623">CORE-1623</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Inbuilt function HASH() needed improvement in its memory
          consumption when processing a BLOB argument.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>Improvement (<ulink url="http://tracker.firebirdsql.org/browse/CORE-1569">CORE-1569</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The scale argument of the ROUND() function was made optional.
          </para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>Improvement (<ulink url="http://tracker.firebirdsql.org/browse/CORE-1546">CORE-1546</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The &quot;randomness&quot; quality of the result from
          the RAND() function was improved.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>Improvements (<ulink url="http://tracker.firebirdsql.org/browse/CORE-1490">CORE-1490
          </ulink></emphasis> and <emphasis><ulink url="http://tracker.firebirdsql.org/browse/CORE-1497">CORE-1497</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The keywords used in the expanded forms of the DATEADD()
           and DATEDIFF() functions were changed to more meaningful words.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>Improvement (<ulink url="http://tracker.firebirdsql.org/browse/CORE-1511">CORE-1511</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An optional argument was added to the expanded form of
          the POSITION() function to take a starting position offset.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1582">CORE-1582</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The inbuilt ABS() function was rounding values of
          NUMERIC data type.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1560">CORE-1560</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The inbuilt function NULLIF() would crash the
          server if the value passed to the first argument was an empty string constant ('').</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1528">CORE-1528</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The inbuilt functions DATEDIFF() and ABS(integer
          const) would not work in a dialect 1 database.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1522">CORE-1522</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The inbuilt function DATEDIFF() was exhibiting
          inconsistent behaviour.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1514">CORE-1514</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Many new 2.1 built-in functions exhibited
          incorrect NULL semantics.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1489">CORE-1489</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The inbuilt function DATEADD was not working
          properly with NULL arguments.</para>
          <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->
      </section><!-- Level 3 -->

      <section id="bug-210rc1-rmt"><!-- Level 3 -->
        <title>Remote Interface/API</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1679">CORE-1679</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function><command>The isc_service_query()</command> function was returning
        garbage bytes in the output.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1651">CORE-1651</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library could sometimes falsely report
        a request synchronization error (isc_req_sync) to a client application.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1510">CORE-1510</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>XSQLVAR [NULL flags] for (2*COALESCE(NULL,NULL))
        were bad.</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes, D. Kovalenko</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->

      <section id="bug-210rc1-intl"><!-- Level 3 -->
        <title>International Language Support</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1594">CORE-1594</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An alignment issue in character set conversion could
        cause extraneous trailing spaces on some platforms.  Code CsConvert::convert() was refactored
        slightly to address the issue.</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1375">CORE-1375</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong mapping for 0x212C in cs_gb2312.h</para>
        <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-dbmon">
        <title>Database Monitoring/Administration</title><!-- Level 3 -->

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1642">CORE-1642</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Monitoring under non-privileged login credentials
        would report wrong attachment data.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1584">CORE-1584</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Inserting into monitoring tables could cause a
        crash or a bugcheck.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1567">CORE-1567</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression behaviour exhibited in Beta 2 Embedded,
        where selecting from MON$STATEMENTS would yield an error and an exit() call.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1561">CORE-1561</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting from MON$STATEMENTS could cause the
        server to lock up.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1551">CORE-1551</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory access violation would occur if all
        statements and all attachments were cancelled via the monitoring tables.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-scrty"><!-- Level 3 -->
        <title>Security</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1603">CORE-1603</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        <para><emphasis>fixed by A. Peshkov</emphasis>A long user name was a potential source of buffer
        overflow.</para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210rc1-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>
        <section id="bug-210rc1-utils-isql"><!-- Level 4 -->
          <title>isql</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1493">CORE-1493</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When extracting a script, isql was not mangling
          BLOB filter and UDF information with embedded quotes properly.</para>
          <para><emphasis>fixed by C. Valderrama</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->

        <section id="bug-210rc1-utils-gsec"><!-- Level 4 -->
          <title>gsec</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1680">CORE-1680</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function><command>gsec display</command> would show only a few initial
          users when there were more than 50 users in the security database</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1637">CORE-1637</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A problem in the GSEC shell utility was causing
          the 'DISPLAY' command to (wrongly) return a SPB error.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section><!-- Level 4 -->

        <section id="bug-210rc1-utils-gfix"><!-- Level 4 -->
          <title>gfix</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1548">CORE-1548</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some errors in GFIX were returning wrong error
          codes, or not returning any error code.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1481">CORE-1481</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>False errors were likely to be reported by gfix
          when using in-memory metadata.</para>
          <para><emphasis>fixed by V. Khorsun</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->
        <section id="bug-210rc1-utils-gbak">
          <title>gbak</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1540">CORE-1540</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A fatal Lock Manager error would occur at the end
          of a gbak restore.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-374">CORE-374</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restore would fail on a table that had computed
          fields computed by selecting a value from a stored procedure.</para>
          <para><emphasis>fixed by N. Samofatov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->

        <section id="bug-210rc1-utils-nbkp"><!-- Level 4 -->
          <title>nbackup</title>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1537">CORE-1537</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The nbackup utility would create its difference
          file for a database on a raw device in a bad 'default location'.  For raw devices, nbackup
          needed to enforce a file system path for the difference file.</para>
          <para><emphasis>fixed by A. Peshkov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->
      </section><!-- Level 3 -->
    </section><!-- Level 2 -->

    <!-- BETA 2 -->
    <section id="bug-210b2" xreflabel="Firebird 2.1 Beta 2 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1 Beta 2</title>
      <para>The following section details the bug fixes that have been applied since the Beta 1 release:</para>

      <section id="bug-210b2-core"><!-- Level 3 -->
        <title>Core Engine/DSQL</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1476">CORE-1476</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Forced writes have never actually worked on Linux, leaving open the
        potential for system trauma to break databases even with FW=ON.  It has actually been known to happen on
        Linux.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1468">CORE-1468</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database corruption was possible when database file expansion and
        read\write activity were being performed simultaneously.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1440">CORE-1440</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Transaction options were dangerously lacking in validation.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1418">CORE-1418</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rapidly starting and shutting down could cause a race condition in
        the blocking AST thread due to poor synchronization.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1401">CORE-1401</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Instances of a global temporary table were not always picking up
        all indices.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1361">CORE-1361</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Index operations for global temporary tables were not visible to
        the active connection.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1380">CORE-1380</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Changing the Forced Writes setting for a database would cause I/O
        errors if the database had existing attachments.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1408">CORE-1408</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF names using reserved words were being extracted with the double
        quotes missing.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1379">CORE-1379</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Invalid parameter type (&quot;Data type unknown&quot; error)
        when passing the argument to the CHAR_LENGTH function as a parameter.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1347">CORE-1347</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Unexpected &quot;cannot transliterate&quot; error.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1332">CORE-1332</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The SQLSCALE member of a text BLOB column can carry the BLOB's
        character set.  In some documentation it wrongly says it should always be there.  Text BLOBs needed to be
        brought into line with character types, i.e., if the connection character set is other than NONE and the BLOB's
        character set is not NONE or OCTETS, then it should be the character set of the connection.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-crash"><!-- Level 3 -->
        <title>Server Crashes</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1470">CORE-1470</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if a secondary file name was longer than 127
        characters.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1457">CORE-1457</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash when attempting to deliver events for a
        session that had just disconnected.</para>
        <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1451">CORE-1451</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using RDB$DB_KEY in the <command>WHERE</command> clause of a SELECT
        from a stored procedure would crash the server.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1338">CORE-1338</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Connection lost (error 335544721, Unable to complete network request
        to host ...) when selecting from a view having a derived field defined with ROUND().</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1334">CORE-1334</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Joins with a NULL RDB$DB_KEY would crash the server.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      </section><!-- Level 3 -->

      <section id="bug-210b2-win"><!-- Level 3 -->
        <title>Windows-Specific</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1456">CORE-1456</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong events delivery could occur where there were concurrent XNET
        connections.</para>
        <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1443">CORE-1443</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On 64-bit Windows 2003 Server, the embedded engine could cause an
        application to hang on exit if no database access was performed.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1403">CORE-1403</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server under Windows would crash if multiple events were being
        registered simultaneously by a client connected via the XNET protocol.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      </section><!-- Level 3 -->

      <section id="bug-210b2-ddl"><!-- Level 3 -->
        <title>Data Definition Language (DDL)</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1395">CORE-1395</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CHECK constraints on domains were demonstrating a few problems.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1378">CORE-1378</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of issues were reported regarding domain names and
        character sets. </para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-dml"><!-- Level 3 -->
        <title>Data Manipulation Language (DML)</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1466">CORE-1466</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The SUBSTRING() function could return a truncated substring for
        some multi-byte BLOBs.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1428">CORE-1428</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Timestamp subtraction in dialect 3 was incorrect if the calculation
        would result in a negative number.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1417">CORE-1417</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>Invalid BLOB ID</quote> error could occur when
        performing an insert using InterBaseXpress.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1373">CORE-1373</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A recursive CTE query would produce incorrect results when the
        recursive member's SELECT list contained an expression involving self-referencing fields.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-psql"><!-- Level 3 -->
        <title>Procedural Language (PSQL)</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1434">CORE-1434</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE STATEMENT was truncating the last two bytes of VARCHAR
        columns.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1419">CORE-1419</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CURRENT_TIMESTAMP was being wrongly evaluated during the execution
        of selectable procedures.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1371">CORE-1371</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An EXECUTE BLOCK sequence would fail if it was passed within an
        EXECUTE STATEMENT string.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1370">CORE-1370</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Use of CTE within procedures was causing memory leaks.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1331">CORE-1331</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Character set transliterations would not work with EXECUTE
        STATEMENT.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      </section><!-- Level 3 -->

      <section id="bug-210b2-remote"><!-- Level 3 -->
        <title>Remote Interface</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1455">CORE-1455</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash in fbclient after an unsuccessful user management API call.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1452">CORE-1452</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would crash when attempting to process an
        event received just before disconnection.  (Did not affect libfbembed.so.)</para>
        <para><emphasis>fixed by D. Yemanov, V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1430">CORE-1430</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Access Violation in fbclient.dll if a statement was prepared and
        executed right after events were registered.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1388">CORE-1388</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was not possible to attach to the Service Manager remotely if
        the remote engine version was less than 2.0.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1349">CORE-1349</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The remote interface was not validating the client-supplied message
        length against the message format length.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      </section><!-- Level 3 -->

      <section id="bug-210b2-api"><!-- Level 3 -->
        <title>API</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1485">CORE-1485</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a very ancient bug whereby the <command>sqllen</command>
        field in the xsqlvar contained length of data in a varying structure, not its total size.  In any OS environment
        it could cause an access violation when loading messages in msg.fdb</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1416">CORE-1416</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect parameter order in a TPB was being accepted without
        returning an error.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1372">CORE-1372</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If <command>isc_dsql_fetch()</command> is called after
        <command>isc_commit_transaction()</command> an exception should be raised.  That was not happening.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-intl"><!-- Level 3 -->
        <title>International Language Support (INTL)</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1484">CORE-1484</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>INTL modules compiled in the Linux, gcc 4.1.2, amd64 environment
        would cause an access violation in Superserver, due to use of the standard operator <command>new</command> but
        the overloaded operator <command>delete</command>.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1446">CORE-1446</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem with UNICODE collations from fbintl when using system ICU.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1431">CORE-1431</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some inherent issues with uppercasing certain Greek
        characters in cp1251.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1384">CORE-1384</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LIKE would not work correctly with collations using
        SPECIALS-FIRST=1.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1339">CORE-1339</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The metadata character set upgrade script was generating garbage
        in descriptions.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      </section><!-- Level 3 -->

      <section id="bug-210b2-mon"><!-- Level 3 -->
        <title>Database Monitoring/Admin</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1467">CORE-1467</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database attachment would go into some kind of invalid state
        after its long-running statement was canceled via MON$STATEMENTS, returning a 'database shutdown' error.
        </para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1441">CORE-1441</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Query cancellation feature could not interrupt a long fetch.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1436">CORE-1436</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Outer joins would not work properly with the MON$ tables.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1359">CORE-1359</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash at the first operation with the monitoring
        tables if the filesystem lacked the necessary permissions for the shared-memory file.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1358">CORE-1358</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Operations with MON$STATEMENTS were throwing &quot;cannot
        transliterate&quot; errors.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1330">CORE-1330</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Semaphores were being double-locked when the monitoring tables were
        queried during long fetches.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-sec"><!-- Level 3 -->
        <title>Security</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1447">CORE-1447</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Querying for database info on very long path
        through an isc_database_info() API call could cause a buffer overrun.</para>
        <para><emphasis>fixed by C. Valderrama</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1397">CORE-1397</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A possible vulnerability was discovered in the remote server
        attachment.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1312">CORE-1312</ulink>)</emphasis>
        <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A remote attacker could check for the presence of a file on a
        system running the Firebird server.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b2-utils"><!-- Level 3 -->
        <title>Command-line Utilities</title>

        <section id="bug-210b2-utils-gstat"><!-- Level 4 -->
          <title>gstat</title>
          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1400">CORE-1400</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT did not support infixing the port number in the connection
          string.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1399">CORE-1399</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT would not use the RemoteServicePort configured in
          firebird.conf.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1398">CORE-1398</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT was treating 'localhost' as case-sensitive in Windows.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


        </section><!-- Level 4 -->

        <section id="bug-210b2-utils-gbak"><!-- Level 4 -->
          <title>gbak</title>
          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1369">CORE-1369</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Default values of procedure parameters were not being caught when
          downgrading a database from ODS11.1.</para>
          <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1344">CORE-1344</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;request depth exceeded&quot; when restoring complex
          metadata.</para>
          <para><emphasis>fixed by D. Yemanov</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


        </section><!-- Level 4 -->
        <section id="bug-210b2-utils-isql"><!-- Level 4 -->
          <title>isql</title>
          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1465">CORE-1465</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL would ignore an explicit constraint name when it was confused
          with an internal, automatic name.</para>
          <para><emphasis>fixed by C. Valderrama</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

          <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1261">CORE-1261</ulink>)</emphasis>
          <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isql would ignore the index and ordering in a UNIQUE CONSTRAINT
          when generating a metadata script.</para>
          <para><emphasis>fixed by C. Valderrama</emphasis></para>
          <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->
       </section><!-- Level 3 -->
      </section><!-- Level 2 -->

    <!-- BETA 1 -->
    <section id="bug-210b1" xreflabel="Firebird 2.1 Beta 1 Bug Fixes"><!-- Level 2 -->
      <title>Firebird 2.1 Beta 1</title>
      <para>The following are rough groupings to help you find specific bug fixes that you want to
      check up on.  In general, expect these to be fixes that were deferred at the 2.0 release or
      showed up as regressions after a 2.0.x or 2.1 Alpha release.</para>

      <section id="bug-210b1-core"><!-- Level 3 -->
      <title>Core Engine/DSQL</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1248">
      CORE-1248</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect timestamp arithmetic was performed
      when one of the operands was a negative number.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1228">
      CORE-1228</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Reports of database corruption after an
      out-of-disk-space condition.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1227">
      CORE-1227</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LIST() function would seem to fail if used
      twice or more in a query.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1215">
      CORE-1215</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong SELECT query results using index to
      evaluate &gt;= condition</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1175">
      CORE-1175</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>Data type unknown</quote> when
      any UDF argument was a built-in function containing a DSQL parameter reference.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-crash"><!-- Level 3 -->
        <title>Server Crashes</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1244">
      CORE-1244</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server crash on <quote>select * from
      &lt;recursive CTE&gt;</quote>.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-win32"><!-- Level 3 -->
        <title>Win32-Specific</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1207">
      CORE-1207</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FB embedded would not load without extra OS
      privileges.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-posx"><!-- Level 3 -->
        <title>POSIX-Specific</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1240">
      CORE-1240</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Any task on Darwin PPC that used libfbclient
      would hang on exit.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1223">
      CORE-1223</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong message in firebird.log on
      Open SuSe Linux 10.2 : Open file limit increased from 1024 to 0.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->

      <section id="bug-210b1-ddl"><!-- Level 3 -->
        <title>Data Definition Language (DDL)</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1292">
      CORE-1292</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CREATE TABLE failed if using long username and
      UTF8 as attachment charset.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1271">
      CORE-1271</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Engine was allowing creation of invalid
      procedures and triggers.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1183">
      CORE-1183</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>View could not be created if its WHERE clause
      contained IN &lt;subquery&gt; with a procedure reference.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1162">
      CORE-1162</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem altering numeric field type.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->

      <section id="bug-210b1-dml"><!-- Level 3 -->
        <title>Data Manipulation Language (DML)</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1253">
      CORE-1253</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>LIST(DISTINCT) was concatenating VARCHAR
      values as CHAR</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1153">
      CORE-1153</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Activating an index change would
      cause <quote>STARTING</quote> to work as <quote>LIKE</quote> in a join condition.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-psql"><!-- Level 3 -->
        <title>Procedural Language (PSQL)</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1267">
      CORE-1267</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Small bug with default value for domains in
      PSQL</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1256">
      CORE-1256</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Table columns were hiding the destination
      variables for RETURNING INTO.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1165">
      CORE-1165</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>WHEN &lt;list of exceptions&gt; was tracking
      dependencies only on the first exception in PSQL.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-remote"><!-- Level 3 -->
        <title>Remote Interface</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1218">
      CORE-1218</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isc_dsql_info(isc_info_sql_stmt_type)
      did not set isc_info_end at the end of the passed user's buffer</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1196">
      CORE-1196</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Long SQL statements were breaking the
      TCP/IP connection.</para>
      <para><emphasis>fixed by V. Khorsun, A. Peshkov, D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 3 -->

      <section id="bug-210b1-sec"><!-- Level 3 -->
        <title>Security</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-885">
      CORE-885</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was impossible to revoke rights on update
      of a column.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-856">
      CORE-856</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Could not set FName, MName, LName fields in
      the Security database to blank.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->

      <section id="bug-210b1-utils"><!-- Level 3 -->
        <title>Utilities</title>

        <section id="bug-210b1-nbkp"><!-- Level 4 -->
          <title>nBackup</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1151">
      CORE-1151</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>database file not available</quote>
      when running NBackup.</para>
      <para><emphasis>fixed by N. Samofatov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->

        <section id="bug-210b1-isql"><!-- Level 4 -->
          <title>isql</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-703">
      CORE-703</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using DEL-Key in isql under Linux
      would give <quote>~</quote></para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section><!-- Level 4 -->

        <section id="bug-210b1-gbak"><!-- Level 4 -->
          <title>gbak</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1237">
      CORE-1237</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gbak would fail to create a backup in
      service_mgr mode if there was no space on disk, but reported no error.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1205">
      CORE-1205</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>v2.1 gbak would crash the server when
      attempting to perform a backup.</para>
      <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1174">
      CORE-1174</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gbak would restore NULL rdb$description in
      rdb$functions as blob (0, 0).</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-949">
      CORE-949</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restore would fail with a UDF call in a
      'COMPUTED BY' field.
      </para>
      <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-132">
      CORE-132</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restore would fail on external table.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->

        <section id="bug-210b1-gfix"><!-- Level 4 -->
          <title>gfix</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1249">
      CORE-1249</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Full shutdown mode failed on Classic if
      there were other connections to the database.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        </section><!-- Level 4 -->
       </section><!-- Level 3 -->

      <section id="bug-210b1-instlln"><!-- Level 3 -->
        <title>Building/Installers</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-981">
      CORE-981</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>x86_64 RPM package
      missing <quote>provides</quote>.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-107">
      CORE-107</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An instance of fb_lock_mgr would be left
      running after a build.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->

      <section id="bug-210b1-regres"><!-- Level 3 -->
        <title>Fixed Regressions</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1286">
      CORE-1286</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug with COMPUTED BY fields.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1167">
      CORE-1167</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Character set GBK was not getting installed.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        </section><!-- Level 3 -->

      <section id="bug-210b1-nofix"><!-- Level 3 -->
        <title>Not Fixed</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1079">CORE-1079</ulink>)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Every attach of fbclient/fbembed library to the host process
      leaks 64KB of memory</para>
      <para>No information available.</para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section><!-- Level 3 -->
    </section><!-- Level 2 -->
  </section><!-- Level 1 -->
  
  <!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////// -->
  <!-- FIREBIRD 2.0.X -->
  <!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////// -->
  <section id="bug20x" xreflabel="Firebird 2.0 &amp; Sub-Releases"><!-- Level 1 -->
    <title>Firebird 2.0  &amp; Sub-Releases</title>
    
    <!-- v.2.0.7 -->
      <section id="bug-207-bugsfixed" xreflabel="V.2.0.7"><!-- Level 2 -->
        <title>Sub-release 2.0.7</title>
        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3736"><emphasis>(CORE-3736)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The WITH LOCK clause was allowed for users with
        read-only rights on a table, which would block others from updating it.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3730"><emphasis>(CORE-3730)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The API function <emphasis>isc_dsql_exec_immed2()</emphasis>
        would lose the value of an input parameter value when the request had a RETURNING clause.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3631"><emphasis>(CORE-3631)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicate records with NULLs were being checked incorrectly.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3557"><emphasis>(CORE-3557)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash while preparing a query against
        a table that was being dropped.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3440"><emphasis>(CORE-3440)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash if <emphasis>isc_que_events()</emphasis>
        had queued events totalling zero.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3397"><emphasis>(CORE-3397)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The INTL library had some unresolved symbols.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3374"><emphasis>(CORE-3374)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash or corrupt data if SELECT WITH LOCK
        was issued against records not in the latest format.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3351"><emphasis>(CORE-3351)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Windows client could write 10054 error messages into
        <filename>firebird.log</filename> at connection time.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3283"><emphasis>(CORE-3283)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad plans were generated when LEFT OUTER JOIN was used
        in a subquery.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3220"><emphasis>(CORE-3220)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>isc_info_svc_get_users</emphasis> was
        returning error messages in the result cluster.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3205"><emphasis>(CORE-3205)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>isc_dsql_exec_immed2()</emphasis> was
        not returning the error codes <command>isc_stream_eof</command>
        and <command>isc_sing_select_err</command>.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3202"><emphasis>(CORE-3202)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>execute_immediate</emphasis> API
        call family could crash the remote server.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3148"><emphasis>(CORE-3148)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><command>SQZ_apply_differences</command> contained
        some dangerous code.</para>
        <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3137"><emphasis>(CORE-3137)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Partial rollback was possible for a selectable
        procedure modifying data.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3115"><emphasis>(CORE-3115)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs were discovered in the internal record
        compression routines.</para>
        <para><emphasis>fixed by A. Peshkov, D. Kovalenko</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3097"><emphasis>(CORE-3097)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Updating a BLOB field could cause the server to crash
        with an ACCESS_VIOLATION exception.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3067"><emphasis>(CORE-3067)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Objects were not being unmapped when the
        shared memory region was closed.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3064"><emphasis>(CORE-3064)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using both the name of a procedure name and its alias
        inside an explicit plan would crash the server.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3050"><emphasis>(CORE-3050)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A race condition in <emphasis>LocksCache::get()</emphasis>
         could lead to an engine crash.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3022"><emphasis>(CORE-3022)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GPRE was throwing C++ compiler warnings with
        GCC 4.4.1.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3019"><emphasis>(CORE-3019)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver failed to start on Linux Gentoo.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-3001"><emphasis>(CORE-3001)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>POSIX install was failing to create
        the <quote>firebird</quote> user and group.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2977"><emphasis>(CORE-2977)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FB 2.1 and below handled indexed columns of type
        DATE incorrectly in old databases having on-disk structure lower than 10.</para>
        <para><emphasis>fixed by V. Khorsun</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2900"><emphasis>(CORE-2900)</emphasis>
        </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash due to an access violation
        when the DISTINCT aggregate was used.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <!-- v.2.0.6 -->
      <section id="bug-206-bugsfixed" xreflabel="V.2.0.6"><!-- Level 2 -->
        <title>Sub-release 2.0.6</title>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2936"><emphasis>(CORE-2936)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong page type (expected 7 found N) error.</para>
      <para>If two consecutive leaf index pages were removed from an index (garbage collected) by two
      different connections at the same time, the linked list of sibling pages could become broken and the
      sibling pointer at another index page could point to the freed index page. When the freed page was
      again allocated, this index corruption would be reported.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2928"><emphasis>(CORE-2928)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Buffer overflow in <emphasis>gsec</emphasis>.</para>
      <para>For reasons unknown, the <emphasis>gsec</emphasis> code copies the value of the password
      hash to an internal user data structure during a display operation. Since V.2.0, when the newer hash
      algorithm made the hash longer than previously, the buffer used for storing it could be too short.</para>
      <para>This does not create a vulnerability because the hash value does not travel anywhere. It is harmless,
      anyway:  the buffer overflow cannot be exploited because the first, middle and last names are filled 
      immediately after the password. It is fixed now, thus avoiding having newer versions 
      of <emphasis>glibc</emphasis> detecting this overflow.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2919"><emphasis>(CORE-2919)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Linux installation script was ignoring 
      non-standard ports.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2871"><emphasis>(CORE-2871)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If a derived table or a view contained both a
      left/right join and an ORDER BY clause and the outer query also contained an ORDER BY clause, the 
      outer ORDER BY clause would have no effect.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2856"><emphasis>(CORE-2856)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-NULL key in a unique index could not 
      be found when the key was removed</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2846"><emphasis>(CORE-2846)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When gfix -shut &lt;mode&gt; -attach 
      &lt;timeout&gt; failed after the specified timeout due to connections being still active, it became
      impossible to connect to the database.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2831">CORE-2831</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database and user name should not be
      in the output when a script is extracted.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2822">CORE-2822</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>no current row for fetch operation</quote>
      was being thrown when a subquery included a non-trivial derived table.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2820">CORE-2820</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Queries with PLAN ORDER were exhibiting
      small memory leaks as a side effect of an earlier, major fix.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2741">CORE-2741</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extract would misinterpret the DDL of
      a CHECK constraint if the CHECK keyword was in any character mix other than all lower case or all
      upper case.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2720"><emphasis>(CORE-2720)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Division involving a divisor consisting of unary
      addition or subtraction expressions was being evaluated wrongly, often producing an incorrect 
      result.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2698"><emphasis>(CORE-2698)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If a new cached lock is needed and the permitted 
      number of cached locks is already used up, the least recently used lock should be released and its key 
      should be reset to a new value.  When the least recently used lock could not be unlocked because it was 
      being held by some code for too long, the call to LocksCache::get would wait indefinitely.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2684"><emphasis>(CORE-2684)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>Error page NNN is of wrong type (expected 
      7, found N)</quote> error would occur (wrongly) sometimes, due to a logic bug in garbage collection.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2648">CORE-2648</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup's delta file was not respecting the
      <quote>Forced Writes</quote> database setting.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2640">CORE-2640</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under some conditions, the lock manager
      could fail to detect a regular deadlock and cause the server to hang.</para>
      <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2635">CORE-2635</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A unique index could be corrupted at level 1
      if it contained a lot of NULL keys.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2616">CORE-2616</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error <quote>page &lt;N&gt; is of wrong
      type (expected 7, found 5)</quote> could occur under load, giving the impression that something
      had corrupted the database.  On restart, there would be no evidence of corruption.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2591">CORE-2591</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>High mutex wait ratio and degraded performance
      would start to show up after a period of normal performance.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2563">CORE-2563</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to shut down the
      Superserver's main port (3050 by default) by sending a malformed packet of some special format,
      that would lead to a Denial of Service condition for new incoming connections. This exploit
      could be used by an unauthenticated client.</para>
      <para>Reported 15-Jul-2009 by Core Security Technologies.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2507"><emphasis>(CORE-2507)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A flagging issue on Windows server platforms 
      was causing CreateFile() failures intermittently.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2449">CORE-2449</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unexpected <quote>lock conflict</quote> error
      could be thrown in lieu of the expected exception.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2444">CORE-2444</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine could hang when multiple
      attachments registered their interest in events simultaneously and free space in the events table
      became exhausted.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2437"><emphasis>(CORE-2437)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overflow could occur on a client 
      when events were being delivered.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2415"><emphasis>(CORE-2415)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird could crash when the system ran out of 
      temporary space</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2411">CORE-2411</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer in v.2.0.5 would choose a 
      slower PLAN for certain types of query than it would in version 2.0.4.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2395"><emphasis>(CORE-2395)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem in the API with handling UTF-8 4-byte 
      characters for Japanese collations.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2368"><emphasis>(CORE-2368)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An isc_cancel_events() call would be succeeded by
      an access violation if the event was not found.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2355">CORE-2355</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect handling of LOWER/UPPER when
      result string shrinks in terms of byte length.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2354">CORE-2354</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><quote>fb_lock_print -ia</quote> output
      was not being flushed to the file between iterations.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2326"><emphasis>(CORE-2326)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Committing a new user object (a view, for
      example) caused an access violation if a user-defined trigger had been applied to the system table
      RDB$RELATIONS.</para>
      <para>It should be noted that no Firebird server version either supports, or retains after a backup
      and restore, any user-defined trigger on a system table.  The strong recommendation against defining
      such triggers remains.  The fix recognises one way that user interference with system tables can
      compromise internal operations and disarms it.</para>
      <para>The ability to define <quote>DDL triggers</quote> through the regular DDL mechanisms is on
      the drawing board for V.3.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2306">CORE-2306</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver could terminate abnormally
      when some worker thread failed to start.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2291">CORE-2291</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <emphasis>Bugcheck 284 (cannot
      restore singleton select data)</emphasis> would be thrown on bad trigger code involving [FOR]
      SELECT, when the engine should have been detecting the error and throwing the proper exception.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2282">CORE-2282</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Truncating UDFs were broken for negative
      numbers below -1.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2281">CORE-2281</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rounding UDFs were broken for negative
      numbers.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2272">CORE-2272</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would start returning garbage
      when killing an events connection attempt.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2271"><emphasis>(CORE-2271)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <emphasis>gfix</emphasis> utility had a
      legacy bug that exhibited itself during the database validation/repair routines on large databases.
      The privilege level of the user running these routines was being checked too late in the operation,
      thus allowing a non-privileged user (i.e., not SYSDBA or Owner) to start a validation operation.
      Once the privilege check occurred, the database validation could halt in mid-operation and thus
      be left unfinished, resulting in logical corruption that might not have been there otherwise.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2270">CORE-2270</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When run in a <emphasis>zlogin</emphasis>
      console, <emphasis>isql</emphasis> would consume all memory and crash.</para>
      <para><emphasis>fixed by J. Swierczynski, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2247">CORE-2247</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In the QLI utility, message and
      descriptor buffers were not properly aligned.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2245">CORE-2245</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database with long exception messages
      defined would exhibit errors when being restored from a backup.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2173"><emphasis>(CORE-2173)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash after an abnormal 
      disconnection if there  was an open ExecuteStatement call.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2157"><emphasis>(CORE-2157)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Known issue:  a bug in gcc 3.2.x, the compiler
      used to build the official x86 Linux packages, can cause problems when people try to build binaries 
      that depend on the Firebird client without using the -pthread switch.  Setting the -pthread switch 
      removes the dependency of the output binary on libpthread.</para>
      <para><emphasis>Reported by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1961">CORE-1961</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <emphasis>Bugcheck 210 (page in use
      during flush)</emphasis> consistency check error would be thrown during database validation.</para>
      <para><emphasis>fixed by D. Yemanov, R. Simakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1923">CORE-1923</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Windows, successful execution of 
      <command>instsvc.exe remove</command> was returning 1 as its completion code, instead of 0.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1089"><emphasis>(CORE-1089)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Selecting from a view that used DISTINCT and 
      LEFT JOIN returned records in the wrong order if the ORDER BY clause did not include columns from 
      the right-side (non-mandatory) table.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-195"><emphasis>(CORE-195)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression of an old bug, previously fixed 
      in v.1.5.1, whereby a <emphasis>bugcheck 291 (cannnot find back record version)</emphasis> would
      occur when updating the same record that had already fired an action in a BEFORE UPDATE trigger.
      The regression that was reintroduced in v.2.0 was less destructive, insofar as it affected only 
      the record that was physically first in the table.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
   <!-- ======================================================================================= -->

    <!-- v.2.0.5 -->
      <section id="bug-205-bugsfixed" xreflabel="V.2.0.5"><!-- Level 2 -->
        <title>Sub-release 2.0.5</title>

   <!-- ======================================================================================= -->
      <para><emphasis>Unregistered bug</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When Firebird is configured to run in some specific directory (/usr/local/firebird, /opt/firebird or any other) the @prefix@ macro should be substituted with that directory path. On MacOS it was not done and caused exceptions to be thrown when the engine tried to locate some of its components.
</para>
      <para><emphasis>fixed by P. Beach</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2223"><emphasis>(CORE-2223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gbak was encountering several bugs when operating on the access control lists (ACLs) that store SQL privileges.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2221"><emphasis>(CORE-2221)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, any attachment to any database would fail after the access rights for security2.fdb were modified from 0660 to 0666.</para>
      <para><emphasis>fixed by P. Beach, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2108"><emphasis>(CORE-2108)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When using the new implementation of Windows local protocol (XNET), the next available map number was calculated incorrectly, thus allowing the server to try to reuse a map number that already existed. If the <quote>new</quote> map's timestamp was equal to the timestamp of the pre-existing map, it was cause the <function>get_free_slot()</function> function to fail.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2078"><emphasis>(CORE-2078)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer always had some trivial heuristics to estimate the effective stream selectivity, even if no indices could be used for the retrieval. This code missed being migrated into the ODS11 optimizer logic.  The effect was that join orders chosen for cases involving non-indexed predicates were likely to be ineffective.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2077"><emphasis>(CORE-2077)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On POSIX platforms, the Classic server in embedded mode, i.e., loaded into the user's application space, would handle the TERM signal but would fail to call any other signal handlers in the queue.  The effect was that signal handlers set by the application were not executed and the application would keep working after the termination.  It was a bad idea to invoke <function>ISC_signal_cancel()</function> from the signal handler and the mechanism has been reworked.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2073"><emphasis>(CORE-2073)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The implementation of expression indexes exhibited a bug whereby an incorrect result was returned when an inverted Boolean predicate was applied to test an indexed expression.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2065"><emphasis>(CORE-2065)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The MacOSX installation package was in violation of platform rules by not including the client library in the dynamic loader search paths.</para>
      <para><emphasis>fixed by P. Beach</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2055"><emphasis>(CORE-2055)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Backported a fix for a known buffer overflow in the Firebird client library.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2050"><emphasis>(CORE-2050)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>semop()</function> system calls.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2049"><emphasis>(CORE-2049)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a performance regression resulting from a surfeit of <function>sigprocmask()</function> system calls.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-2000"><emphasis>(CORE-2000)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under high load conditions, the lock manager could report false deadlocks.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1984"><emphasis>(CORE-1984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Lock manager would report false deadlocks if one of the deadlock participants was in WAIT with a permitted timeout.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1983"><emphasis>(CORE-1983)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In any POSIX environment except Solaris, the engine was mishandling the <quote>out of memory</quote> condition, causing the server to crash.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1982"><emphasis>(CORE-1982)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Simultaneous backups or restores using the Services API under Superserver could interfere with one another.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1972"><emphasis>(CORE-1972)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-SYSDBA user was able to change the Forced Writes mode of any database, along with several other database characteristics that should be restricted to the SYSDBA. This long-standing, legacy loophole in the handling of DPB parameters could lead to database corruptions or give ordinary users access to SYSDBA-only operations.  The changes could affect several existing applications, database tools and connectivity layers (drivers, components).  Details are in Chapter 3 of the accompanying Release Notes, in <emphasis>Changes to the Firebird API and ODS</emphasis>.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1970"><emphasis>(CORE-1970)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A <quote>Lock conversion denied (bugcheck 215)</quote> error could occur.  This fix is related to CORE-1984 and CORE-2000 (above).</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1958"><emphasis>(CORE-1958)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When attempting to update the same record multiple times, a <quote>Bugcheck 179 (decompression overran buffer)</quote> failure could occur.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1957"><emphasis>(CORE-1957)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Because of a change done in the conversion to C++ at v.1.5, ACLs (Access Control Lists) longer than about 20 characters were being truncated.  This has caused particular problems for applications that construct access privileges in run-time and has also given rise to privileges <quote>going missing</quote> when there are more than about 2000 privileges (for a report of the latter, see <ulink url="http://tracker.firebirdsql.org/browse/CORE-216">Tracker issue CORE-216)</ulink>.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1930"><emphasis>(CORE-1930)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In a situation where a stored procedure was altered to remove output parameters and dependent procedures are not recompiled, the engine should properly track the dependencies and return an exception when the altered procedure is called.  Instead, it was crashing.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1919"><emphasis>(CORE-1919)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory corruptions in EXECUTE STATEMENT could crash the server.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1909"><emphasis>(CORE-1909)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Garbage text was being printed to firebird.log on AMD64 Linux.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1887"><emphasis>(CORE-1887)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Newly created databases were being created on POSIX platforms with the wrong access rights.  Now, access rights are set properly, by an explicit <function>chmod</function> call immediately after creation of the file.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1886"><emphasis>(CORE-1886)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Windows Vista, the server would refuse to start as an application under a restricted user account.</para>
      <!-- REMOVE NEXT PARA WHEN VERIFIED -->
      <para>This fix is a backport from the v.2.1 code that will need to be field-tested during RC.</para>
      <para><emphasis>fixed by N. Samofatov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1884"><emphasis>(CORE-1884)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using expressions as the default values of input parameters for stored procedures could cause random server crashes.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1854"><emphasis>(CORE-1854)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When using Unix native OS user authentication, the engine would return CURRENT_USER in the native (case-sensitive) form instead of the upper-cased form that Firebird user names should be resolved to.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1844"><emphasis>(CORE-1844)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Valgrind often reports <quote>Conditional jump or move depends on uninitialised value(s)</quote> in <function>check_status_vector()</function>, caused by poor data type matching which had the potential to corrupt the error status vector when there were multiple errors.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1841"><emphasis>(CORE-1841)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A view that used derived tables and long names for the tables or aliases could cause an overflow in RDB$VIEW_RELATIONS.RDB$CONTEXT_NAME.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1840"><emphasis>(CORE-1840)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Every DDL request executed would leave a small memory leak.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1830"><emphasis>(CORE-1830)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Multiple updates of the same record in the same transaction, using savepoints, could corrupt indexes.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1826"><emphasis>(CORE-1826)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>changeRunUser.sh</function> and <function>restoreRootRunUser.sh</function> scripts on POSIX platforms were not changing the run user in the <function>init.d</function> scripts.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1817"><emphasis>(CORE-1817)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>RelaxedAliasChecking</function> parameter was having no effect on RDB$DB_KEY.</para>
      <para><emphasis>fixed by V. Horsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1810"><emphasis>(CORE-1810)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were problems with user names containing the '.' character.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1807"><emphasis>(CORE-1807)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After an abnormal termination of Superserver on Linux, under a hard-to-reproduce situation where the <quote>dead</quote> <function>fbserver</function> process continued to listen on port 3050, the Guardian would retry port 3050 several times before giving up and assigning the new process to a non-canonical port.  Meanwhile, client requests would go to port 3050 and hang indefinitely.  Guardian needed to be restrained from such madness.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1506"><emphasis>(CORE-1506)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash with <function>isc_dsql_execute_immediate</function> and a zero-length string.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1451"><emphasis>(CORE-1451)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using RDB$DB_KEY in a search argument when calling a selectable procedure would crash the server.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1439"><emphasis>(CORE-1439)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Killing a Classic server process on a POSIX platform could corrupt databases.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1357"><emphasis>(CORE-1357)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <function>DummyPacketInterval</function> mechanism was broken on all platforms.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1313"><emphasis>(CORE-1313)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Derived tables and the MERGE statement were failing to recognise RDB$DB_KEY.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1889"><emphasis>(CORE-1889)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The security database was being created with Forced Writes off, risking corruption under some conditions.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
  <!-- ======================================================================================= -->

        
        
      </section>

    <!-- v.2.0.4 -->
      <section id="bug-204-bugsfixed" xreflabel="V.2.0.4"><!-- Level 2 -->
        <title>Sub-release 2.0.4</title>
        <para id="nbackupbugs" xreflabel="unregistered nbackup bugs"><emphasis>(Unregistered
      nbackup Bugs)</emphasis>
      <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs in nBackup could corrupt databases in some
      environments. The fixes relate to issues noted in heavy load conditions.</para>
      <itemizedlist>
        <listitem>
          <para>The logic to merge the 'delta' file, which contains the pages which were changed since
          the nbackup was started, sometimes left the database in a corrupted state.</para>
        </listitem>
        <listitem>
          <para>The logic to merge the 'delta' file sometimes did not mark the database
          as <quote>unlocked</quote>, thus setting the database into an unreconcilable state.</para>
        </listitem>
        <listitem>
          <para>The logic to track which file to write the changed pages to had issues that could result
          in deadlocks when the backup/merge process was active.</para>
        </listitem>
      </itemizedlist>
      <para><emphasis>fixed by N. Samofatov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1820"><emphasis>(CORE-1820)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Windows installer would not correctly detect a running
      2.0.x server if it was running without Guardian.</para>
      <para><emphasis>fixed by D. Yemanov, P. Reeves</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1775"><emphasis>(CORE-1775)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Security checking during a prepare was
      performing badly.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1774"><emphasis>(CORE-1774)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The case-insensitive Spanish language collation
      ES_ES_CI_AI was exhibiting some problems.</para>
      <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1746"><emphasis>(CORE-1746)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible (but damaging) to create an
      expression index while inserts into the table were under way.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1731"><emphasis>(CORE-1731)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Under some conditions, the engine
      could <quote>hang</quote> for several minutes, using 100% of CPU resources without any input/output
      activity.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1726"><emphasis>(CORE-1726)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Failure could occur during
      <filename>isc_service_start()</filename>.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1702"><emphasis>(CORE-1702)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong record number calculation in garbage
      collector thread.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1681"><emphasis>(CORE-1681)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An incoming remote packet containing garbage
      data could crash the server.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1680"><emphasis>(CORE-1680)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The <filename>gsec display</filename> command
      was returning only the first few users from a security database that had more than 50 users installed in
      it.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1679"><emphasis>(CORE-1679)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Output from
      <filename>isc_service_query()</filename> could contain garbage bytes.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1674"><emphasis>(CORE-1674)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The /doc/ sub-directory on Linux installations
      was being installed without the appropriate access rights.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1657"><emphasis>(CORE-1657)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Leaving a read-only, read-committed transaction
      idle for a long time could cause a memory access violation.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1644"><emphasis>(CORE-1644)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Compilation error on GCC 4.1.1</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1610"><emphasis>(CORE-1610)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A Full server shutdown of Superserver would
      cause database corruption if it happened while a query modifying data was running.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1603"><emphasis>(CORE-1603)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A long user name had the potential to cause a
      buffer overflow.</para>
      <para><emphasis>A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1579"><emphasis>(CORE-1579)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In the 64-bit builds, incorrect memory
      allocation for BLOB parameters in UDFs was causing the BLOB, if it was NULL and was followed by
      another parameter, to be overwritten by the value of the next parameter.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1572"><emphasis>(CORE-1572)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error <quote>multiple rows in singleton
      select</quote> was not being reported when it occurred in a view.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1549"><emphasis>(CORE-1549)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Subquery-based predicates were are not being
      evaluated early enough in the join order.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1533"><emphasis>(CORE-1533)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A JOIN on an ordered derived table was
      returning the wrong first record.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1501"><emphasis>(CORE-1501)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><filename>SLONG</filename> data in
      <filename>dsql_nod</filename> was not being accessed correctly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1500"><emphasis>(CORE-1500)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data in the internal buffer for
      <filename>EXECUTE STATEMENT</filename> was aligned incorrectly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1499"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data used in INTL converters was aligned
      incorrectly.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1484"><emphasis>(CORE-1484)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory access violation could occur in
      <filename>fbintl</filename>.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1481"><emphasis>(CORE-1481)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GFIX could report false errors when using
      in-memory metadata.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1476"><emphasis>(CORE-1476)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Forced writes did not work on Linux at all.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1470"><emphasis>(CORE-1470)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>With a multi-file database, the server would
      crash when a secondary file name exceeded 127 characters.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1462"><emphasis>(CORE-1462)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overrun would occur in the optimizer
      when more than 255 relation references existed in the query, causing the server to crash.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para id="knownissue203fixed" xreflabel="issue with events over WNet protocol">
      <ulink url="http://tracker.firebirdsql.org/browse/CORE-1460"><emphasis>(CORE-1460)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A client registering its interest in events
      would crash the server on being connected via the Named Pipes (WNet) protocol.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1457"><emphasis>(CORE-1457)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash on attempting to
      deliver events to a client session that had just disconnected.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1456"><emphasis>(CORE-1456)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong events delivery was exhibited where there
      were multiple concurrent XNET connections.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1455"><emphasis>(CORE-1455)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An unsuccessful user management API call would
      cause the client library to crash.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1452"><emphasis>(CORE-1452)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would crash when attempting
      to process an event notification received just prior to disconnection.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1447"><emphasis>(CORE-1447)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A buffer overrun could occur when querying for
      database info through and <filename>isc_database_info()</filename> API call if the database path was
      very long.</para>
      <para><emphasis>fixed by C. Valderrama</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1442"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library was misinterpreting the
      error condition created when isc_attach_database() was called to attach to a read-only database
      with a read-write transaction:  it would return error code 0 instead of 335544727
      (<filename>net_write_err</filename>).</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1421"><emphasis>(CORE-1421)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SuperServer was unable to shut down immediately
      upon a shutdown request if a failed login attempt had preceded the request.</para>
      <para><emphasis>fixed by A. Peshkoff</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1419"><emphasis>(CORE-1419)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CURRENT_TIMESTAMP evaluation was being
      performed incorrectly for selectable procedures.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1199"><emphasis>(CORE-1199)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Superserver could be brought down by an
      internal gds software consistency check (CCH_precedence: block marked (212), file: cch.cpp line:
      3640).</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1194"><emphasis>(CORE-1194)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An access violation could occur in the client
      library when a shutdown of Superserver was being handled.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-881"><emphasis>(CORE-881)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Singleton requirement was not being respected
      in COMPUTED BY expressions.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-100"><emphasis>(CORE-100)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An old bug in the Windows client library,
      dating back to v.1.5.3, could cause a memory access violation on disconnecting.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <!-- v.2.0.3 -->
      <section id="bug-203-bugsfixed" xreflabel="V.2.0.3"><!-- Level 2 -->
      <title>Sub-release 2.0.3</title>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1434"><emphasis>(CORE-1434)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE STATEMENT had suffered a regression
      between v.2.0.1 and v.2.0.2 whereby it was truncating VARCHAR variables.</para>
      <para>This was the bug that caused Release 2.0.2 to be recalled.  It was initially thought to have
      been caused by some anomaly related to the UTF-8 character set implementation but it was found to
      be a general fault affecting all varchars.)</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1418"><emphasis>(CORE-1418)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rapid starting and shutting down of multiple
      blocking AST threads was causing race conditions.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 2 -->

    <!-- v.2.0.2 -->
    <section id="bug-202-bugsfixed" xreflabel="V.2.0.2"><!-- Level 2 -->
      <title>Sub-release 2.0.2</title>
      <para>V.2.0.2 was withdrawn within hours of release because of the problems above.</para>
    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1405"><emphasis>(CORE-1405)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    vulnerability would be manifest in attach/create database when the file name
    exceeded the MAX_PATH_LEN value.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1403"><emphasis>(CORE-1403)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    In a situation where several events were being registered simultaneously by a client
    using an XNET connection, the server could crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1400"><emphasis>(CORE-1400)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    GSTAT did not support the optional port number in the TCP/IP connection string.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1399"><emphasis>(CORE-1399)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was not considering the RemoteServicePort option in firebird.conf</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1398"><emphasis>(CORE-1398)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSTAT
    was treating 'localhost' as case-sensitive on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1397"><emphasis>(CORE-1397)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Large network packets with garbage could result in big memory consumption and hign 
    CPU load in a Superserver/TCP/IP environment, creating a vulnerability.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1380"><emphasis>(CORE-1380)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>I/O errors would occur after changing the 
      Forced Writes attribute of a database if there were other attachments to the databases.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1371"><emphasis>(CORE-1371)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An EXECUTE BLOCK statement within an EXECUTE 
      STATEMENT string would fail.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1349"><emphasis>(CORE-1349)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The remote interface was failing to check (in REM_receive and REM_fetch calls) the
    length of client-supplied messages against the formatted length of the messages. </para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1347"><emphasis>(CORE-1347)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Certain conditions would cause unexpected <quote>cannot transliterate</quote> errors.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1331"><emphasis>(CORE-1331)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Character set transliterations were not working with EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1328"><emphasis>(CORE-1328)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    the gfix code for two-phase recovery operations with <firstterm>gfix -t</firstterm>
    was broken on POSIX, causing an unexpected end of input error.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1312"><emphasis>(CORE-1312)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    security vulnerability showed up, whereby a remote attacker could gain file access
    to a system running Firebird.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1303"><emphasis>(CORE-1303)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Superserver's remote listener could go into an infinite loop.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1302"><emphasis>(CORE-1302)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some race conditions could occur during service startup.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1300"><emphasis>(CORE-1300)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Lower level index pages were being omitted from the parent page.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1299"><emphasis>(CORE-1299)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Wrong ordering of index entries was occurring at non-leaf b-tree pages.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1298"><emphasis>(CORE-1298)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BTR\garbage_collect code could cause a deadlock in a page cache.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1292"><emphasis>(CORE-1292)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attempting to create a table, when the connection had been made using a long user
    name and UTF8 as the attachment character set, would cause an exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1286"><emphasis>(CORE-1286)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    bug with multi-byte characters was causing overflows and server crashes when a string
    value was applied to a COMPUTED BY field.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1279"><emphasis>(CORE-1279)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect initialization of the engine would occur when many clients were attempting 
    simultaneously to be the first to connect to Superserver. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1276"><emphasis>(CORE-1276)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Sometimes, INET errors were being reported in firebird.log with an error code of 0
    instead of the real error code.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1265"><emphasis>(CORE-1265)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Detaching from a database would deallocate the memory used by an active critical section.
    </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1249"><emphasis>(CORE-1249)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Full shutdown mode would not work on Classic if there were other connections to the
    database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1248"><emphasis>(CORE-1248)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Incorrect timestamp arithmetic would be performed when one of the operands was negative.
    </para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1247"><emphasis>(CORE-1247)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The BLOB garbage collection would remove the wrong BLOB if the departing BLOB's 
    descriptor contained 0:0 ("Null value") but the field's NULL flag was not set.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1240"><emphasis>(CORE-1240)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    With Darwin on PPC, any task using libfbclient, would hang on exit.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1223"><emphasis>(CORE-1223)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    On openSUSE Linux 10.2 a nonsensical message could appear in firebird.log:
        <quote>Open file limit increased from 1024 to 0</quote>.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1207"><emphasis>(CORE-1207)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Since V. 2.0.1, all kernel objects created by the Firebird
    engine had their names prefixed with 'Global\' to cause them to be created in
    the global namespace and be accessible to processes running in different sessions.
    It also prevents possible database corruption.</para>
    <para>On Windows 2003 and Vista, this requires SeCreateGlobalPrivilege, which is 
    fine for a stand-alone server and clients.  However, requiring for those extra 
    privileges was no good for applications deployed with the embedded engine. </para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1205"><emphasis>(CORE-1205)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The v.
    2.1 Beta gbak would crash the v2.0.x server when attempting to backup a database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1203"><emphasis>(CORE-1203)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Some performance issues were encountered with certain queries on 32-bit Linux.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1183"><emphasis>(CORE-1183)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    view could not be created if its WHERE clause contained an IN &lt;subquery&gt;
    expression referring to a procedure.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1156"><emphasis>(CORE-1156)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    PREPARE would fail when having an uncast parameter on the left side of a comparison
    with a subquery expression.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1153"><emphasis>(CORE-1153)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    STARTING [WITH] used for a join condition gave different results depending on whether a
    certain index was active or inactive. </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1149"><emphasis>(CORE-1149)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    There was a vulnerability whereby the Services API could be used to effect a
    Denial-of-Service attack.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1145"><emphasis>(CORE-1145)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    The server would lock up while attempting to commit the deletion of an expression
    index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-1142"><emphasis>(CORE-1142)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    A generator's COMMENT could not be altered to the same value.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-984"><emphasis>(CORE-984)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On
    Windows, fbclient.dll would change the security descriptor of the calling process.</para>
    <para><emphasis>fixed by D. Yemanov, V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-968"><emphasis>(CORE-968)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A
    condition could occur that caused the client to lose its connection with the
    Firebird server.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><ulink url="http://tracker.firebirdsql.org/browse/CORE-900"><emphasis>(CORE-900)</emphasis>
      </ulink><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>
    Attaching to a database simultaneously with the Services API and a standard API
    function could cause a deadlock.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 2 -->

    <!-- V.2.0.1 -->
    <section id="bug-201-bugsfixed" xreflabel="V.2.0.1"><!-- Level 2 -->
      <title>Sub-release 2.0.1</title>

    <para><emphasis>(CORE-1140)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash
    when performing garbage collection during index creation.  The problem related to the existence of
    expression indices on the same table.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1139)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was failing to
    delete the delta file after a successful backup on Win32 Classic.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1136)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup was not able to
    back up a recently created database.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1133)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The XNET (IPC)
    communication protocol would not work across session boundaries.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1130)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad optimization was
    occurring when a procedure was left joined with a view or subquery.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1127)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Circular index
    references in a corrupt database would cause fbserver to go into an infinite loop. </para>
    <para><emphasis>fixed by D. Downie, V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1126)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An arithmetic exception was
    being thrown when UNION sets involved UTF8 literals.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1124)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup would not work in
    interactive mode on Windows.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1121)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NBackup exhibited a
    page-level deadlock (bugcheck 215) when attempting to lock/back up a database under load.</para>
    <para><emphasis>fixed by D. Yemanov, G. Sergeev</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1110)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The function
    isc_get_client_xxx_version() was not fully compatible with the InterBase version of the gds32.dll
    Windows client library.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1104)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Linux install would
    fail if the x0rfbserver program was running.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1025)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash
    at runtime when an explicit MERGE plan was specified over multiple JOIN elements.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1016)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Checking the configured
    UdfAccess setting was not being performed until after the library had been loaded and its startup code had
    been executed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-943)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database shutdown was
    being executed incorrectly when the database was in physical backup mode.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1094)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isc_dsql_sql_info() was
    returning unordered SQLVAR descriptors</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1080)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 167
    (invalid SEND request) occurring in Superserver </para>
    <para>This was a long-standing bug in Superserver:  when several parallel attachments began executing
    a trigger that had not yet been loaded into the metadata cache, the first of them would compile the
    trigger request's BLR but others would not wait until the request compilation finished. Hence,
    other attachments would execute a NULL request.</para>
    <para>Protection from such failures existed in MET_procedure using dbb_sp_rec_mutex for stored procedures,
    but not for triggers.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1012)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Since Firebird 1.5.3,
    neither the relation name nor the alias was being returned for columns participating in a GROUP BY
    aggregation with joins.</para>
    <para>This problem was reported to affect particularly applications using IB Objects, which maintains internal
    structures to support <quote>live</quote> searching of tables underlying joined and aggregated sets.</para>
    <para><emphasis>fixed by A. Dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1068)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isql was not printing non-
    nullable blobs, due to incorrect checking of the XSQLVAR structure.</para>
     <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1064)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The backup order in gbak
    was wrong for character sets and collations.</para>
    <para>Character sets and collations were being backed up after tables and hence they were being restored
    after tables.  The problem became obvious when restoring with the -ONE_AT_A_TIME switch, where a table
    definition used non-system character sets or collations.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1063)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The Server could hang, eating CPU and
    performing huge I/O copying different codepage fields.</para>
    <para>Under certain conditions, notably when multi-byte character sets were involved, an endless loop or a
    transliteration exception could occur wherein BLOB segments of zero length were being created and
    empty BLOB pages were being stored until resources were exhausted.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-944, CORE-982, CORE-1059)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>This set of bug fixes fixed cases reported in several crash
    reports on POSIX platforms, involving execution of stored procedures where both BLOBs and external function
    calls were involved.  </para>
    <para><emphasis>fixed A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1057)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GSEC was exhibiting a bug
    where it was hiding errors on a call to CryptAcquireContext().</para>
    <para><emphasis>fixed by A. Peshkov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1055)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Parameter matching for
    self-referencing stored procedures was wrong.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1053)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A SELECT statement
    could return invalid results when an index was to evaluate a <quote>greater than</quote> predicate in
    a WHERE clause.  The erroneous logic would occur if the key value changed exactly at the beginning of the
    index block.</para>
    <para>For example, the statement</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt; Constant
    </screen>
    <para>would return fewer records than</para>
    <screen>
 SELECT * FROM Table WHERE IntField &gt;= Constant+1
    </screen>
    <para><emphasis>fixed by A. Peshkov, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1051)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was found
    in DFW\check_dependencies that could corrupt the stack.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1046)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a
    core dump in CVT_move.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1040)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong single-segment
    ascending index could occur on a character field if there were NULLs and empty string values in the
    column.</para>
    <para><emphasis>fixed by V. Khorsun, A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020, CORE-1037)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some
    inconsistencies of installation components could happen with command-line use of the Win32 Installer.  The
    problem areas were fixed.</para>
    <note>
      <para>Previously, the Guardian was installed by default, whether the Classic or Superserver installation was
      selected.  In Firebird 2.0 and higher, Guardian is not installed with Classic and should not be.  It is not
      necessary and, in some Classic environments, it has been considered a possible cause of <quote>ghost
      connections</quote> and, thus, resource leakage.</para>
    </note>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1033)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In some views, the
    LIKE clause would not work for computed values.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1029)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad plans could be
    generated for queries with outer joins having IS NULL clauses, depending on the order of the search
    predicates.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1020)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash at
    run-time when an explicit MERGE plan was specified to override one that would have used a few JOIN
    phrases instead.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1017)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Windows service
    attachments using the Xnet protocol would fail when Classic had been started with the -x -i (Xnet and TCP/IP)
    parameters set.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1011)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    an application tried to connect to it via an InterBase version of gds32.dll.</para>
    <para><emphasis>fixed by A. Peshkov, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1010)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash if
    an executing DDL statement raised an exception.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1006)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rollback or garbage
    collection would cause an access violation (segfault) if an updated table had an expression index defined by a
    subquery.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1005)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A DISTINCT query that
    specifed NULLS LAST in an ORDER BY clause would return NULLs in the wrong position.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-1004)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conditions could occur
    where the error <quote>Context already in use (BLR error)</quote> would be wrongly thrown when accessing
    explicit cursors in PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-997)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An old bug with indices on a
    character column with a COLLATE attribute became more visible and made it impossible to upgrade the database
    from ODS 10.1 to ODS 11.  The restore would wrongly report the error <quote>internal gds software
    consistency check (index key too big (nnn))</quote>.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-988)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>On Linux, using the 32-bit
    Superserver with the old threading model, the server would repeatedly crash.</para>
    <para>Due to a bug in some versions of glibc, errno contained garbage after sem_timedwait().  Obviously, a
    clean fix is not in order.  However, considering that people often try to use Firebird with such buggy
    versions and tend to blame Firebird for the problem, and that upgrading glibc is not trivial operation
    for many, a hack has been done to the body of the class semaphore. It now works correctly with both
    the normal and the broken versions of glibc.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-984)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using the Windows client (
    fbclient.dll) to open a database connection was changing the security descriptor of the process that called
    the library functions, making it impossible for other processes to share handles with synchonization objects
    or with other handles.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-966)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Socket binding for events
    exhibited bugs whereby the <emphasis>setsockopt</emphasis> call in inet.cpp was using an uninitialised
    variable and did not handle errors properly. It resulted in <quote>INET/inet_error: bind errno = 10048</quote>
    errors reported in the log whenever clients bound to database events.</para>
    <para><emphasis>fixed by P. Beach</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-959)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gstat would not work using
    the localhost connection string.</para>
    <para>Since v1.5, it has been possible to run gstat using a pseudo-remote connection string
    (localhost:&lt;path&gt;) but it was broken in v2.0. </para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-952)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using a BLOB in an
    expression index would cause an access violation (segfault).</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-888)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of people reported
    getting the <quote>Object in use</quote> when attempting to alter, recreate, replace or drop a stored procedure
    or trigger whilst the existing trigger or SP was in use.  It was not a bug, per se, but an intentional
    restriction.</para>
    <para>The restriction has been removed (reverted to 1.5 behaviour).  Thus it is again possible to perform
    these types of DDL operations on <quote>live</quote> objects, and incur the same <quote>window of
    unpredictable effect</quote> for Classic users as in previous versions.</para>
    <para><emphasis>Reversion done by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section><!-- Level 2 -->

    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <!-- V.2.0 -->
    <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    <section id="bug-200"><!-- Level 2 -->
    <title>Firebird 2.0</title>
    <para>The following bugs present in Firebird 1.5 were fixed in v.2.0.  Note that, in many cases,
    the bug-fixes were backported to Firebird 1.5.x sub-releases.</para>

      <section id="bug-engine"><!-- Level 3 -->
      <title>General Engine Bugs</title>

     <para><emphasis>(CORE-911)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Leaving a Classic
     server process idle for a long period while a read-only, Read Committed transaction was active could
     cause segmentation faults/AVs.</para>
     <para><emphasis>fixed by V. Khorsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>(CORE-902)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash
     intermittently during execution of DDL or DML statements.</para>
     <para><emphasis>fixed by V. Khorsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Assignments to columns
     deleted by a concurrent transaction were being improperly allowed.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;invalid
     transaction handle&quot; would be thrown when calling isc_array_lookup_bounds() from multiple threads.</para>
     <para><emphasis>fixed by D. Yemanov</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Heavy concurrent load
     could cause index data corruption.</para>
     <para><emphasis>fixed by V. Khorsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1446987</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>BLOBs could appear to be
     damaged during operations in PSQL, causing a &quot;BLOB not found&quot; error.</para>
     <para><emphasis>fixed by V. Khorsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1434147</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugs with COUNT (DISTINCT
     XXXX) when XXXX was a high integer.</para>
     <para><emphasis>fixed by V. Khorsun</emphasis></para>
     <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>SF #1435997</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug was causing a close
     database error -901 on the embedded server.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1436066</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Adding an index during
    database activity could cause logical errors in structure that GFIX would detect.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few types of
    subqueries were being wrongly treated as variant, causing performance issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Previously, the
    Transaction ID would silently (and dangerously) overflow.  Now it will throw a consistency check when it reaches
    the limit (which is still 2^31).</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Read committed
    transactions would block garbage collection unnecessarily.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The ALL predicate could
    return wrong results.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1404157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DFW was not ready for
    RECREATE TABLE/VIEW</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restored the code which
    replaces ROLLBACK with COMMIT if a transaction has not modified any data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some bugs
    producing wrong statistics:</para>
    <itemizedlist>
      <listitem>
        <para>with relation/index data longer than 2^32 bytes</para>
      </listitem>
      <listitem>
        <para>when the average index key length rounded to an integer value</para>
      </listitem>
    </itemizedlist>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Attaching with the
    isc_dpb_no_garbage_collect option was forcing a sweep.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The system transaction
    was being reported as dead.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would lock up
    after an unsuccessful attach to the security database.</para>
    <para><emphasis>fixed by D. Yemanov, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1076858</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Source of possible
    corruption in Classic server.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1116809</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect data type conversion.
    </para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1111570</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem dropping a table
    having a check constraint referencing more than one column.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Usage of an invalid index
    in an explicit plan caused garbage to be shown in the error message instead of the rejected index name.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #543106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug with ALL keyword.  MORE
    INFO REQUIRED.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>System
    users &quot;AUTHENTICATOR&quot; and &quot;SWEEPER&quot; were lost, causing &quot;SQL SERVER&quot; to be reported
    instead.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Don't rollback prepared 2PC
    sub-transaction. (Description needs clarifying, Vlad!)</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory consumption became
    exorbitant when blobs were converted from strings during request processing. For example, the problem would
    appear when running a script with a series of statements like</para>
    <programlisting>
   insert into t(a,b)
      values(N, &lt;literal_string&gt;);
    </programlisting>
    <para>when b was blob and the engine was performing the conversion internally.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Materialization of BLOBs
    was not invalidating temporary BLOB IDs soon enough.</para>
    <para>A blob is created as an orphan. This blob has a blob id of {0,slot}. It is volatile, meaning that, if the
    connection terminates, it will become eligible for garbage collection. Once a blob is assigned to field in a
    table, it is said to be materialized. If the transaction that did the assignment commits, the blob has an
    anchor in the table and will be considered permanent. Its blob id is {relation_id,slot}.</para>
    <para>In situations where internal code is referencing the blob by its old, volatile blob id, the references
    are &quot;routed&quot; to the materialized blob, until the session is closed.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><emphasis>Solution</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Now, the references to a
    volatile blob are checked and, when there are no more references to it, it is invalidated.</para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conversion from string to
    blob had a memory leak.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750664</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Issues with read-only
    databases and transactions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>When one classic process
    dropped a foreign key and another process was trying to delete master record, the error 'partner index not
    found' would be thrown.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various server bugs</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>eliminated redundant attempts to get an exclusive database lock during shutdown</para></listitem>
    <listitem><para>corrected inaccurate timeout counting</para></listitem>
    <listitem><para>database lock was not being released after bringing database online in the exclusive mode</para></listitem>
    <listitem><para>removed a 5 sec timeout when bringing database online in the shared mode</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1186607</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Foreign key relation
    VARCHAR &lt;-&gt; INT should not have caused an exception.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211325</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed problems with BLOBs in
    external tables.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After an attempt
    to &quot;create view v(c1) as select 1 from v&quot; all clones of the system request would remain active forever.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1191006</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Use of WHERE params in SUM
    would return incorrect results.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750662</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a bug involving
    multiple declaration of blob filters.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #743679</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>FIRST / SKIP was not as well
    implemented as it could be.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CPU load would rise to
    100% when an I/O error caused a rollover to a non-existent shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>&quot;Cannot find record
     fragment&quot; bugcheck could occur during garbage collection on the system tables.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211328</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error reporting cited
    maximum BLOB size wrongly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292007</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Duplicated field names in
    INSERT and UPDATE statements were getting through.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The SQL string was being
    stored truncated within the RDB$*_SOURCE columns in some cases</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Broken implementation of
    the MATCHES predicate in GDML</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1404215</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column dependencies were
    not being stored for views.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1191206</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A few constraint issues.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #609538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Alter Index on a Foreign
    Key index should cause an exception and it did, but the error message was not appropriate.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF bug #1175157</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An error in the thread
    scheduler was causing the server to lock up.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
      <listitem>
        <para>Improper thread data operations were occurring during the protocol port cleanup</para>
      </listitem>
      <listitem>
        <para>Transaction rollback and attachment cleanup for broken TCP connections was faulty</para>
      </listitem>
    </orderedlist>
    <para><emphasis>fixed by V. Khorsun, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A wrong error message was
    decoded when firebird.msg was missing or outdated.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Buffer overflows inside
    the BLR-&gt;ASCII blob filter were causing memory corruption and server crashes.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A successful status vector
    could be reported to the user after a failed DDL operation.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Threading issues in the
    DSQL metadata cache were causing unexpected <quote>invalid transaction handle</quote> errors under load.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong results would be
    returned by the division operation after DDL changes.</para>
    <para><emphasis>Example</emphasis></para>
    <programlisting>
  create table test(fld numeric(18, 2));
  insert into test (fld) values (1);
  commit;
  alter table test alter fld type numeric(18,3);
  select fld/3 from test; -- returns 0.033 instead of expected 0.333
    </programlisting>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1184099</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect padding was
    exhibited when using character set OCTETS.</para>
    <para><emphasis>fixed by C. Valderrama, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Unexpected errors were
    occurring because of improperly handled dead record versions created by the system transaction during DDL
    operations.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223060</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Processing of the GREATER-THAN
    operator was too slow.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CHECK constraints were not
    SQL-compliant with regard to the handling of NULL.  Until now, if NULL were to be allowed, it had to be
    specified explicitly in the constraint definition.  Under the standard, NULL is allowed unless explicitly
    constrained by NOT NULL or CHECK (.. IS NOT NULL).</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <para>The following definition now allows NULL in DEPTNO, where previously it did not:</para>
    <literallayout class="monospaced">
    CHECK (DEPTNO IN (10, 20, 30))
    </literallayout>
    <para><emphasis>fixed by P. Ruizendaal, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to create
    a primary key constraint on a column consisting of NULLs.</para>
    <para><emphasis>Example of Problem</emphasis></para>
    <literallayout class="monospaced">
    create table bug (f1 int not null, f2 int not null);
    insert into bug (f1, f2) values (1, 1);
    commit;
    alter table bug add pk int not null primary key;
    </literallayout>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1334034</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>REVOKE was damaging the
    ACL (Access Control List).</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-se-mgr"><!-- Level 3 -->
    <title>Services Manager</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect encryption of
    password when the Services Manager was invoked by the Embedded client.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-gfix">
    <title>GFix Bugs</title><!-- Level 3 -->

    <para><emphasis>SF #1242106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Shutdown bugs:</para>
    <orderedlist>
    <listitem><para>Incorrect commit instead of rollback during shutdown</para></listitem>
    <listitem><para>Crash or bugcheck during SuperServer shutdown with active attachments</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis> Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash occurred in
    service gfix code when it tried to reattach to a currently unavailable database. Since a service cannot
    interact with the end-user,  an endless loop leads to overflowing the service buffer and causing a crash as
    a result.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level  -->

    <section id="bug-dsql"><!-- Level 3 -->
    <title>DSQL Bugs</title>

    <para><emphasis>SF #1408079</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The parser was not
    validating string literal markers.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The engine would fail to
    parse the SQL ROLE keyword properly.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>EXECUTE PROCEDURE did not check SQL
    permissions at the prepare stage.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #217042</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Weird SQL constructions are not
    always properly validated.</para>
    <para><emphasis>Partly fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1108909</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>View could be created without
    rights on a table name like &quot;a b&quot;</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #512975</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clear embedded spaces and
    CR+LF before DEFAULT clauses when storing them in system tables</para>
    <para><emphasis>Implemented by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #910423</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Anomaly with ALTER TABLE
    altering a column's type to VARCHAR, when determining valid length of the string.</para>
    <programlisting>
  SQL&gt; CREATE TABLE tab ( i INTEGER );
  SQL&gt; INSERT INTO tab VALUES (2000000000);
  SQL&gt; COMMIT;

  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(5);
  Statement failed, SQLCODE = -607
  unsuccessful metadata update
  -New size specified for column I must be at least 11 characters.
    </programlisting>
    <para>i.e., it would need potentially 10 characters for the numerals and one for the negative sign.</para>
    <programlisting>
  SQL&gt; ALTER TABLE tab ALTER i TYPE VARCHAR(9);
    </programlisting>
    <para>This command should fail with the same error, but it did not, which could later lead to unreadable
    data:</para>
    <programlisting>
  SQL&gt; SELECT * FROM tab;
  I
  =========
  Statement failed, SQLCODE = -413
  conversion error from string "2000000000"
    </programlisting>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some rounding
    problems in date/time arithmetic.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Line numbers in DSQL
    parser were being miscounted when multi-line literals and identifiers were used.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #784121</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some expressions in outer
    join conditions were causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some dialect-
    specific arithmetic bugs:</para>
    <para><emphasis>Dialect 1</emphasis></para>
    <orderedlist>
    <listitem><para>'1.5' / '0.5' did not work</para></listitem>
    <listitem><para>avg ('1.5') did not work</para></listitem>
    <listitem><para>5 * '1.5' produced an INT result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>sum ('1.5') produced a NUMERIC(15, 2) result instead of DOUBLE PRECISION</para></listitem>
    <listitem><para>- '1.5' did not work</para></listitem>
    </orderedlist>

    <para><emphasis>Dialect 3</emphasis></para>
    <itemizedlist>
    <listitem><para>'1.5' * '0.5' and '1.5' / '0.5' were not forbidden, but they should have been.</para></listitem>
    </itemizedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1250150</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a situation where a
    procedure could not be dropped.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1238104</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Internal sweep report was
    incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1371274</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The infamous <quote>Datatype
    unknown</quote> error when attempting some castings has been eliminated.  It is now possible to use CAST to
    advise the engine about the data type of a parameter.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1292106</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ORDER BY with FOR UPDATE WITH
    LOCK would trash the index.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1368741</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UPPER() was returning wrong
    results.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-psql"><!-- Level 3 -->
    <title>PSQL Bugs</title>

    <para><emphasis>(CORE-921)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A bug in EXECUTE
    STATEMENT implementation could cause a core dump during PSQL execution.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1422471</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A memory leak was exhibited
    in EXECUTE STATEMENT.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ROW_COUNT was getting
    cleared after SUSPEND execution.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1124720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Problem with &quot;FOR EXECUTE
    STATEMENT ... DO SUSPEND;&quot;</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory leakage was
    occurring when selectable stored procedures were called from PSQL or in subqueries.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The wrong error would be
    reported when non-active contexts were accessed in multi-action triggers.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An internal error was
    reported when attempting to pass/return blobs to/from string functions inside PSQL.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-crash"><!-- Level 3 -->
    <title>Crash Conditions</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A crash could occur if
    some bad client passed more than the supported number of remote protocol versions.</para>
    <para><emphasis>fixed by A. Karyakin, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An AV could occur when the
    server was configured to use TCP packets as large as 32 Kb.</para>
    <para><emphasis>fixed by C. Valderrama, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash if a
    positioned UPDATE/DELETE executed via DSQL was referencing a cursor that had already been released.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Certain DDL actions could
     crash the server.</para>
     <para><emphasis>Example of a problem action</emphasis></para>
     <literallayout class="monospaced">
    alter table rdb$relations
      add rdb$garbage varchar(30);
    </literallayout>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An overflow in the plan
    buffer would cause the server to crash.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible server
    lockup/crash when 'RELEASE SAVEPOINT xxx ONLY' syntax is used or when existing savepoint name is reused in
    transaction context</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Rare client crashes caused by
    improperly cleaned XDR packets.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server crash during
    SuperServer shutdown</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1057538</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash if
    the output parameter of a UDF was not the last parameter.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of possible
    server crash conditions had been reported by Valgrind.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when a wrong
    type or domain name was specified when changing the data type for a column.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect accounting of
    attachment pointers used inside the lock structure was causing the server to crash.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, random crashes
    would occur during a restore.</para>
    <para><emphasis>fixed by J. Starkey</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Crash/lock-up with
    multiple calls of isc_dsql_prepare for a single statement.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the system year was set too high or too low.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    the stream number exceeded the limit.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when outer
    aggregation was performed and explicit plans were used in subqueries.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECLARE FILTER would
    cause the server to crash.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server would crash when a
    PLAN for a VIEW was specified but no table alias was given.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash during
    the table metadata scan in some cases.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    too big a key was specified for an index retrieval.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    manipulating input DPB due to memory corruption in Parameter Blocks management.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when
    attempting to restore a database backup with corrupted VARCHAR data.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-remote"><!-- Level 3 -->
    <title>Remote Interface Bugs</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP buffer size
    larger than 32 Kb was not being processed correctly.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The NO_NAGLE option was
    working improperly.</para>
    <para><emphasis>fixed by F. Polizo, A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>NO_NAGLE and KEEPALIVE socket options
    were not enabled for CS builds.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1385092</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A TCP/IP connection would
    appear to freeze the Superserver if it was disconnected abnormally while a large packet, e.g. a BLOB or a large
    SQL request, was being passed across the interface.</para>

    <para>This was a long-standing InterBase/Firebird bug in the implementation of the protocol layer for
    Superserver on Windows.  Borland invented two different thread management strategies:  one for TCP/IP and one
    for the other protocols that only Windows supports, i.e. Named Pipes (sometimes referred to
    as <quote>NetBEUI</quote>) and the IPServer local connection.  This bug occurred only with TCP/IP
    connections.</para>

    <para>For TCP/IP, a multiplexing loop (main server loop), which is common for all ports, receives API
    packets from clients, creates requests and sends them to threads for processing.  When it detects an incoming
    packet, it starts to receive it from the port.</para>

    <para>Before this fix, it needed the entire API packet to come at once.  However, in the course of converting
    a packet to a request (done by the XDR protocol), in cases where the size of the API packet happened to be
    greater than that of the network packet, the server had to wait for the next network packet from the port.</para>

    <para>At this point, ports were being scanned for incoming packets only by calculating (timeout - interval
    since last packet received) for each port in the loop.  If the next packet from a particular port did not come,
    for example because of an unplugged jack, the only way to interrupt this receive and allow the main server
    loop to carry on processing the other ports was to wait for the keepalive TCP timeout to elapse on the abandoned
    connection.  Given that the default keepalive value is two hours, it would appear that the Superserver
    was <quote>hung</quote>.</para>

    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1260310</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nessus vulnerability scanning
    could cause the server to drop connections.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1065511</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Clients on Windows XP SP2
    were slow connecting to a Linux server.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #571026</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>INET/INET_connect:
    gethostbyname was not working properly.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223058</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Multi-hop server capability
    was broken.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed memory leak from
    connection pool in isc_database_info.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Database aliases were not
    working in WNET.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Client would crash while
    disconnecting with an active event listener.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The client library would
    not react to environment variables being set via SetEnvironmentVariable().</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-index"><!-- Level 3 -->
    <title>Indexing &amp; Optimization</title>

    <para><emphasis>SF #459059D</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Index breaks = ANY result.
    MORE INFO REQUIRED.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Ambiguous queries were still
    possible under some conditions.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #735720</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SELECT ... STARTING WITH :v
    was wrong when :v = ''</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    negative dates, i.e. those below Julian date [zero], when stored in indices.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1211354</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Redundant evaluations were
    occurring in COALESCE.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error &quot;index key too
    big&quot; would occur when creating a descending index.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242982</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bug in compound index key
    mangling.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 3 -->

    <section id="bug-vulnerabilities"><!-- Level 3 -->
    <title>Vulnerabilities</title>

    <para><emphasis>SF #1466193</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Semaphore array`s
    permissions in fb_lock_mgr were 0666 - i.e., anyone could lock them and block all subsequent queries.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Possible buffer overflow
    in WNET.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Several buffer overflows
    were fixed.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1155520</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed a vulnerability that
    could make it possible for a user who was neither SYSDBA nor owner to create a database that would overwrite an
    existing database.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-isql"><!-- Level 3 -->
    <title>ISQL Bugs</title>

    <para><emphasis>SF #781610</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comments in ISQL using '--'
    were causing problems.</para>
    <para><emphasis>fixed by J. Bellardo, B. Rodriguez Samoza</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

     <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL_disconnect_database
    was overwriting the Quiet flag permanently.</para>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1208932</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SHOW GRANT did not
    distinguish object types.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #494981</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bad exception report.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #450404</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ISQL would uppercase role in
    the command line.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Various, not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Fix for the -b (Bail On Error) option when SQL commands are issued and no db connection
    exists yet.</para></listitem>
    <listitem><para>Applied Miroslav Penchev's patch for bug with -Q always returning 1 to the operating system,
    discovered by Ivan Prenosil.</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by M. Penchev, C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata extraction for
    triggers, check constraints and views with check option was wrong.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-intl">
    <title>International Character Set Bugs</title>

    <para><emphasis>SF #1016040</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Missing external libraries
    would cause an engine exception.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <orderedlist>
    <listitem><para>Charset/collation issues for expression-based view columns</para></listitem>
    <listitem><para>Lost charset/collation for local PSQL variables</para></listitem>
    </orderedlist>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Comparisons between
    strings in NONE and another character set would cause an error.</para>
    <para><emphasis>fixed by D. Yemanov, A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1244126</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There was a problem updating
    some text BLOBs when connected with character set NONE.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1242379</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Applying a collation could
    change a VARCHAR's length</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-sqlprivs"><!-- Level 3 -->
    <title>SQL Privileges</title>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Permissions were not being
    checked for view columns.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Privileges granted to
    procedures/triggers/views were being preserved after the object had been dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Column-level SQL privileges
    were being preserved after the affected column was dropped.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #223128</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SYSDBA could grant
    non-existent roles</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

     <section id="bug-udf">
    <title>UDF Bugs</title><!-- Level 3 -->

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were thread safety
    issues in datetime functions of the FBUDF library.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The UDF AddMonth() in the UDF
    library FBUDF had a bug that displayed itself when the calculation rolled the month past the end of the year.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Diagnostics when a UDF
    module was  missing/unusable needed improvement. </para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were some problems
    with the mapping of UDF arguments to parameters.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF arguments were being
    prepared/optimized twice.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #544132, #728839</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Nulls handling in
    UDFs was causing problems.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UDF access checking was
    incorrect.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-gbak"><!-- Level 3 -->
    <title>gbak</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>There were issues with
    restoring if indexes used in explicit plans inside PSQL code had been dropped.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> could not restore a
    database containing broken foreign keys.</para>
    <para>Now, the restore continues to run, the user gets a diagnostic indicating which FK caused the problem.
    The affected index becomes inactive and, after restore, the database is left in shutdown state.</para>
    <para><emphasis>fixed by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak</emphasis> would stall when
    used via the Services Manager and an invalid command line was passed.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A computed column of a
    blob or array type would zero values in the first column of the table being restored.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Fixed some backup issues with
    stream BLOBs that caused them to be truncated under some conditions.</para>
    <para><emphasis>fixed by N. Samofatov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Interdependent views
    caused problems during the restore process.</para>
    <para><emphasis>fixed by A. Brinkman</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #750659</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>If you want to start a fresh
    db, you should be able to restore a backup done with the metadata-only option. Generator values were resisting
    metadata-only backup and retaining latest values from the live database, instead of resetting the generators to
    zero.</para>
    <para><emphasis>fixed by C. Valderrama, D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #908319</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In v.1.5, wrong error
    messages would appear when using <emphasis>gbak</emphasis> with service_mgr.</para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1122344</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>gbak -kill</emphasis> option would drop
    an existing shadow.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><emphasis>
    gbak</emphasis> was adding garbage
    bytes to the SPB when called in the -se[rvice_mgr] mode.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes, C. Valderrama, V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->

    <section id="bug-gpre"><!-- Level 3 -->
    <title>gpre</title>

    <para><emphasis>SF #504978</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre variable names were
    being truncated.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #527677</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre &quot;ANSI85 compatible
    COBOL&quot; switch was broken.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103666</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was using inconsistent
    lengths</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103670</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre would invalidate a
    quoted cursor name after it was opened.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103683</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre was not checking the
    length of the DB alias.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>SF #1103740</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre did not detect duplicate
    quoted cursor names</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>gpre could not generate
    more than 32,000 identifiers.</para>
    <para><emphasis>fixed by A. Harrison</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    </section><!-- Level 3 -->

    <section id="bug-gstat"><!-- Level 3 -->
    <title>gstat</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Error output by
    <emphasis>gstat</emphasis> on Windows 32 was incorrect.</para>
    <para><emphasis>fixed by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 3 -->

    <section id="bug-lockprint"><!-- Level 3 -->
    <title>fb_lock_print</title>
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>fb_lock_print could fail,
    with an exception message <quote><emphasis>the requested operation cannot be performed on a file with a
    user-mapped section open.</emphasis></quote></para>
    <para><emphasis>fixed by V. Khorsun</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section>

    <section id="bug-linux-install"><!-- Level 3 -->
    <title>Linux Installs</title>
    <para><emphasis>SF #1011401</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The start/stop script was
    breaking halt/reboot on Slackware.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 3 -->

    <section id="bug-cleanup"><!-- Level 3 -->
    <title>Code Clean-up</title>
    <para><emphasis>(Not a bug)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>-L[ocal] command-line switch
    for SS on Win32 is gone</para>
    <para><emphasis>by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>Assorted clean-up</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    <itemizedlist>
    <listitem><para>Extensive, ongoing code cleanup and style standardization</para></listitem>
    <listitem><para>Broken write-ahead logging (WAL) and journalling code is fully cleaned out</para></listitem>
    </itemizedlist>
    <para><emphasis>by C. Valderrama</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
    </section><!-- Level 3 -->

    <section id="bug-platform">
    <title>Platform-specific</title><!-- Level 3 -->
    <para><emphasis>Not registered</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(SuSE Linux) Service would not
    restart correctly on SuSE Linux.</para>
    <para><emphasis>by A. Peshkov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(CORE-839)</emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>(Windows)
    Instclient.exe failed to install gds32.dll over an existing version from V1.5.1 or later.</para>
    <para><emphasis>fixed by P. Reeves</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section><!-- Level 3 -->
  </section><!-- Level 2 -->
</section><!-- Level 1 -->
<!--
</chapter>
-->
