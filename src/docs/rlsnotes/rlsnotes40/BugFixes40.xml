<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<chapter id="rnfb40-bug">
  <title>Bugs Fixed</title>

<!--
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-nnnn">CORE-nnnn</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        <para><emphasis>fixed by A. Person</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
-->

  <!-- V.4.0 Beta 2 Release -->
  <section id="bug-400b2"><!-- Level 1 -->
    <title>Firebird 4.0 Beta 2 Release: Bug Fixes</title>
    <para>The following bug-fixes since the Beta 1 release are noted:</para>
    <section id="bug-400b2-core"><!-- Level 2 -->
    <title>Core Engine</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6290">CORE-6290</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Hex number used at the end of statement
      could read invalid memory and produce wrong values or exceptions. Same fix was backported to
      Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6282">CORE-6282</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data type of MON$ATTACHMENTS.MON$IDLE_TIMER
      and MON$STATEMENTS.MON$STATEMENT_TIMER was defined as TIMESTAMP WITHOUT TIME ZONE, now it's changed
      to TIMESTAMP WITH TIME ZONE.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6281">CORE-6281</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Invalid timestamp errors could happen when
      working with the RDB$TIME_ZONE_UTIL.TRANSITIONS procedure.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6280">CORE-6280</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>MERGE statement could loose parameters
      in the "WHEN [NOT] MATCHED" clause that will never be matched. This could also cause server crashes
      in some situations. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6272">CORE-6272</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Failed attach to a database was not traced.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6266">CORE-6266</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Deleting records from MON$ATTACHMENTS using
      the ORDER BY clause didn't close the corresponding attachments. Same fix was backported to
      Firebird 3.0.6.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6251">CORE-6251</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>UNIQUE CONSTRAINT violation could be
      possible. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6250">CORE-6250</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Signature mismatch error could be raised
      when creating package body on identical packaged procedure header. Same fix was backported to
      Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6248">CORE-6248</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A number of errors could happen when
      database name is longer than 255 characters.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6243">CORE-6243</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>v4 Beta 1 regression happened: the engine
      rejects POSITION element of the SQL2003 CREATE TRIGGER syntax.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6241">CORE-6241</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Values greater than number of days
      between 01.01.0001 and 31.12.9999 (=3652058) could be added or subtracted from DATE.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6238">CORE-6238</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECFLOAT: subtraction Num1 - Num2 would
      lead to the "Decimal float overflow" error if Num2 is specified in scientific notation and is less
      than max double (1.7976931348623157e308).</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6236">CORE-6236</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>RDB$TIME_ZONE_UTIL package had wrong
      privilege defined for PUBLIC.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes, D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6230">CORE-6230</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was impossible to connect to a database
      if security.db reference was removed from databases.conf. Same fix was backported to
      Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6221">CORE-6221</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect implementation of allocFunc()
      for zlib1: memory leak was possible. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6214">CORE-6214</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>tzdata database version was outdated and
      required an update.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6206">CORE-6206</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>VARCHAR of insufficient length was used
      for command SET BIND OF DECFLOAT TO VARCHAR.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6205">CORE-6205</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Improper error was raised for UNION DISTINCT
      with more than 255 columns.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6186">CORE-6186</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Original contents of the column used with
      ENCRYPT() looked as distorted after this call.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6181">CORE-6181</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Usage of "SET DECFLOAT BIND BIGINT,n"
      with result of 11+ digits, would fail with the "Decimal float invalid operation" error.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6166">CORE-6166</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some problems could appear for long object
      names (> 255 bytes).</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6160">CORE-6160</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SUBSTRING of non-text/-blob was described
      to return NONE character set in DSQL.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6160">CORE-6160</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SUBSTRING SIMILAR was described with
      wrong data type in DSQL.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6110">CORE-6110</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>64-bit transaction IDs were not stored
      properly inside the status vector.</para>
      <para><emphasis>fixed by I. Eremin</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6080">CORE-6080</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Attempt to drop an existing user
      could randomly fail with error "336723990 : record not found for user".</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6046">CORE-6046</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect time zone parsing could read
      garbage in memory.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6034">CORE-6034</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The original time zone was not set to
      the current time zone at the routine invocation.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6033">CORE-6033</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SUBSTRING(CURRENT_TIMESTAMP) would fail
      with a "string truncation" error.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5957">CORE-5957</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Adding a numeric quantifier as a bound
      for repetition of expression inside SIMILAR TO could lead to an empty resultset.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5931">CORE-5931</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SIMILAR TO did not return the result
      when an invalid pattern was used.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5892">CORE-5892</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SQL SECURITY DEFINER context was not
      properly evaluated for monitoring tables.</para>
      <para><emphasis>fixed by R. Simakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5697">CORE-5697</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conversion from numeric literals to
      DECFLOAT would add the precision that is not originally present.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5696">CORE-5696</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Conversion from zero numeric literals
      to DECFLOAT would lead to the incorrect result.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5664">CORE-5664</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SIMILAR TO was substantially (500-700x)
      slower than LIKE on trivial pattern matches with VARCHAR data.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4874">CORE-4874</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server could perform a SIMILAR TO
      matching infinitely.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4739">CORE-4739</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Accent insensitive comparison:
      diacritical letters with DIAGONAL crossing stroke failed for non-equality conditions with their
      non-accented forms.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-3858">CORE-3858</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Very poor performance of SIMILAR TO for
      some arguments.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-3380">CORE-3380</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was possible to read from the newly
      created BLOB. It's prohibited now.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-400b2-crashes"><!-- Level 2 -->
      <title>Server Crashes/Hang-ups</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6254">CORE-6254</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server could crash when using
      SET TRANSACTION and ON TRANSACTION START trigger uses EXECUTE STATEMENT against current transaction.
      Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6253">CORE-6253</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Locked fb_lock file could cause a server
      crash. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6251">CORE-6251</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash when built-in
      function LEFT or RIGHT is missing its 2nd argument. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6231">CORE-6231</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server would crash during shutdown of XNET
      connection to a local database when events have been registered. Same fix was backported to
      Firebird 3.0.6.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6224">CORE-6224</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Server could crash due to double destruction
      of the rem_port object. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6218">CORE-6218</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>COUNT(DISTINCT DECFLOAT_FIELD) could
      cause the server to crash when there are duplicate values in this field.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6217">CORE-6217</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Dangerous (possibly leading to a crash)
      work with pointer: delete ptr; ptr=new ;.</para>
      <para><emphasis>fixed by D. Kovalenko, A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5972">CORE-5972</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>External engine trigger would crash the
      server if the table has computed fields. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4893">CORE-4893</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SIMILAR TO would cause a server crash
      when matching a blob with size >2GB to a string literal.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-400b2-api"><!-- Level 2 -->
    <title>API/Remote Interface</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6283">CORE-6283</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Result of isNullable() in message metadata,
      returned by metadata builder, did not match datatype set by setType() in metadata builder.
      Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6227">CORE-6227</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>isc_info_svc_user_dbpath was always
      returning an alias of the main security database. Same fix was backported to Firebird 3.0.6.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6212">CORE-6212</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Authentication plugin on the server could
      read garbage data from the client instead of the empty packet.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6207">CORE-6207</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was impossible to complile Firebird.pas
      with FPC.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-400b2-builds">
      <title>Build Issues</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6174">CORE-6174</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>ibase.h was missing from the nightly builds.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6170">CORE-6170</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Installation on CentOS 8 failed because
      of the mismatched version of LibTomMath and LibNCurses libraries.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6061">CORE-6061</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>It was impossible to build the server with
      the --with-builtin-tommath option.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6056">CORE-6056</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Overflow warnings appeared when building
      some collations.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6019">CORE-6019</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wire compression did not work without
      the MSVC 2010 runtime package installed.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5691">CORE-5691</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>File description of the Firebird executables
      was not specific.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5445">CORE-5445</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Installation failed on Debian
      Stretch/Testing due to incorrect version of the LibTomMath library.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

    <section id="bug-400b2-utilities"><!-- Level 2 -->
      <title>Utilities</title>

      <section id="bug-400b2-utilities-isql"><!-- Level 3 -->
        <title>isql</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6262">CORE-6262</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SHOW DOMAIN/TABLE did not display
        the character set of system objects.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6260">CORE-6260</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Warnings were not always displayed in ISQL.
        Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6211">CORE-6211</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Command "ISQL -X" could not extract the
        ROLE name when using a multi-byte charset for the connection.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6116">CORE-6116</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Metadata script extracted with ISQL from
        a database restored from a v2.5 backup was invalid if some table has COMPUTED BY fields. Same fix
        was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6044">CORE-6044</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some issues were noticed due to the
        increased SQL identifier length.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-400b2-utilities-gbak"><!-- Level 3 -->
        <title>gbak</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6265">CORE-6265</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Existing mapping rules were removed by
        the backup/restore cycle. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6233">CORE-6233</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Wrong dependencies of stored function on
        view were created after backup/restore. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6208">CORE-6208</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>CREATE DATABASE permission would disappear
        from security.db after the backup/restore cycle. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6130">CORE-6130</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Creating backup to STDOUT using the
        service manager was broken. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-6071">CORE-6071</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Restoring an encrypted backup of a
        SQL dialect 1 database would fail.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5976">CORE-5976</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GBAK multi-database file restore used
        wrong minimum number of pages for the first database file.</para>
        <para><emphasis>fixed by M. Rotteveel</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-2251">CORE-2251</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>GBAK doesn't return the error code in
        some cases. Same fix was backported to Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-400b2-utilities-gfix"><!-- Level 3 -->
        <title>gfix</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5364">CORE-5364</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><code>gfix -online normal</code> did not
        raise an error when there was another SYSDBA-owned session open. Same fix was backported to
        Firebird 3.0.6.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>
 
    </section>
    
  </section>

  <!-- V.4.0 Beta 1 Release -->
  <section id="bug-400b1"><!-- Level 1 -->
    <title>Firebird 4.0 Beta 1 Release: Bug Fixes</title>
    <para>The following bug-fixes since the Alpha release are noted:</para>
    <section id="bug-400b1-core"><!-- Level 2 -->
    <title>Core Engine</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5986">CORE-5986</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Evaluation of NULL IS [NOT] FALSE | TRUE
      was incorrect.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5985">CORE-5985</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression: ROLE was not being passed to
      ES/EDS: specifying it in the statement was ignored.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5982">CORE-5982</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An error involving read permission for
      a BLOB field was being thrown when the BLOB was an input or output parameter for a
      procedure.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by D. Starodubov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5974">CORE-5974</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>SELECT DISTINCT with a
      decfloat/timezone/collated column was producing wrong results.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5973">CORE-5973</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Improvement: Fixed-point overflow in 
      a DOUBLE PRECISION value converted from DECFLOAT is now handled properly.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5965">CORE-5965</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The optimizer was choosing a less
      efficient plan in Fb4 and Fb3 than the FB2.5 optimizer.  Same fix was backported to Firebird
      3.0.5.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5959">CORE-5959</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird would return the wrong time
      after a change of time zone.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5950">CORE-5950</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Deadlock could occur when attaching to
      a bugchecked database.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5949">CORE-5949</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck could happen when a read-only 
      database with non-zero linger was set to read-write mode. Same fix was backported to 
      Firebird 3.0.5.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5935">CORE-5935</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck 165 (cannot find TIP page).
      Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5930">CORE-5930</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Bugcheck with message <quote>incorrect
      snapshot deallocation - too few slots</quote>. </para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5918">CORE-5918</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory pool statistics were inaccurate.
      Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5896">CORE-5896</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A NOT NULL constraint was not being
      synchronized after the column was renamed.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5785">CORE-5785</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An ORDER BY clause on a compound index
      could disable usage of other indices.  Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5871">CORE-5871</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Incorrect caching of the result of 
      a subquery result in a procedure call from a SELECT query.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5862">CORE-5862</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>RDB$CHARACTER_LENGTH in RDB$FIELDS 
      was not being populated when the column was a computed VARCHAR without an explicit type.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5750">CORE-5750</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Date-time parsing needed
      strengthening.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5728">CORE-5728</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The field subtype of DEC_FIXED columns
      was not being returned by <code>isc_info_sql_sub_type</code>.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5726">CORE-5726</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The error message when inserting a value 
      exceeding the maximum value of DEC_FIXED decimal was unclear.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5717">CORE-5717</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The literal date/time preface syntax 
      (DATE, TIME or TIMESTAMP prefix before the quoted value) used together with the implict date/time
      literal expressions ('NOW', 'TODAY', etc.) was known to evaluate those expressions in ways that 
      would produce unexpected results, often undetected. This behaviour was considered 
      undesirable&#x2014;the Firebird 4.0 engine and above will now reject them everywhere.</para>
      <para>For details, see <link linkend="rnfb40-compat-sql-prefaced-literals">Prefaced Implicit 
      Date/Time Literals Now Rejected</link> in the Compatibility chapter.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5710">CORE-5710</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Data type declaration DECFLOAT without
      precision should be using a default precision.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5700">CORE-5700</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECFLOAT underflow should yield zero 
      instead of an error.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5699">CORE-5699</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>DECFLOAT should not throw exceptions when +/-NaN, 
      +/-sNaN and +/-Infinity is used in comparisons.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5646">CORE-5646</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A parse error when compiling a statement
      would cause a memory leak until the attachment was disconnected.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5612">CORE-5612</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>View operations (create, recreate or drop)
      were exhibiting gradual slow-down.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5611">CORE-5611</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Memory consumption for prepared statements
      was higher.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5593">CORE-5593</ulink>) 
      and also CORE-5518
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The system function <code>RDB$ROLE_IN_USE</code>
      could not take long role names.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5480">CORE-5480</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A SUBSTRING start position smaller 
      than 1 should be allowed.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-1592">CORE-1592</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Altering procedure parameters could lead 
      to an unrestorable database.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>
    
    <section id="bug-400b1-crashes"><!-- Level 2 -->
      <title>Server Crashes/Hang-ups</title>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5980">CORE-5980</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird would crash due to concurrent
      operations with expression indices. Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5972">CORE-5972</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>External engine trigger could crash
      the server if the table had a computed field.</para>
      <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>      

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5943">CORE-5943</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could crash while preparing 
      a query with both DISTINCT/ORDER BY and a non-field expression in the select list. Same fix was 
      backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by D. Yemanov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5936">CORE-5936</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The server could segfault at the end 
      of a database backup.</para>
      <para><emphasis>fixed by V. Khorsun</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>


    </section>

    <section id="bug-400b1-security"><!-- Level 2 -->
      <title>Security</title>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5927">CORE-5927</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>With some non-standard authentication
      plugins, traffic would remain unencrypted despite providing the correct crypt key. Same fix was 
      backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5926">CORE-5926</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>An attempt to create a mapping with 
      a non-ASCII user name that was encoded in a SINGLE-BYTE codepage (WIN1251) would lead to a 
      'Malformed string' error. Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5861">CORE-5861</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>New objects and some old objects in
      a database could not be granted the GRANT OPTION via role privileges.</para>
      <para><emphasis>fixed by R. Simakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5657">CORE-5657</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Attended to various UDF-related security 
      vulnerabilities, resulting in aggressive deprecation of support for the use of UDFs as external 
      functions.  See also <link linkend="rnfb40-engine-deprecated-udfs">External Functions (UDFs) 
      Feature Deprecated</link> in the the chapter Changes to the Firebird Engine and 
      <link linkend="rnfb40-compat-udfs">Deprecation of External Functions (UDFs)</link> in the 
      Compatibility chapter.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5639">CORE-5639</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Mapping rule using WIN_SSPI plugin: Windows 
      user group conversion to Firebird role was not working.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5518">CORE-5518</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Firebird UDF <code>string2blob()</code>
      could allow remote code execution.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>
    
    <section id="bug-400b1-utilities"><!-- Level 2 -->
      <title>Utilities</title>
      
      <section id="bug-400b1-utilities-gbak"><!-- Level 3 -->
        <title>gbak</title>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5855">CORE-5855</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A database with generators containing space
        characters in their names could not be backed up.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
        
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5800">CORE-5800</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>After backup/restore, expression indexes
        on computed fields would not work properly.  Same fix was backported to Firebird 3.0.5.</para>
        <para><emphasis>fixed by D. Yemanov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5637">CORE-5637</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A string right truncation error was
        occurring on restore of the security database.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

      </section>

      <section id="bug-400b1-utilities-gpre"><!-- Level 3 -->
        <title>gpre</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5934">CORE-5834</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function><code>gpre_boot</code> was failing
        to link using <filename>cmake</filename>, giving undefined reference 'dladdr' and 'dlerror'.
        Same fix was backported to Firebird 3.0.5.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>
 
      <section id="bug-400b1-utilities-trace"><!-- Level 3 -->
        <title>trace</title>
        <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5907">CORE-5907</ulink>)
        </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Regression: Trace could not be
        launched if its 'database' section contained a regular expression pattern with curvy brackets
        to enclose a quantifier.  Same fix was backported to Firebird 3.0.5.</para>
        <para><emphasis>fixed by A. Peshkov</emphasis></para>
        <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      </section>
    </section>
    
    <section id="bug-400b1-builds">
      <title>Build Issues</title>
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5989">CORE-5989</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Some build issues involving
      iconv / libiconv 1.15 vs libc / libiconv_open | common/isc_file.cpp. Same fix was backported to
      Firebird 3.0.5.</para>
      <para><emphasis>fixed by A. Peshkov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>
      
      <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5955">CORE-5955</ulink>)
      </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Static linking problem with ld >= 2.31.
      Same fix was backported to Firebird 3.0.5.</para>
      <para><emphasis>fixed by R. Simakov</emphasis></para>
      <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    </section>

  </section>

  <!-- V.4.0 Alpha 1 Release -->
  <section id="bug-400a1"><!-- Level 1 -->

    <title>Firebird 4.0 Alpha 1 Release: Bug Fixes</title>
    <para>The following fixes to pre-existent bugs are noted:</para>

    <para id="fb4a1_trigger_fix"><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5545">CORE-5545</ulink>)</emphasis>
    <function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Using the POSITION parameter with the
    [RE]CREATE TRIGGER syntax would cause an <quote>unknown token</quote> error if
    POSITION was written in the logically correct place, i.e., after the main clauses
    of the statement.  For example, the following should work because POSITION comes
    after the other specifications:
      <programlisting>
  RECREATE TRIGGER T1
  BEFORE INSERT
  ON tbl
  POSITION 1 AS
  BEGIN
    --
  END
      </programlisting>
    </para>
    <para>However, it would exhibit the error, while the following would succeed:
      <programlisting>
  RECREATE TRIGGER T1
  BEFORE INSERT
  POSITION 1
  ON tbl
  AS
  BEGIN
    --
  END
      </programlisting>
    </para>
    <para>The fix makes the first example correct and the second should throw the error.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5454">CORE-5454</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Inserting into an updatable
    view without an explicit column list would fail.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5408">CORE-5408</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>The result of a Boolean expression
    could not be concatenated with a string literal.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5404">CORE-5404</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Inconsistent column and line references
    were being returned in error messages for faulty PSQL definitions.</para>
    <para><emphasis>fixed by A. dos Santos Fernandes</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5237">CORE-5237</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Processing of the <emphasis>include</emphasis>
    clause in configuration files was mishandling dot (.) and asterisk (*) characters in the
    file name and path of the included file.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5223">CORE-5223</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Double dots in file names for
    databases were prohibited if the <emphasis>DatabaseAccess</emphasis> configuration parameter
    was set to restrict access to a list of directories.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-5141">CORE-5141</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Field definition would allow multiple NOT
    NULL clauses.  For example,
      <literallayout class="monospaced">
  create table t (a integer not null not null not null)
      </literallayout></para>
    <para>The fix makes the behaviour consistent with CREATE DOMAIN behaviour and the example
    will return the error <quote>Duplicate specification of NOT NULL - not supported</quote>.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4985">CORE-4985</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>A non-privileged user could implicitly
    count records in a restricted table.</para>
    <para><emphasis>fixed by D. Yemanov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4701">CORE-4701</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>Garbage collection for indexes and BLOBs
    was not taking data in the Undo log into account.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4483">CORE-4483</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In PSQL, data changed by executing a
    procedure was not visible to the WHEN handler if the exception occurred in the called procedure.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

    <para><emphasis>(<ulink url="http://tracker.firebirdsql.org/browse/CORE-4424">CORE-4424</ulink>)
    </emphasis><function>&nbsp;&nbsp;&nbsp;&nbsp;</function>In PSQL, execution flow would roll back to
    the wrong savepoint if multiple exception handlers were executed at the same level.</para>
    <para><emphasis>fixed by D. Sibiryakov</emphasis></para>
    <para><function>&nbsp;&nbsp;&nbsp;&nbsp;~ ~ ~ &nbsp;&nbsp;&nbsp;&nbsp;</function></para>

  </section>
</chapter>
